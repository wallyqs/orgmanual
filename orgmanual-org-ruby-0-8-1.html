<p class="title">Org Mode</p>
<h1><span class="heading-number heading-number-1">1</span> Introduction</h1>{{{cindex(introduction)}}}
<h2><span class="heading-number heading-number-2">1.1</span> Summary</h2>{{{cindex(summary)}}}
<p>Org is a mode for keeping notes, maintaining TODO lists, and doing
  project planning with a fast and effective plain-text system.</p>
<p>Org develops organizational tasks around NOTES files that contain
  lists or information about projects as plain text. Org is implemented
  on top of Outline mode, which makes it possible to keep the content of
  large files well structured. Visibility cycling and structure editing
  help to work with the tree. Tables are easily created with a built-in
  table editor. Org supports TODO items, deadlines, timestamps, and
  scheduling. It dynamically compiles entries into an agenda that
  utilizes and smoothly integrates much of the Emacs calendar and diary.
  Plain text URL-like links connect to websites, emails, Usenet
  messages, BBDB entries, and any files related to the projects. For
  printing and sharing of notes, an Org file can be exported as a
  structured ASCII file, as HTML, or as an iCalendar file.<sup><a class="footref" name="fnr.1" href="#fn.1">1</a></sup>  It can
  also serve as a publishing tool for a set of linked web pages.</p>
<p>As a project planning environment, Org works by adding metadata to
  outline nodes. Based on this data, specific entries can be extracted
  in queries and create dynamic <i>agenda views</i>.</p>
<p>Org mode contains the Org Babel environment which allows you to work
  with embedded source code blocks in a file, to facilitate code
  evaluation, documentation, and literate programming techniques.</p>
<p>Org&#8217;s automatic, context-sensitive table editor with spreadsheet
  capabilities can be integrated into any major mode by activating the
  minor Orgtbl mode. Using a translation step, it can be used to
  maintain tables in arbitrary file types, for example in LaTeX. The
  structure editing and list creation capabilities can be used outside
  Org with the minor Orgstruct mode.</p>
<p>Org keeps simple things simple. When first fired up, it should feel
  like a straightforward, easy to use outliner. Complexity is not
  imposed, but a large amount of functionality is available when you
  need it. Org is a toolbox and can be used in different ways and for
  different ends, for example:</p>
<ul>
  <li>an outline extension with visibility cycling and structure editing</li>
  <li>an ASCII system and table editor for taking structured notes</li>
  <li>a TODO list editor</li>
  <li>a full agenda and planner with deadlines and work scheduling
    {{{pindex(GTD&#92;\, Getting Things Done)}}}</li>
  <li>an environment in which to implement David Allen&#8217;s GTD system</li>
  <li>a simple hypertext system, with HTML and LaTeX export</li>
  <li>a publishing tool to create a set of interlinked web pages</li>
  <li>an environment for literate programming</li>
</ul>
<p>{{{cindex(FAQ)}}}</p>
<p>There is a <a href="http://orgmode.org">website for Org</a> that provides links to the newest version
  of Org, as well as additional information, frequently asked questions
  (FAQ), links to tutorials, etc.</p>
<p>{{{cindex(print edition)}}}</p>
<p>Version 7.3 of this manual is available as a <a href="http://www.network-theory.co.uk/org/manual/">paperback book from
  Network Theory Ltd.</a></p>
<p>{{{page}}}</p>
<h2><span class="heading-number heading-number-2">1.2</span> Installation</h2>
<p>{{{cindex(installation)}}}
  {{{cindex(XEmacs)}}}</p>
<p><b>Important:</b> If you have the version of Org that comes with Emacs or
  as a XEmacs package, please skip this section and go directly to
  <a href="Activation">Activation</a>. If you downloaded Org as an ELPA package, please read the
  instructions on the <a href="http://orgmode.org/elpa.html">Org ELPA page</a>. To see what version of Org (if any)
  is part of your Emacs distribution, type {{{kbd(M-x org-version)}}}.<sup><a class="footref" name="fnr.2" href="#fn.2">2</a></sup></p>
<p>Installation of Org mode uses a build system, which is described in more
  detail on <a href="http://orgmode.org/worg/dev/org-build-system.html">Worg</a>.</p>
<p>If you have downloaded Org from the Web as a distribution {{{file(.zip)}}} or
  {{{file(.tar.gz)}}} archive, take the following steps to install it:</p>
<ul>
  <li>Unpack the distribution archive</li>
  <li>Change into (<code>cd</code>) the Org directory</li>
  <li>Run <code>make help config</code> and then check and edit the file
    {{{file(local.mk)}}} if the default configuration does not match
    your system
    <ul>
      <li>Set the name of the Emacs binary (likely either
        {{{file(emacs)}}} or {{{file(xemacs)}}}), and the paths to the
        directories where local Lisp and Info files will be installed</li>
      <li>If the Emacs binary is not in your path, give the full path to
        the executable</li>
      <li>Avoid spaces in any path names</li>
    </ul>
  </li>
  <li>Run <code>make config</code> again to check the configuration</li>
  <li>Run <code>make install</code> or <code>sudo make install</code> to build and install Org
    mode on your system</li>
</ul>
<p>If you use a cloned Git repository, then the procedure is slightly
  different. The following description assumes that you are using the
  <code>master</code> branch.<sup><a class="footref" name="fnr.3" href="#fn.3">3</a></sup> You could also use the <code>maint</code> branch instead,
  where the release versions are published, just replace <code>master</code> with
  <code>maint</code> in the description below.</p>
<ul>
  <li>Change into (<code>cd</code>) the Org repository</li>
  <li>Run <code>git checkout master</code> to switch to the <code>master</code> branch of the
    Org repository</li>
  <li>Run <code>make help</code> and then check and edit the file {{{file(local.mk)}}}
    <ul>
      <li>You must set the name of the Emacs binary
        (likely either {{{file(emacs)}}} or {{{file(xemacs)}}}), and the
        paths to the directories where local Lisp and Info files will be
        installed</li>
      <li>If the Emacs binary is not in your path, you must give
        the full path to the executable</li>
      <li>Avoid spaces in any path names</li>
    </ul>
  </li>
  <li>Run <code>make config</code> to check the configuration</li>
  <li>Optionally run <code>make test</code> to build Org mode and then run the full
    test suite</li>
  <li>Run <code>make update2</code> or <code>make up2</code> to update the Git repository and
    build and install Org mode. The latter invocation runs the
    complete test suite before installation and installs only if the
    build passes all tests</li>
</ul>
<p>If you don&#8217;t have access to the system-wide directories and you don&#8217;t
  want to install somewhere into your home directory, you can run Org
  directly from the distribution directory or Org repository by
  compiling Org mode in place:</p>
<ul>
  <li>Change into (<code>cd</code>) the Org repository</li>
  <li>Run <code>git checkout master</code> to switch to the <code>master</code> branch of the
    Org repository</li>
  <li>Run <code>make compile</code></li>
</ul>
<p>Last but not least you can also run Org mode directly from an Org repository
  without any compilation.  Simply replace the last step in the recipe above
  with <code>make uncompiled</code>.</p>
<p>Then add the following line to {{{file(.emacs)}}}:</p>
<pre class="src src-emacs-lisp">
(add-to-list 'load-path &quot;~/path/to/orgdir/lisp&quot;)
</pre>
<p>{{{noindent}}}
  If you plan to use code files from the {{{file(contrib)}}} subdirectory without
  compiling them, do a similar step for this directory:</p>
<pre class="src src-emacs-lisp">
(add-to-list 'load-path &quot;~/path/to/orgdir/contrib/lisp&quot; t)
</pre>
<p>If you want to include those files with the build and install, please
  customize the variable <code>ORG_ADD_CONTRIB</code> instead in your
  <code>local.mk</code> file. For more details please see this
  <a href="http://orgmode.org/worg/dev/org-build-system.html#sec-4-1-2">description on Worg</a>.</p>
<p>Installing Info files is system dependent, because of differences in
  the {{{file(install-info)}}} program. The Info documentation is
  installed together with the rest of Org mode. If you don&#8217;t install Org
  mode, it is possible to install the Info documentation separately if you
  have install-info on your system.<sup><a class="footref" name="fnr.4" href="#fn.4">4</a></sup></p>
<p>The command to do this is:</p>
<pre class="example">
make install-info
</pre>
<p>Do not forget to activate Org as described in the following section.
  {{{page}}}</p>
<h2><span class="heading-number heading-number-2">1.3</span> Activation</h2>{{{cindex(activation)}}}
  {{{cindex(autoload)}}}
  {{{cindex(ELPA)}}}
  {{{cindex(global key bindings)}}}
  {{{cindex(key bindings&#92;\, global)}}}
  {{{findex(org-agenda)}}}
  {{{findex(org-capture)}}}
  {{{findex(org-store-link)}}}
  {{{findex(org-iswitchb)}}}
<p>Since Emacs 22.2, files with the {{{file(.org)}}} extension use Org mode by
  default.  If you are using an earlier version of Emacs, add this line to your
  {{{file(.emacs)}}} file:</p>
<pre class="src src-emacs-lisp">
(add-to-list 'auto-mode-alist '(&quot;\\.org\\'&quot; . org-mode))
</pre>
<p>Org mode buffers need font-lock to be turned on - this is the default in
  Emacs.<sup><a class="footref" name="fnr.5" href="#fn.5">5</a></sup></p>
<p>There are compatibility issues between Org mode and some other Elisp
  packages, please take the time to check the list (see <a href="Conflicts">Conflicts</a>).</p>
<p>The four Org commands {{{command(org-store-link)}}},
  {{{command(org-capture)}}}, {{{command(org-agenda)}}}, and
  {{{command(org-iswitchb)}}} should be accessible through global keys
  (i.e., anywhere in Emacs, not just in Org buffers).  Here are
  suggested bindings for these keys, please modify the keys to your own
  liking.</p>
<pre class="src src-emacs-lisp">
(global-set-key &quot;\C-cl&quot; 'org-store-link)
(global-set-key &quot;\C-cc&quot; 'org-capture)
(global-set-key &quot;\C-ca&quot; 'org-agenda)
(global-set-key &quot;\C-cb&quot; 'org-iswitchb)
</pre>
<p>{{{cindex(Org mode&#92;\, turning on)}}}
  With this setup, all files with extension {{{samp(.org)}}} will be put
  into Org mode.  As an alternative, make the first line of a file look
  like this:</p>
<pre class="example">
MY PROJECTS    -*- mode: org; -*-
</pre>
<p>{{{vindex(org-insert-mode-line-in-empty-file)}}}
  {{{noindent}}}
  which will select Org mode for this buffer no matter what the file&#8217;s
  name is. See also the variable
  <code>org-insert-mode-line-in-empty-file</code>.</p>
<p>Many commands in Org work on the region if the region is <i>active</i>. To
  make use of this, you need to have <code>transient-mark-mode</code>
  (<code>zmacs-regions</code> in XEmacs) turned on. In Emacs 23 this is the
  default, in Emacs 22 you need to do this yourself with</p>
<pre class="src src-emacs-lisp">
(transient-mark-mode 1)
</pre>
<p>{{{noindent}}} If you do not like <code>transient-mark-mode</code>, you can
  create an active region by using the mouse to select a region, or
  pressing {{{kbdkey(C-,SPC)}}} twice before moving the cursor.</p>
<h2><span class="heading-number heading-number-2">1.4</span> Feedback</h2>{{{cindex(feedback)}}}
  {{{cindex(bug reports)}}}
  {{{cindex(maintainer)}}}
  {{{cindex(author)}}}
<p>If you find problems with Org, or if you have questions, remarks, or
  ideas about it, please mail to the Org mailing list
  <a href="mailto:emacs-orgmode@gnu.org">mailto:emacs-orgmode@gnu.org</a>. If you are not a member of
  the mailing list, your mail will be passed to the list after a
  moderator has approved it.<sup><a class="footref" name="fnr.6" href="#fn.6">6</a></sup></p>
<p>For bug reports, please first try to reproduce the bug with the latest
  version of Org available&#8212;if you are running an outdated version, it
  is quite possible that the bug has been fixed already. If the bug
  persists, prepare a report and provide as much information as
  possible, including the version information of Emacs ({{{kbdspckey(M-x
  emacs-version,RET)}}}) and Org ({{{kbdspckey(M-x org-version,RET)}}}),
  as well as the Org related setup in {{{file(.emacs)}}}. The easiest
  way to do this is to use the command {{{kbd(M-x
  org-submit-bug-report)}}}, which will put all this information into an
  Emacs mail buffer so that you only need to add your description. If
  you are not sending the Email from within Emacs, please copy and paste
  the content into your Email program.</p>
<p>Sometimes you might face a problem due to an error in your Emacs or
  Org mode setup.  Before reporting a bug, it is very helpful to start
  Emacs with minimal customizations and reproduce the problem.  Doing so
  often helps you determine if the problem is with your customization or
  with Org mode itself.  You can start a typical minimal session with a
  command like the example below.</p>
<pre class="src src-sh">
$ emacs -Q -l /path/to/minimal-org.el
</pre>
<p>However if you are using Org mode distributed with Emacs, a minimal
  setup is not necessary. In that case it is sufficient to start Emacs
  as <code>emacs -Q</code>. The <code>minimal-org.el</code> setup
  file can have contents as shown below.</p>
<pre class="src src-emacs-lisp">
;;; Minimal setup to load latest `org-mode'

;; activate debugging
(setq debug-on-error t
      debug-on-signal nil
      debug-on-quit nil)

;; add latest org-mode to load path
(add-to-list 'load-path (expand-file-name &quot;/path/to/org-mode/lisp&quot;))
(add-to-list 'load-path (expand-file-name &quot;/path/to/org-mode/contrib/lisp&quot; t))
</pre>
<p>If an error occurs, a backtrace can be very useful (see @&lt;a href=&#8221;How to
  create a useful backtrace&#8221;&gt;How to
  create a useful backtrace</a>). Often a small example file helps, along
  with clear information about:</p>
<ol>
  <li>What exactly did you do?</li>
  <li>What did you expect to happen?</li>
  <li>What happened instead?</li>
</ol>
<p>{{{noindent}}} Thank you for helping to improve this program.</p>
<h2><span class="heading-number heading-number-2">1.5</span> How to create a useful backtrace</h2>
<p>{{{cindex(backtrace of an error)}}}</p>
<p>If working with Org produces an error with a message you don&#8217;t
  understand, you may have hit a bug.  The best way to report this is by
  providing, in addition to what was mentioned above, a <i>backtrace</i>.
  This is information from the built-in debugger about where and how the
  error occurred.  Here is how to produce a useful backtrace:</p>
<ol>
  <li>Reload uncompiled versions of all Org mode Lisp files. The
    backtrace contains much more information if it is produced with
    uncompiled code. To do this, use
    {{{kbdspckey(C-u M-x org-reload,RET)}}} or select
    <code>Org -&gt; Refresh/Reload -&gt; Reload Org uncompiled</code> from the menu.</li>
  <li>Go to the <code>Options</code> menu and select <code>Enter Debugger on Error</code>
    (XEmacs has this option in the <code>Troubleshooting</code> sub-menu).</li>
  <li>Do whatever you have to do to hit the error. Don&#8217;t forget to
    document the steps you take.</li>
  <li>When you hit the error, a {{{file(<b>Backtrace</b>)}}} buffer will
    appear on the screen.  Save this buffer to a file (for example
    using {{{kbd(C-x C-w)}}}) and attach it to your bug report.</li>
</ol>
<h2><span class="heading-number heading-number-2">1.6</span> Conventions</h2>
<p>Conventions for typesetting keywords, keybindings, and commands in
  this manual are described.</p>
<h3><span class="heading-number heading-number-3">1.6.1</span> Three types of keywords</h3>
<p>Org mainly uses three types of keywords: TODO keywords, tags and property
  names.  In this manual we use the following conventions:</p>
<dl>
  <dt>TODO, WAITING</dt><dd>TODO keywords are written with all capitals, even if they
    are user-defined.</dd>
  <dt>boss, ARCHIVE</dt><dd>User-defined tags are written in lowercase; built-in
    tags with special meaning are written with all capitals.</dd>
  <dt>Release, PRIORITY</dt><dd>User-defined properties are capitalized; built-in
    properties with special meaning are written with all capitals.</dd>
</dl>
<p>Moreover, Org uses <i>option keywords</i> (like <code>#+TITLE</code> to set the title)
  and <i>environment keywords</i> (like <code>#+BEGIN_HTML</code> to start a <code>HTML</code>
  environment). They are written in uppercase in the manual to enhance
  its readability, but you can use lowercase in your Org files.<sup><a class="footref" name="fnr.7" href="#fn.7">7</a></sup></p>
<h3><span class="heading-number heading-number-3">1.6.2</span> Keybindings and commands</h3>
<p>{{{kindex(C-c a)}}}
  {{{findex(org-agenda)}}}
  {{{kindex(C-c c)}}}
  {{{findex(org-capture)}}}</p>
<p>The manual suggests two global keybindings: {{{kbd(C-c a)}}} for
  <code>org-agenda</code> and {{{kbd(C-c c)}}} for <code>org-capture</code>. These are only
  suggestions, but the rest of the manual assumes that you are using
  these keybindings.</p>
<p>Also, the manual lists both the keys and the corresponding commands
  for accessing a functionality. Org mode often uses the same key for
  different functions, depending on context. The command that is bound
  to such keys has a generic name, like <code>org-metaright</code>.  In the manual
  we will, wherever possible, give the function that is internally
  called by the generic command. For example, in the chapter on document
  structure, {{{kbdkey(M-,right)}}} will be listed to call
  <code>org-do-demote</code>, while in the chapter on tables, it will be listed to
  call <code>org-table-move-column-right</code>.</p>
<h1><span class="heading-number heading-number-1">2</span> Document structure</h1>@@info:@cindex document structure@@
  @@info:@cindex structure of document@@
<p>Org is based on Outline mode and provides flexible commands to
  edit the structure of the document.</p>
<h2><span class="heading-number heading-number-2">2.1</span> Outlines</h2>@@info:@cindex outlines@@
  @@info:@cindex Outline mode@@
<p>Org is implemented on top of Outline mode. Outlines allow a document
  to be organized in a hierarchical structure, which (at least for me)
  is the best representation of notes and thoughts. An overview of this
  structure is achieved by folding (hiding) large parts of the document
  to show only the general document structure and the parts currently
  being worked on. Org greatly simplifies the use of outlines by
  compressing the entire show/hide functionality into a single command,
  @@info:@command{@@org-cycle@@info:}@@, which is bound to the @@info:@key{@@TAB@@info:}@@ key.</p>
<h2><span class="heading-number heading-number-2">2.2</span> Headlines</h2>@@info:@cindex headlines@@
  @@info:@cindex outline tree@@
  @@info:@vindex org-special-ctrl-a/e@@
  @@info:@vindex org-special-ctrl-k@@
  @@info:@vindex org-ctrl-k-protect-subtree@@
<p>Headlines define the structure of an outline tree.  The headlines in Org
  start with one or more stars, on the left margin.<sup><a class="footref" name="fnr.8" href="#fn.8">8</a></sup>  For example:</p>
<pre class="src src-org">
,* Top level headline
,** Second level
,*** Third level
    some text
,*** Third level
    more text
,* Another top level headline
</pre>
<p>@@info:@noindent@@ Some people find the many stars too noisy and would
  prefer an outline that has whitespace followed by a single star as
  headline starters. A setup to realize this is described in the
  section, <a href="Clean view">Clean view</a>.</p>
<p>@@info:@vindex org-cycle-separator-lines@@
  An empty line after the end of a subtree is considered part of it and
  will be hidden when the subtree is folded.  However, if you leave at
  least two empty lines, one empty line will remain visible after folding
  the subtree, in order to structure the collapsed view.  See the
  variable <code>org-cycle-separator-lines</code> to modify this behavior.</p>
<h2><span class="heading-number heading-number-2">2.3</span> Visibility cycling</h2>@@info:@cindex cycling, visibility@@
  @@info:@cindex visibility cycling@@
  @@info:@cindex trees, visibility@@
  @@info:@cindex show hidden text@@
  @@info:@cindex hide text@@
<p>Outlines make it possible to hide parts of the text in the buffer.
  Org uses just two commands, bound to @@info:@key{@@TAB@@info:}@@ and
  @@info:@kbd{@@S-@@info:@key{@@TAB@@info:}@@@@info:}@@ to change the visibility in the buffer.</p>
<p>@@info:@cindex subtree visibility states@@
  @@info:@cindex subtree cycling@@
  @@info:@cindex folded, subtree visibility state@@
  @@info:@cindex children, subtree visibility state@@
  @@info:@cindex subtree, subtree visibility state@@</p>
<dl>
  <dt>@@info:@key{@@TAB@@info:}@@, <code>org-cycle</code></dt><dd>Subtrees can be cycled through three
    states:
    @@info:@kindex TAB@@
    @@info:@findex org-cycle@@
    <pre class="example">
,-&gt; FOLDED -&gt; CHILDREN -&gt; SUBTREE --.
'-----------------------------------'
    </pre>
    <p>@@info:@vindex org-cycle-emulate-tab@@
      @@info:@vindex org-cycle-global-at-bob@@</p>
    <p>By default, the cursor must be on a headline for this to work,
      but this behavior can be modified with the
      <code>org-cycle-emulate-tab</code> option. When the cursor is at the
      beginning of the buffer and the first line is not a headline,
      then @@info:@key{@@TAB@@info:}@@ actually runs global cycling (see
      below).<sup><a class="footref" name="fnr.9" href="#fn.9">9</a></sup> Also, when called with a prefix argument
      (@@info:@kbd{@@C-u @@info:@key{@@TAB@@info:}@@@@info:}@@), global cycling is invoked.</p>
  </dd>
  <dt>@@info:@kbd{@@S-@@info:@key{@@TAB@@info:}@@@@info:}@@ or @@info:@kbd{@@C-u @@info:@key{@@TAB@@info:}@@@@info:}@@, <code>org-global-cycle</code></dt><dd>
    Global cycling: Rotate the entire buffer among the states
    <p>@@info:@cindex global visibility states@@
      @@info:@cindex global cycling@@
      @@info:@cindex overview, global visibility state@@
      @@info:@cindex contents, global visibility state@@
      @@info:@cindex show all, global visibility state@@
      @@info:@kindex C-u TAB@@
      @@info:@kindex S-TAB@@
      @@info:@findex org-global-cycle@@</p>
    <pre class="example">
,-&gt; OVERVIEW -&gt; CONTENTS -&gt; SHOW ALL --.
'--------------------------------------'
    </pre>
    <p>When @@info:@kbd{@@S-@@info:@key{@@TAB@@info:}@@@@info:}@@ is called with a numeric prefix
      argument, <code>N</code>, the CONTENTS view up to headlines of level N will
      be shown. Note that inside tables, @@info:@kbd{@@S-@@info:@key{@@TAB@@info:}@@@@info:}@@ jumps
      to the previous field.</p>
  </dd>
  <dt>@@info:@kbd{@@C-u C-u C-u @@info:@key{@@TAB@@info:}@@@@info:}@@, <code>show-all</code></dt><dd>Show all, including
    drawers.
    <p>@@info:@kindex C-u C-u C-u TAB@@
      @@info:@findex show-all@@
      @@info:@cindex show all, command@@</p>
  </dd>
  <dt>@@info:@kbd{@@C-c C-r@@info:}@@, <code>org-reveal</code></dt><dd>Reveal context around point,
    showing the current entry, the following heading and the
    hierarchy above.  Useful for working near a location that has
    been exposed by a sparse tree command (see @<a href="Sparse trees">Sparse trees@</a>) or an
    agenda command (see @<a href="Agenda commands">Agenda commands@</a>).  With a prefix argument
    show, on each level, all sibling headings.  With a double prefix
    argument, also show the entire subtree of the parent.
    <p>@@info:@cindex revealing context@@
      @@info:@kindex C-c C-r@@
      @@info:@findex org-reveal@@</p>
  </dd>
  <dt>@@info:@kbd{@@C-c C-k@@info:}@@, <code>show-branches</code></dt><dd>Expose all the headings of
    the subtree, CONTENT view for just one subtree.
    <p>@@info:@kindex C-c C-k@@
      @@info:@findex show-branches@@
      @@info:@cindex show branches, command@@</p>
  </dd>
  <dt>@@info:@kbd{@@C-c @@info:@key{@@TAB@@info:}@@@@info:}@@, <code>show-children</code></dt><dd>Expose all direct
    children of the subtree.  With a numeric prefix argument, <code>N</code>,
    expose all children down to level N.
    <p>@@info:@kindex C-c TAB@@
      @@info:@findex show-children@@
      @@info:@cindex show children, command@@</p>
  </dd>
  <dt>@@info:@kbd{@@C-c C-x b@@info:}@@, <code>org-tree-to-indirect-buffer</code></dt><dd>Show the
    current subtree in an indirect buffer.@<sup>@<a class="footref" name="fnr.10" href="#fn.10">10@</a>@</sup> With a numeric
    prefix argument, <code>N</code>, go up to level N and then take that tree.
    If N is negative then go up that many levels.  With a
    @@info:@kbd{@@C-u@@info:}@@ prefix, do not remove the previously used indirect
    buffer.
    <p>@@info:@kindex C-c C-x b@@
      @@info:@findex org-tree-to-indirect-buffer@@</p>
  </dd>
  <dt>@@info:@kbd{@@C-c C-x v@@info:}@@, <code>org-copy-visible</code></dt><dd>Copy the @<i>visible@</i> text
    in the region into the kill ring.</dd>
</dl>
<p>@@info:@vindex org-startup-folded@@
  @@info:@cindex <code>overview</code>, STARTUP keyword@@
  @@info:@cindex <code>content</code>, STARTUP keyword@@
  @@info:@cindex <code>showall</code>, STARTUP keyword@@
  @@info:@cindex <code>showeverything</code>, STARTUP keyword@@</p>
<p>When Emacs first visits an Org file, the global state is set to
  OVERVIEW, i.e., only the top level headlines are visible.  This can be
  configured through the variable <code>org-startup-folded</code>, or on a
  per-file basis by adding one of the following lines anywhere in the
  buffer:</p>
<pre class="example">
,#+STARTUP: overview
,#+STARTUP: content
,#+STARTUP: showall
,#+STARTUP: showeverything
</pre>
<p>@@info:@cindex property, VISIBILITY@@</p>
<p>@@info:@noindent@@ Furthermore, any entries with a @@info:@samp{@@VISIBILITY@@info:}@@
  property (see <a href="Properties and columns">Properties and columns</a>) will get their visibility
  adapted accordingly.  Allowed values for this property are <code>folded</code>,
  <code>children</code>, <code>content</code>, and <code>all</code>.</p>
<dl>
  <dt>@@info:@kbd{@@C-u C-u @@info:@key{@@TAB@@info:}@@@@info:}@@, <code>org-set-startup-visibility</code></dt><dd>Switch
    back to the startup visibility of the buffer, i.e., whatever is
    requested by startup options and @@info:@samp{@@VISIBILITY@@info:}@@
    properties in individual entries.</dd>
</dl>
<h2><span class="heading-number heading-number-2">2.4</span> Motion</h2>@@info:@cindex motion, between headlines@@
  @@info:@cindex jumping, to headlines@@
  @@info:@cindex headline navigation@@
  The following commands jump to other headlines in the buffer.
<dl>
  <dt>@@info:@kbd{@@C-c C-n@@info:}@@, <code>outline-next-visible-heading</code></dt><dd>Next heading.
    @@info:@kindex C-c C-n@@
    @@info:@findex outline-next-visible-heading@@</dd>
  <dt>@@info:@kbd{@@C-c C-p@@info:}@@, <code>outline-previous-visible-heading</code></dt><dd>Previous heading.
    @@info:@kindex C-c C-p@@
    @@info:@findex outline-previous-visible-heading@@</dd>
  <dt>@@info:@kbd{@@C-c C-f@@info:}@@, <code>org-forward-same-level</code></dt><dd>Next heading same level.
    @@info:@kindex C-c C-f@@
    @@info:@findex org-forward-same-level@@</dd>
  <dt>@@info:@kbd{@@C-c C-b@@info:}@@, <code>org-backward-same-level</code></dt><dd>Previous heading same level.
    @@info:@kindex C-c C-b@@
    @@info:@findex org-backward-same-level@@</dd>
  <dt>@@info:@kbd{@@C-c C-u@@info:}@@, <code>outline-up-heading</code></dt><dd>Backward to higher level heading.
    @@info:@kindex C-c C-u@@
    @@info:@findex outline-up-heading@@</dd>
  <dt>@@info:@kbd{@@C-c C-j@@info:}@@, <code>org-goto</code></dt><dd>Jump to a different place without
    changing the current outline visibility.  Shows the document
    structure in a temporary buffer, where you can use the
    following keys to find your destination:
    <p>@@info:@kindex C-c C-j@@
      @@info:@findex org-goto@@
      @@info:@vindex org-goto-auto-isearch@@</p>
    <dl>
      <dt>@@info:@key{@@TAB@@info:}@@</dt><dd>Cycle visibility.</dd>
      <dt>@@info:@key{@@down@@info:}@@ / @@info:@key{@@up@@info:}@@</dt><dd>Next/previous visible headline.</dd>
      <dt>@@info:@key{@@RET@@info:}@@</dt><dd>Select this location.</dd>
      <dt>@@info:@kbd{@@/@@info:}@@</dt><dd>Do a Sparse-tree search</dd>
    </dl>
    <ul>
      <li>Note: The following keys work if you turn off <code>org-goto-auto-isearch</code></li>
    </ul>
    <dl>
      <dt>n / p</dt><dd>Next/previous visible headline.</dd>
      <dt>f / b</dt><dd>Next/previous headline same level.</dd>
      <dt>u</dt><dd>One level up.</dd>
      <dt>0&#8211;9</dt><dd>Digit argument.</dd>
      <dt>q</dt><dd>Quit.</dd>
    </dl>
  </dd>
</dl>
<p>@@info:@vindex org-goto-interface@@
  @@info:@noindent@@ See also the variable <code>org-goto-interface</code>.</p>
<h2><span class="heading-number heading-number-2">2.5</span> Structure editing</h2>@@info:@cindex structure editing@@
  @@info:@cindex headline, promotion and demotion@@
  @@info:@cindex promotion, of subtrees@@
  @@info:@cindex demotion, of subtrees@@
  @@info:@cindex subtree, cut and paste@@
  @@info:@cindex pasting, of subtrees@@
  @@info:@cindex cutting, of subtrees@@
  @@info:@cindex copying, of subtrees@@
  @@info:@cindex sorting, of subtrees@@
  @@info:@cindex subtrees, cut and paste@@
<dl>
  <dt>@@info:@kbd{@@M-@@info:@key{@@RET@@info:}@@@@info:}@@, <code>org-insert-heading</code></dt><dd>Insert new heading
    with same level as current. If the cursor is in a plain list
    item, a new item is created (see @<a href="Plain lists">Plain lists@</a>). To force
    creation of a new headline, use a prefix argument. When this
    command is used in the middle of a line, the line is split and
    the rest of the line becomes the new headline.@<sup>@<a class="footref" name="fnr.11" href="#fn.11">11@</a>@</sup> If the
    command is used at the beginning of a headline, the new
    headline is created before the current line. If at the
    beginning of any other line, the content of that line is made
    the new heading. If the command is used at the end of a folded
    subtree (i.e., behind the ellipses at the end of a headline),
    then a headline like the current one will be inserted after the
    end of the subtree.
    <p>@@info:@kindex M-RET@@
      @@info:@findex org-insert-heading@@
      @@info:@vindex org-M-RET-may-split-line@@</p>
  </dd>
  <dt>@@info:@kbd{@@C-@@info:@key{@@RET@@info:}@@@@info:}@@, <code>org-insert-heading-respect-content</code></dt><dd>Just
    like @@info:@kbd{@@M-@@info:@key{@@RET@@info:}@@@@info:}@@, except when adding a new heading
    below the current heading, the new heading is placed after the
    body instead of before it. This command works from anywhere in
    the entry.
    <p>@@info:@kindex C-RET@@
      @@info:@findex org-insert-heading-respect-content@@</p>
  </dd>
  <dt>@@info:@kbd{@@M-S-@@info:@key{@@RET@@info:}@@@@info:}@@, <code>org-insert-todo-heading</code></dt><dd>Insert new
    TODO entry with same level as current heading.  See also the
    variable <code>org-treat-insert-todo-heading-as-state-change</code>.
    <p>@@info:@kindex M-S-RET@@
      @@info:@findex org-insert-todo-heading@@
      @@info:@vindex org-treat-insert-todo-heading-as-state-change@@</p>
  </dd>
  <dt>@@info:@kbd{@@C-S-@@info:@key{@@RET@@info:}@@@@info:}@@, <code>org-insert-todo-heading-respect-content</code></dt><dd>Insert
    new TODO entry with same level as current heading. Like
    @@info:@kbd{@@C-@@info:@key{@@RET@@info:}@@@@info:}@@, the new headline will be inserted after
    the current subtree.
    <p>@@info:@kindex C-S-RET@@
      @@info:@findex org-insert-todo-heading-respect-content@@</p>
  </dd>
  <dt>@@info:@key{@@TAB@@info:}@@, <code>org-cycle</code></dt><dd>In a new entry with no text
    yet, the first @@info:@key{@@TAB@@info:}@@ demotes the entry to become a
    child of the previous one. The next @@info:@key{@@TAB@@info:}@@ makes it a
    parent, and so on, all the way to top level. Yet another
    @@info:@key{@@TAB@@info:}@@, and you are back to the initial level.
    <p>@@info:@kindex @key{TAB}@@
      @@info:@findex org-cycle@@</p>
  </dd>
  <dt>@@info:@kbd{@@M-@@info:@key{@@left@@info:}@@@@info:}@@, <code>org-do-promote</code></dt><dd>Promote current heading
    by one level.
    <p>@@info:@kindex M-@@
      @@info:@findex org-do-promote@@</p>
  </dd>
  <dt>@@info:@kbd{@@M-@@info:@key{@@right@@info:}@@@@info:}@@, <code>org-do-demote</code></dt><dd>Demote current heading
    by one level.
    <p>@@info:@kindex M-@@
      @@info:@findex org-do-demote@@</p>
  </dd>
  <dt>@@info:@kbd{@@M-S-@@info:@key{@@left@@info:}@@@@info:}@@, <code>org-promote-subtree</code></dt><dd>Promote the
    current subtree by one level.
    <p>@@info:@kindex M-S-@@
      @@info:@findex org-promote-subtree@@</p>
  </dd>
  <dt>@@info:@kbd{@@M-S-@@info:@key{@@right@@info:}@@@@info:}@@, <code>org-demote-subtree</code></dt><dd>Demote the
    current subtree by one level.
    <p>@@info:@kindex M-S-@@
      @@info:@findex org-demote-subtree@@</p>
  </dd>
  <dt>@@info:@kbd{@@M-S-@@info:@key{@@up@@info:}@@@@info:}@@, <code>org-move-subtree-up</code></dt><dd>Move subtree up
    (swap with previous subtree of same level).
    <p>@@info:@kindex M-S-@@
      @@info:@findex org-move-subtree-up@@</p>
  </dd>
  <dt>@@info:@kbd{@@M-S-@@info:@key{@@down@@info:}@@@@info:}@@, <code>org-move-subtree-down</code></dt><dd>Move subtree
    down (swap with next subtree of same level).
    <p>@@info:@kindex M-S-@@
      @@info:@findex org-move-subtree-down@@</p>
  </dd>
  <dt>@@info:@kbd{@@C-c C-x C-w@@info:}@@, <code>org-cut-subtree</code></dt><dd>Kill subtree, i.e.,
    remove it from buffer but save in kill ring. With a numeric
    prefix argument N, kill N sequential subtrees.
    <p>@@info:@kindex C-c C-x C-w@@
      @@info:@findex org-cut-subtree@@</p>
  </dd>
  <dt>@@info:@kbd{@@C-c C-x M-w@@info:}@@, <code>org-copy-subtree</code></dt><dd>Copy subtree to kill
    ring.  With a numeric prefix argument N, copy the N sequential
    subtrees.
    <p>@@info:@kindex C-c C-x M-w@@
      @@info:@findex org-copy-subtree@@</p>
  </dd>
  <dt>@@info:@kbd{@@C-c C-x C-y@@info:}@@, <code>org-paste-subtree</code></dt><dd>Yank subtree from
    kill ring. This does modify the level of the subtree to make
    sure the tree fits in nicely at the yank position. The yank
    level can also be specified with a numeric prefix argument, or
    by yanking after a headline marker like @@info:@samp{@@****@@info:}@@.
    <p>@@info:@kindex C-c C-x C-y@@
      @@info:@findex org-paste-subtree@@</p>
  </dd>
  <dt>@@info:@kbd{@@C-y@@info:}@@, <code>org-yank</code></dt><dd>Depending on the variables
    <code>org-yank-adjusted-subtrees</code> and <code>org-yank-folded-subtrees</code>,
    Org&#8217;s internal <code>yank</code> command will paste subtrees folded and in
    a clever way, using the same command as @@info:@kbd{@@C-c C-x C-y@@info:}@@.
    With the default settings, no level adjustment will take place,
    but the yanked tree will be folded unless doing so would
    swallow text previously visible.  Any prefix argument to this
    command will force a normal <code>yank</code> to be executed, with the
    prefix passed along.  A good way to force a normal yank is
    @@info:@kbd{@@C-u C-y@@info:}@@.  If you use <code>yank-pop</code> after a yank, it
    will yank previous kill items plainly, without adjustment and
    folding.
    <p>@@info:@kindex C-y@@
      @@info:@findex org-yank@@
      @@info:@vindex org-yank-adjusted-subtrees@@
      @@info:@vindex org-yank-folded-subtrees@@</p>
  </dd>
  <dt>@@info:@kbd{@@C-c C-x c@@info:}@@, <code>org-clone-subtree-with-time-shift</code></dt><dd>Clone
    a subtree by making a number of sibling copies of it. You will
    be prompted for the number of copies to make, and you can also
    specify if any timestamps in the entry should be shifted.  This
    can be useful, for example, to create a number of tasks related
    to a series of lectures to prepare. For more details, see the
    docstring of the command <code>org-clone-subtree-with-time-shift</code>.
    <p>@@info:@kindex C-c C-x c@@
      @@info:@findex org-clone-subtree-with-time-shift@@</p>
  </dd>
  <dt>@@info:@kbd{@@C-c C-w@@info:}@@, <code>org-refile</code></dt><dd>Refile entry or region to a
    different location. See @<a href="Refile and copy">Refile and copy@</a>.
    <p>@@info:@kindex C-c C-w@@
      @@info:@findex org-refile@@</p>
  </dd>
  <dt>@@info:@kbd{@@C-c ^@@info:}@@, <code>org-sort</code></dt><dd>Sort same-level entries.  When
    there is an active region, all entries in the region will be
    sorted.  Otherwise the children of the current headline are
    sorted.  The command prompts for the sorting method, which can
    be alphabetically, numerically, by time (first timestamp with
    active preferred, creation time, scheduled time, deadline
    time), by priority, by TODO keyword (in the sequence the
    keywords have been defined in the setup) or by the value of a
    property.  Reverse sorting is possible as well.  You can also
    supply your own function to extract the sorting key.  With a
    @@info:@kbd{@@C-u@@info:}@@ prefix, sorting will be case-sensitive.
    <p>@@info:@kindex C-c ^@@
      @@info:@findex org-sort@@</p>
  </dd>
  <dt>@@info:@kbd{@@C-x n s@@info:}@@, <code>org-narrow-to-subtree</code></dt><dd>Narrow buffer to
    current subtree.
    <p>@@info:@kindex C-x n s@@
      @@info:@findex org-narrow-to-subtree@@</p>
  </dd>
  <dt>@@info:@kbd{@@C-x n b@@info:}@@, <code>org-narrow-to-block</code></dt><dd>Narrow buffer to
    current block.
    <p>@@info:@kindex C-x n b@@
      @@info:@findex org-narrow-to-block@@</p>
  </dd>
  <dt>@@info:@kbd{@@C-x n w@@info:}@@, <code>widen</code></dt><dd>Widen buffer to remove narrowing.
    <p>@@info:@kindex C-x n w@@
      @@info:@findex widen@@</p>
  </dd>
  <dt>@@info:@kbd{@@C-c *@@info:}@@, <code>org-toggle-heading</code></dt><dd>Turn a normal line or
    plain list item into a headline (so that it becomes a
    subheading at its location). Also turn a headline into a normal
    line by removing the stars. If there is an active region, turn
    all lines in the region into headlines. If the first line in
    the region was an item, turn only the item lines into
    headlines. Finally, if the first line is a headline, remove the
    stars from all headlines in the region.
    <p>@@info:@kindex C-c *@@
      @@info:@findex org-toggle-heading@@</p>
  </dd>
</dl>
<p>@@info:@cindex region, active@@
  @@info:@cindex active region@@
  @@info:@cindex transient mark mode@@</p>
<p>When there is an active region (Transient Mark mode), promotion and
  demotion work on all headlines in the region.  To select a region of
  headlines, it is best to place both point and mark at the beginning of
  a line, mark at the beginning of the first headline, and point at the
  line just after the last headline to change.  Note that when the
  cursor is inside a table (see <a href="Tables">Tables</a>), the Meta-Cursor keys have
  different functionality.</p>
<h2><span class="heading-number heading-number-2">2.6</span> Sparse trees</h2>@@info:@cindex sparse trees@@
  @@info:@cindex trees, sparse@@
  @@info:@cindex folding, sparse trees@@
  @@info:@cindex occur, command@@
  @@info:@vindex org-show-hierarchy-above@@
  @@info:@vindex org-show-following-heading@@
  @@info:@vindex org-show-siblings@@
  @@info:@vindex org-show-entry-below@@
<p>An important feature of Org mode is the ability to construct <i>sparse
  trees</i> for selected information in an outline tree, so that the entire
  document is folded as much as possible, but the selected information
  is made visible along with the headline structure above it.<sup><a class="footref" name="fnr.12" href="#fn.12">12</a></sup>
  Just try it out and you will see immediately how it works.</p>
<p>Org mode contains several commands creating such trees, all these
  commands can be accessed through a dispatcher:</p>
<dl>
  <dt>@@info:@kbd{@@C-c /@@info:}@@, <code>org-sparse-tree</code></dt><dd>This prompts for an extra
    key to select a sparse-tree creating command.
    <p>@@info:@kindex C-c /@@
      @@info:@findex org-sparse-tree@@</p>
  </dd>
  <dt>@@info:@kbd{@@C-c / r@@info:}@@, <code>org-occur</code></dt><dd>Prompts for a regexp and shows a
    sparse tree with all matches. If the match is in a headline,
    the headline is made visible. If the match is in the body of an
    entry, headline and body are made visible. In order to provide
    minimal context, also the full hierarchy of headlines above the
    match is shown, as well as the headline following the
    match. Each match is also highlighted; the highlights disappear
    when the buffer is changed by an editing command, or by
    pressing @@info:@kbd{@@C-c C-c@@info:}@@.@<sup>@<a class="footref" name="fnr.13" href="#fn.13">13@</a>@</sup> When called with a @@info:@kbd{@@C-u@@info:}@@
    prefix argument, previous highlights are kept, so several calls
    to this command can be stacked.
    <p>@@info:@kindex C-c / r@@
      @@info:@findex org-occur@@
      @@info:@vindex org-remove-highlights-with-change@@</p>
  </dd>
  <dt>@@info:@kbd{@@M-g n@@info:}@@ or  @@info:@kbd{@@M-g M-n@@info:}@@, <code>next-error</code></dt><dd></dd>
</dl>
<p>Jump to the next sparse tree match in this buffer.</p>
<p>@@info:@kindex M-g n@@
  @@info:@kindex M-g M-n@@
  @@info:@findex next-error@@</p>
<dl>
  <dt>@@info:@kbd{@@M-g p@@info:}@@ or @@info:@kbd{@@M-g M-p@@info:}@@, <code>previous-error</code></dt><dd>
    <p>Jump to the previous sparse tree match in this buffer.</p>
    <p>@@info:@kindex M-g p@@
      @@info:@kindex M-g M-p@@
      @@info:@findex previous-error@@</p>
  </dd>
</dl>
<p>@@info:@vindex org-agenda-custom-commands@@</p>
<p>@@info:@noindent@@ For frequently used sparse trees of specific search
  strings, you can use the variable <code>org-agenda-custom-commands</code> to
  define fast keyboard access to specific sparse trees. These commands
  will then be accessible through the agenda dispatcher
  (see <a href="Agenda dispatcher">Agenda dispatcher</a>). For example:</p>
<pre class="src src-emacs-lisp">
(setq org-agenda-custom-commands
      '((&quot;f&quot; occur-tree &quot;FIXME&quot;)))
</pre>
<p>@@info:@noindent@@ will define the key @@info:@kbd{@@C-c a f@@info:}@@ as a
  shortcut for creating a sparse tree matching the string
  @@info:@samp{@@FIXME@@info:}@@.</p>
<p>The other sparse tree commands select headings based on TODO keywords,
  tags, or properties and will be discussed later in this manual.</p>
<p>@@info:@kindex C-c C-e v@@
  @@info:@cindex printing sparse trees@@
  @@info:@cindex visible text, printing@@</p>
<p>To print a sparse tree, you can use the Emacs command
  <code>ps-print-buffer-with-faces</code> which does not print
  invisible parts of the document.<sup><a class="footref" name="fnr.14" href="#fn.14">14</a></sup> Or you can use the command
  @@info:@kbd{@@C-c C-e v@@info:}@@ to export only the visible part of the
  document and print the resulting file.</p>
<h2><span class="heading-number heading-number-2">2.7</span> Plain lists</h2>@@info:@cindex plain lists@@
  @@info:@cindex lists, plain@@
  @@info:@cindex lists, ordered@@
  @@info:@cindex ordered lists@@
<p>Within an entry of the outline tree, hand-formatted lists can provide
  additional structure. They also provide a way to create lists of
  checkboxes (see <a href="Checkboxes">Checkboxes</a>). Org supports editing
  such lists, and every exporter (see <a href="Exporting">Exporting</a>)
  can parse and format them.</p>
<p>Org knows ordered lists, unordered lists, and description lists.</p>
<ul>
  <li><i>Unordered</i> list items start with <code>-</code>, <code>+</code>, or <code>*</code> as bullets.<sup><a class="footref" name="fnr.15" href="#fn.15">15</a></sup></li>
  <li><i>Ordered</i> list items start with a numeral followed by either a
    period or a right parenthesis,<sup><a class="footref" name="fnr.16" href="#fn.16">16</a></sup> such as
    <code>1.</code> or <code>1</code>.<sup><a class="footref" name="fnr.170" href="#fn.170">170</a></sup> If you want a list to
    start with a different value (e.g., 20), start the text of the
    item with <code>[@20]</code>.<sup><a class="footref" name="fnr.17" href="#fn.17">17</a></sup> Those constructs can be used
    in any item of the list in order to enforce a particular
    numbering.
    @@info:@vindex org-plain-list-ordered-item-terminator@@
    @@info:@vindex org-alphabetical-lists@@</li>
  <li><i>Description</i> list items are unordered list items, and contain the
    separator @@info:@samp{@@::@@info:}@@ to distinguish the description
    <i>term</i> from the description.</li>
</ul>
<p>Items belonging to the same list must have the same indentation on the
  first line. In particular, if an ordered list reaches number
  @@info:@samp{@@10.@@info:}@@, then the 2&#8211;digit numbers must be written
  left-aligned with the other numbers in the list. An item ends before
  the next line that is less or equally indented than its bullet/number.</p>
<p>@@info:@vindex org-empty-line-terminates-plain-lists@@
  A list ends whenever every item has ended, which means before any line less
  or equally indented than items at top level.  It also ends before two blank
  lines.<sup><a class="footref" name="fnr.171" href="#fn.171">171</a></sup>  In that case, all items are closed.  Here is an example:</p>
<pre class="src src-texinfo">
,** Lord of the Rings                                
   My favorite scenes are (in this order)
   1. The attack of the Rohirrim
   2. Eowyn's fight with the witch king
      + this was already my favorite scene in the book
      + I really like Miranda Otto.
   3. Peter Jackson being shot by Legolas
      - on DVD only
      He makes a really funny face when it happens.
   But in the end, no individual scenes matter but the film as a whole.
   Important actors in this film are:
   - @b{Elijah Wood} :: He plays Frodo
   - @b{Sean Austin} :: He plays Sam, Frodo's friend.  I still remember
     him very well from his role as Mikey Walsh in @i{The Goonies}.
</pre>
<p>Org supports these lists by tuning filling and wrapping commands to
  deal with them correctly.<sup><a class="footref" name="fnr.18" href="#fn.18">18</a></sup> To turn this on, put into
  @@info:@file{@@.emacs@@info:}@@: <code>(require 'filladapt)</code>}, and by exporting them
  properly (see <a href="Exporting">Exporting</a>). Since indentation is
  what governs the structure of these lists, many structural constructs
  like <code>#+BEGIN_ ...</code> blocks can be indented to signal that they belong
  to a particular item.</p>
<p>@@info:@vindex org-list-demote-modify-bullet@@
  @@info:@vindex org-list-indent-offset@@
  If you find that using a different bullet for a sub-list (than that used for
  the current list-level) improves readability, customize the variable
  <code>org-list-demote-modify-bullet</code>.  To get a greater difference of
  indentation between items and theirs sub-items, customize
  <code>org-list-indent-offset</code>.</p>
<p>@@info:@vindex org-list-automatic-rules@@
  The following commands act on items when the cursor is in the first line of
  an item (the line with the bullet or number).  Some of them imply the
  application of automatic rules to keep list structure intact.  If some of
  these actions get in your way, configure <code>org-list-automatic-rules</code>
  to disable them individually.</p>
<dl>
  <dt>@@info:@key{@@TAB@@info:}@@, <code>org-cycle</code></dt><dd>
    @@info:@cindex cycling, in plain lists@@
    @@info:@kindex TAB@@
    @@info:@findex org-cycle@@
    @@info:@vindex org-cycle-include-plain-lists@@
    <p>Items can be folded just like headline levels. Normally this
      works only if the cursor is on a plain list item. For more
      details, see the variable <code>org-cycle-include-plain-lists</code>. If
      this variable is set to <code>integrate</code>, plain list items will be
      treated like low-level headlines. The level of an item is then
      given by the indentation of the bullet/number. Items are always
      subordinate to real headlines, however; the hierarchies remain
      completely separated. In a new item with no text yet, the first
      @@info:@key{@@TAB@@info:}@@ demotes the item to become a child of the
      previous one. Subsequent @@info:@key{@@TAB@@info:}@@s move the item to
      meaningful levels in the list and eventually get it back to its
      initial position.</p>
  </dd>
  <dt>@@info:@kbd{@@M-@@info:@key{@@RET@@info:}@@@@info:}@@, <code>org-insert-heading</code></dt><dd>
    @@info:@kindex M-RET@@
    @@info:@findex org-insert-heading@@
    @@info:@vindex org-M-RET-may-split-line@@
    @@info:@vindex org-list-automatic-rules@@
    <p>Insert new item at current level. With a prefix argument, force
      a new heading (see <a href="Structure editing">Structure editing</a>). If this command is used
      in the middle of an item, that item is <i>split</i> in two, and the
      second part becomes the new item.<sup><a class="footref" name="fnr.19" href="#fn.19">19</a></sup> If this command is
      executed <i>before item&#8217;s body</i>, the new item is created <i>before</i>
      the current one.</p>
  </dd>
  <dt>@@info:@kbd{@@M-S-@@info:@key{@@RET@@info:}@@@@info:}@@</dt><dd>
    @@info:@kindex M-S-RET@@
    <p>Insert a new item with a checkbox (see <a href="Checkboxes">Checkboxes</a>).</p>
  </dd>
  <dt>@@info:@kbd{@@S-@@info:@key{@@up@@info:}@@@@info:}@@ or @@info:@kbd{@@S-@@info:@key{@@down@@info:}@@@@info:}@@</dt><dd>
    <p>Jump to the previous/next item in the current list, but
      only if <code>org-support-shift-select</code> is off.<sup><a class="footref" name="fnr.20" href="#fn.20">20</a></sup>  If not, you can
      still use paragraph jumping commands like @@info:@kbd{@@C-@@info:@key{@@up@@info:}@@@@info:}@@
      and @@info:@kbd{@@C-@@info:@key{@@down@@info:}@@@@info:}@@ to quite similar effect.</p>
    <p>@@info:@kindex S-up@@
      @@info:@kindex S-down@@
      @@info:@cindex shift-selection-mode@@
      @@info:@vindex org-support-shift-select@@
      @@info:@vindex org-list-use-circular-motion@@</p>
  </dd>
  <dt>@@info:@kbd{@@M-@@info:@key{@@up@@info:}@@@@info:}@@ or @@info:@kbd{@@M-@@info:@key{@@down@@info:}@@@@info:}@@</dt><dd>
    <p>Move the item including subitems up/down (swap with
      previous/next item of same indentation).<sup><a class="footref" name="fnr.21" href="#fn.21">21</a></sup>  If the list is
      ordered, renumbering is automatic.</p>
    <p>@@info:@kindex M-up@@
      @@info:@kindex M-down@@</p>
  </dd>
  <dt>@@info:@kbd{@@M-@@info:@key{@@left@@info:}@@@@info:}@@ or @@info:@kbd{@@M-@@info:@key{@@right@@info:}@@@@info:}@@</dt><dd>
    <p>Decrease/increase the indentation of an item, leaving children
      alone.</p>
    <p>@@info:@kindex M-left@@
      @@info:@kindex M-right@@</p>
  </dd>
  <dt>@@info:@kbd{@@M-S-@@info:@key{@@left@@info:}@@@@info:}@@ or @@info:@kbd{@@M-S-@@info:@key{@@right@@info:}@@@@info:}@@</dt><dd>
    <p>Decrease/increase the indentation of the item, including
      subitems.  Initially, the item tree is selected based on
      current indentation.  When these commands are executed several
      times in direct succession, the initially selected region is
      used, even if the new indentation would imply a different
      hierarchy.  To use the new hierarchy, break the command chain
      with a cursor motion or so.</p>
    <p>@@info:@kindex M-S-left@@
      @@info:@kindex M-S-right@@</p>
    <p>As a special case, using this command on the very first item of
      a list will move the whole list.  This behavior can be disabled
      by configuring <code>org-list-automatic-rules</code>.  The global
      indentation of a list has no influence on the text <i>after</i> the
      list.</p>
  </dd>
  <dt>@@info:@kbd{@@C-c C-c@@info:}@@</dt><dd>If there is a checkbox (see @<a href="Checkboxes">Checkboxes@</a>) in
    the item line, toggle the state of the checkbox.  In any case,
    verify bullets and indentation consistency in the whole list.
    <p>@@info:@kindex C-c C-c@@</p>
  </dd>
  <dt>@@info:@kbd{@@C-c -@@info:}@@</dt><dd>Cycle the entire list level through the
    different itemize/enumerate bullets (@@info:@samp{@@-@@info:}@@,
    @@info:@samp{@@+@@info:}@@, @@info:@samp{@@*@@info:}@@, @@info:@samp{@@1.@@info:}@@, @@info:@samp{@@1)@@info:}@@)
    or a subset of them, depending on
    <code>org-plain-list-ordered-item-terminator</code>, the type of list, and
    its indentation.  With a numeric prefix argument N, select the
    Nth bullet from this list.  If there is an active region when
    calling this, selected text will be changed into an item.  With
    a prefix argument, all lines will be converted to list items.
    If the first line already was a list item, any item marker will
    be removed from the list.  Finally, even without an active
    region, a normal line will be converted into a list item.
    <p>@@info:@kindex C-c -@@
      @@info:@vindex org-plain-list-ordered-item-terminator@@</p>
  </dd>
  <dt>@@info:@kbd{@@C-c *@@info:}@@</dt><dd>Turn a plain list item into a headline (so
    that it becomes a subheading at its location). See
    @<a href="Structure editing">Structure editing@</a>, for a detailed explanation.
    <p>@@info:@kindex C-c *@@</p>
  </dd>
  <dt>@@info:@kbd{@@C-c C-*@@info:}@@</dt><dd>Turn the whole plain list into a subtree of
    the current heading.  Checkboxes (see @<a href="Checkboxes">Checkboxes@</a>) will become
    TODO (resp. DONE) keywords when unchecked (resp. checked).
    <p>@@info:@kindex C-c C-*@@</p>
  </dd>
  <dt>@@info:@kbd{@@S-left/right@@info:}@@</dt><dd>This command also cycles bullet styles
    when the cursor in on the bullet or anywhere in an item line,
    details depending on <code>org-support-shift-select</code>.
    <p>@@info:@vindex org-support-shift-select@@
      @@info:@kindex S-left@@
      @@info:@kindex S-right@@</p>
  </dd>
  <dt>@@info:@kbd{@@C-c ^@@info:}@@</dt><dd>Sort the plain list.  You will be prompted for
    the sorting method: numerically, alphabetically, by time, or by
    custom function.
    <p>@@info:@kindex C-c ^@@</p>
  </dd>
</dl>
<h2><span class="heading-number heading-number-2">2.8</span> Drawers</h2>@@info:@cindex drawers@@
  @@info:@cindex #+DRAWERS@@
  @@info:@cindex visibility cycling, drawers@@
<p>@@info:@vindex org-drawers@@
  @@info:@cindex org-insert-drawer@@
  @@info:@kindex C-c C-x d@@
  Sometimes you want to keep information associated with an entry, but you
  normally don&#8217;t want to see it.  For this, Org mode has <i>drawers</i>.
  Drawers need to be configured with the variable
  <code>org-drawers</code>.<sup><a class="footref" name="fnr.172" href="#fn.172">172</a></sup> Drawers
  look like this:</p>
<pre class="src src-org">
,** This is a headline
   Still outside the drawer
   :DRAWERNAME:
   This is inside the drawer.
   :END:
   After the drawer.
</pre>
<p>You can interactively insert drawers at point by calling
  <code>org-insert-drawer</code>, which is bound to @@info:@kbd{@@C-c C-x d@@info:}@@.
  With an active region, this command will put the region inside the
  drawer. With a prefix argument, this command calls
  <code>org-insert-property-drawer</code> and add a property drawer right
  below the current headline. Completion over drawer keywords is also
  possible using @@info:@key{@@M-TAB@@info:}@@.</p>
<p>Visibility cycling (see <a href="Visibility cycling">Visibility cycling</a>) on the headline
  will hide and show the entry, but keep the drawer collapsed to a
  single line. In order to look inside the drawer, you need to move the
  cursor to the drawer line and press @@info:@key{@@TAB@@info:}@@ there. Org mode
  uses the <code>PROPERTIES</code> drawer for storing properties
  (see <a href="Properties and columns">Properties and columns</a>), and you can also arrange for
  state change notes (see [[Tracking TODO state changes]) and
  clock times (see [[Clocking work time]) to be stored in a drawer
  <code>LOGBOOK</code>. If you want to store a quick note in the LOGBOOK
  drawer, in a similar way to state changes, use</p>
<dl>
  <dt>@@info:@kbd{@@C-c C-z@@info:}@@</dt><dd>Add a time-stamped note to the LOGBOOK
    drawer.
    <p>@@info:@kindex C-c C-z@@</p>
  </dd>
</dl>
<h2><span class="heading-number heading-number-2">2.9</span> Blocks</h2>@@info:@vindex org-hide-block-startup@@
  @@info:@cindex blocks, folding@@
<p>Org mode uses <code>begin</code> &#8230; <code>end</code> blocks for various purposes from including
  source code examples (see <a href="Literal examples">Literal examples</a>) to capturing time logging
  information (see <a href="Clocking work time">Clocking work time</a>).  These blocks can be folded
  and unfolded by pressing TAB in the begin line.  You can also get all
  blocks folded at startup by configuring the variable
  <code>org-hide-block-startup</code> or on a per-file basis by using</p>
<p>@@info:@cindex @code{hideblocks}, STARTUP keyword@@
  @@info:@cindex @code{nohideblocks}, STARTUP keyword@@</p>
<pre class="src src-org">
,#+STARTUP: hideblocks
,#+STARTUP: nohideblocks
</pre>
<h2><span class="heading-number heading-number-2">2.10</span> Creating footnotes</h2>@@info:@cindex footnotes@@
<p>Org mode supports the creation of footnotes. In contrast to the
  @@info:@file{@@footnote.el@@info:}@@ package, Org mode&#8217;s footnotes are designed for
  work on a larger document, not only for one-off documents like emails.
  The basic syntax is similar to the one used by
  @@info:@file{@@footnote.el@@info:}@@, i.e., a footnote is defined in a paragraph
  that is started by a footnote marker in square brackets in column 0,
  no indentation allowed. If you need a paragraph break inside a
  footnote, use the LaTeX idiom <code>\par</code>. The footnote reference is simply
  the marker in square brackets, inside text. For example:</p>
<pre class="example">
The Org homepage[fn:1] now looks a lot better than it used to.
...
[fn:1] The link is: http://orgmode.org
</pre>
<p>Org mode extends the number-based syntax to <i>named</i> footnotes and
  optional inline definition. Using plain numbers as markers (as
  @@info:@file{@@footnote.el@@info:}@@ does) is supported for backward compatibility,
  but not encouraged because of possible conflicts with LaTeX
  snippets (see <a href="Embedded LaTeX">Embedded LaTeX</a>). Here are
  the valid references:</p>
<dl>
  <dt><code>[1]</code></dt><dd>A plain numeric footnote marker. Compatible with
    @@info:@file{@@footnote.el@@info:}@@, but not recommended because
    something like <code>[1]</code> could easily be part of a
    code snippet.</dd>
  <dt><code>[fn:name]</code></dt><dd>A named footnote reference, where <code>name</code> is
    a unique label word, or, for simplicity of automatic
    creation, a number.</dd>
  <dt><code>[fn:: This is the inline definition of this footnote]</code></dt><dd>A
    LaTeX-like anonymous footnote where the definition
    is given directly at the reference point.</dd>
  <dt><code>[fn:name: a definition]</code></dt><dd>An inline definition of a footnote,
    which also specifies a name for the note. Since Org allows
    multiple references to the same note, you can then use
    <code>[fn:name]</code> to create additional references.</dd>
</dl>
<p>@@info:@vindex org-footnote-auto-label@@
  Footnote labels can be created automatically, or you can create names
  yourself. This is handled by the variable
  <code>org-footnote-auto-label</code> and its corresponding
  <code>#+STARTUP</code> keywords. See the docstring of that variable for
  details.</p>
<p>@@info:@noindent@@ The following command handles footnotes:</p>
<dl>
  <dt>@@info:@kbd{@@C-c C-x f@@info:}@@</dt><dd>The footnote action command.
    @@info:@kindex C-c C-x f@@
    <p>When the cursor is on a footnote reference, jump to the
      definition.  When it is at a definition, jump to the
      (first) reference.</p>
    <p>@@info:@vindex org-footnote-define-inline@@
      @@info:@vindex org-footnote-section@@
      @@info:@vindex org-footnote-auto-adjust@@</p>
    <p>Otherwise, create a new footnote.  Depending on the
      variable <code>org-footnote-define-inline</code>, the
      definition will be placed right into the text as part
      of the reference, or separately into the location
      determined by the variable <code>org-footnote-section</code>.<sup><a class="footref" name="fnr.173" href="#fn.173">173</a></sup></p>
    <p>When this command is called with a prefix argument, a
      menu of additional options is offered:</p>
    <dl>
      <dt>@@info:@kbd{@@s@@info:}@@</dt><dd>Sort the footnote definitions by reference sequence.
        During editing, Org makes no effort to sort footnote
        definitions into a particular sequence.  If you want them
        sorted, use this command, which will also move entries
        according to <code>org-footnote-section</code>.  Automatic sorting
        after each insertion/deletion can be configured using the
        variable <code>org-footnote-auto-adjust</code>.</dd>
      <dt>@@info:@kbd{@@r@@info:}@@</dt><dd>Renumber the simple <code>fn:N</code> footnotes.  Automatic
        renumbering after each insertion/deletion can be
        configured using the variable <code>org-footnote-auto-adjust</code>.</dd>
      <dt>@@info:@kbd{@@S@@info:}@@</dt><dd>Short for first <code>r</code>, then <code>s</code> action.</dd>
      <dt>@@info:@kbd{@@n@@info:}@@</dt><dd>Normalize the footnotes by collecting all definitions
        (including inline definitions) into a special section, and
        then numbering them in sequence.  The references will then
        also be numbers.  This is meant to be the final step
        before finishing a document (e.g., sending off an email).
        The exporters do this automatically, and so could
        something like <code>message-send-hook</code>.</dd>
      <dt>@@info:@kbd{@@d@@info:}@@</dt><dd>Delete the footnote at point, and all definitions of and
        references to it.</dd>
    </dl>
    <p>Depending on the variable <code>org-footnote-auto-adjust</code>, renumbering
      and sorting footnotes can be automatic after each insertion or
      deletion.<sup><a class="footref" name="fnr.174" href="#fn.174">174</a></sup></p>
  </dd>
  <dt>@@info:@kbd{@@C-c C-c@@info:}@@</dt><dd>If the cursor is on a footnote reference, jump to the
    definition.  If it is a the definition, jump back to
    the reference.  When called at a footnote location with
    a prefix argument, offer the same menu as @@info:@kbd{@@C-c C-x f@@info:}@@.
    <p>@@info:@kindex C-c C-c@@</p>
  </dd>
  <dt>@@info:@kbd{@@C-c C-o@@info:}@@ or @@info:@kbd{@@mouse-1/2@@info:}@@</dt><dd>Footnote labels are also
    links to the corresponding definition/reference, and you can
    use the usual commands to follow these links.
    <p>@@info:@kindex C-c C-o@@
      @@info:@kindex mouse-1@@
      @@info:@kindex mouse-2@@</p>
  </dd>
</dl>
<h2><span class="heading-number heading-number-2">2.11</span> Orgstruct mode</h2>@@info:@cindex Orgstruct mode@@
  @@info:@cindex minor mode for structure editing@@
<p>If you like the intuitive way the Org mode structure editing and list
  formatting works, you might want to use these commands in other modes
  like Text mode or Mail mode as well.  The minor mode <code>orgstruct-mode</code>
  makes this possible.  Toggle the mode with @@info:@kbd{@@M-x orgstruct-mode@@info:}@@, or turn it on by default, for example in Message
  mode, with one of:</p>
<pre class="src src-emacs-lisp">
(add-hook 'message-mode-hook 'turn-on-orgstruct)
(add-hook 'message-mode-hook 'turn-on-orgstruct++)
</pre>
<p>When this mode is active and the cursor is on a line that looks to Org
  like a headline or the first line of a list item, most structure
  editing commands will work, even if the same keys normally have
  different functionality in the major mode you are using.  If the
  cursor is not in one of those special lines, Orgstruct mode lurks
  silently in the shadows.  When you use <code>orgstruct++-mode</code>, Org will
  also export indentation and autofill settings into that mode, and
  detect item context after the first line of an item.</p>
<h1><span class="heading-number heading-number-1">3</span> Tables</h1>{{{cindex(tables)}}}
  {{{cindex(editing tables)}}}
<p>Org comes with a fast and intuitive table editor.  Spreadsheet-like
  calculations are supported using the Emacs {{{file(calc)}}} package
  (<a href="info:calc">info:calc</a>).</p>
<h2><span class="heading-number heading-number-2">3.1</span> Built-in table editor</h2>{{{cindex(table editor&#92;\, built-in)}}}
<p>Org makes it easy to format tables in plain ASCII. Any line with
  {{{samp(|)}}} as the first non-whitespace character is considered part
  of a table. {{{samp(|)}}} is also the column separator.<sup><a class="footref" name="fnr.22" href="#fn.22">22</a></sup> A table
  might look like this:</p>
<pre class="src src-org">
| Name  | Phone | Age |
|-------+-------+-----|
| Peter |  1234 |  17 |
| Anna  |  4321 |  25 |
</pre>
<p>A table is re-aligned automatically each time you press {{{key(TAB)}}}
  or {{{key(RET)}}} or {{{kbd(C-c C-c)}}} inside the table.
  {{{key(TAB)}}} also moves to the next field ({{{key(RET)}}} to the
  next row) and creates new table rows at the end of the table or before
  horizontal lines. The indentation of the table is set by the first
  line. Any line starting with {{{samp(|-)}}} is considered as a
  horizontal separator line and will be expanded on the next re-align to
  span the whole table width. So, to create the above table, you would
  only type</p>
<pre class="src src-org">
|Name|Phone|Age|
|-
</pre>
<p>{{{noindent}}} and then press {{{key(TAB)}}} to align the table and
  start filling in fields. Even faster would be to type
  <code>|Name|Phone|Age</code> followed by {{{kbdspckey(C-c,RET)}}}.</p>
<p>{{{vindex(org-enable-table-editor)}}}
  {{{vindex(org-table-auto-blank-field)}}}</p>
<p>When typing text into a field, Org treats {{{key(DEL)}}},
  {{{key(Backspace)}}}, and all character keys in a special way, so that
  inserting and deleting avoids shifting other fields.  Also, when
  typing <i>immediately</i> after the cursor was moved into a new field with
  {{{key(TAB)}}}, {{{kbdkey(S-,TAB)}}} or {{{key(RET)}}}, the field is
  automatically made blank.  If this behavior is too unpredictable for
  you, configure the variables <code>org-enable-table-editor</code> and
  <code>org-table-auto-blank-field</code>.</p>
<h3><span class="heading-number heading-number-3">3.1.1</span> Creation and conversion</h3>
<dl>
  <dt>{{{kbd(C-c |)}}}, <code>org-table-create-or-convert-from-region</code></dt><dd>Convert
    the active region to table. If every line contains at least one
    {{{key(TAB)}}} character, the function assumes that the material
    is tab separated. If every line contains a comma, comma-separated
    values (CSV) are assumed. If not, lines are split at whitespace
    into fields. You can use a prefix argument to force a specific
    separator: {{{kbd(C-u)}}} forces CSV, {{{kbd(C-u C-u)}}} forces
    {{{key(TAB)}}}, and a numeric argument <code>N</code> indicates that at
    least N consecutive spaces, or alternatively a {{{key(TAB)}}}
    will be the separator. If there is no active region, this command
    creates an empty Org table. But it is easier just to start
    typing, like {{{kbdspckey(|Name|Phone|Age,RET)}}} {{{kbdkey(|-
    ,TAB)}}}.
    <p>{{{kindex(C-c |)}}}
      {{{findex(org-table-create-or-convert-from-region)}}}</p>
  </dd>
</dl>
<h3><span class="heading-number heading-number-3">3.1.2</span> Re-aligning and field motion</h3>
<dl>
  <dt>{{{kbd(C-c C-c)}}}, <code>org-table-align</code></dt><dd>Re-align the table without
    moving the cursor.
    <p>{{{kindex(C-c C-c)}}}
      {{{findex(org-table-align)}}}</p>
  </dd>
  <dt>{{{kbd(<TAB>)}}}, <code>org-table-next-field</code></dt><dd>Re-align the table, move
    to the next field.  Creates a new row if necessary.
    <p>{{{kindex(&lt;TAB&gt;)}}}
      {{{findex(org-table-next-field)}}}</p>
  </dd>
  <dt>{{{kbdkey(S-,TAB)}}}, <code>org-table-previous-field</code></dt><dd>Re-align, move to
    previous field.
    <p>{{{kindex(S-TAB)}}}
      {{{findex(org-table-previous-field)}}}</p>
  </dd>
  <dt>{{{key(RET)}}}, <code>org-table-next-row</code></dt><dd>Re-align the table and move
    down to next row.  Creates a new row if necessary.  At the
    beginning or end of a line, {{{key(RET)}}} still does NEWLINE, so
    it can be used to split a table.
    <p>{{{kindex(RET)}}}
      {{{findex(org-table-next-row)}}}</p>
  </dd>
  <dt>{{{kbd(M-a)}}}, <code>org-table-beginning-of-field</code></dt><dd>Move to beginning
    of the current table field, or on to the previous field.
    <p>{{{kindex(M-a)}}}
      {{{findex(org-table-beginning-of-field)}}}</p>
  </dd>
  <dt>{{{kbd(M-e)}}}, <code>org-table-end-of-field</code></dt><dd>Move to end of the
    current table field, or on to the next field.
    <p>{{{kindex(M-e)}}}
      {{{findex(org-table-end-of-field)}}}</p>
  </dd>
</dl>
<h3><span class="heading-number heading-number-3">3.1.3</span> Column and row editing</h3>
<dl>
  <dt>{{{kbdkey(M-,left)}}}, <code>org-table-move-column-left</code></dt><dd>
    {{{kindex(M-left)}}}
    {{{findex(org-table-move-column-left)}}}
    <p>Move the current column left.</p>
  </dd>
  <dt>{{{kbdkey(M-,right)}}}, <code>org-table-move-column-right</code></dt><dd>
    {{{kindex(M-right)}}}
    {{{findex(org-table-move-column-right)}}}
    <p>Move the current column right.</p>
  </dd>
  <dt>{{{kbdkey(M-S-,left)}}}, <code>org-table-delete-column</code></dt><dd>
    {{{kindex(M-S-left)}}}
    {{{findex(org-table-delete-column)}}}
    <p>Kill the current column.</p>
  </dd>
  <dt>{{{kbdkey(M-S-,right)}}}, <code>org-table-insert-column</code></dt><dd>
    {{{kindex(M-S-right)}}}
    {{{findex(org-table-insert-column)}}}
    <p>Insert a new column to the left of the cursor position.</p>
  </dd>
  <dt>{{{kbdkey(M-,up)}}}, <code>org-table-move-row-up</code></dt><dd>
    {{{kindex(M-up)}}}
    {{{findex(org-table-move-row-up)}}}
    <p>Move the current row up.</p>
  </dd>
</dl>
<ul>
  <li>{{{kbdkey(M-,down)}}}, <code>org-table-move-row-down</code>
    {{{kindex(M-down)}}}
    {{{findex(org-table-move-row-down)}}}
    <p>Move the current row down.</p>
  </li>
</ul>
<dl>
  <dt>{{{kbdkey(M-S-,up)}}}, <code>org-table-kill-row</code></dt><dd>Kill the current row
    or horizontal line.
    <p>{{{kindex(M-S-up)}}}
      {{{findex(org-table-kill-row)}}}</p>
  </dd>
  <dt>{{{kbdkey(M-S-,down)}}}, <code>org-table-insert-row</code></dt><dd>Insert a new row
    above the current row.  With a prefix argument, the line is
    created below the current one.
    <p>{{{kindex(M-S-down)}}}
      {{{findex(org-table-insert-row)}}}</p>
  </dd>
  <dt>{{{kbd(C-c -)}}}, <code>org-table-insert-hline</code></dt><dd>Insert a horizontal
    line below current row.  With a prefix argument, the line is
    created above the current line.
    <p>{{{kindex(C-c -)}}}
      {{{findex(org-table-insert-hline)}}}</p>
  </dd>
  <dt>{{{kbdspckey(C-c,RET)}}}, <code>org-table-hline-and-move</code></dt><dd>Insert a
    horizontal line below current row, and move the cursor into the
    row below that line.
    <p>{{{kindex(C-c RET)}}}
      {{{findex(org-table-hline-and-move)}}}</p>
  </dd>
  <dt>{{{kbd(C-c ^)}}}, <code>org-table-sort-lines</code></dt><dd>Sort the table lines in
    the region.  The position of point indicates the column to be
    used for sorting, and the range of lines is the range between the
    nearest horizontal separator lines, or the entire table.  If
    point is before the first column, you will be prompted for the
    sorting column.  If there is an active region, the mark specifies
    the first line and the sorting column, while point should be in
    the last line to be included into the sorting.  The command
    prompts for the sorting type (alphabetically, numerically, or by
    time).  When called with a prefix argument, alphabetic sorting
    will be case-sensitive.
    <p>{{{kindex(C-c ^)}}}
      {{{findex(org-table-sort-lines)}}}</p>
  </dd>
</dl>
<h3><span class="heading-number heading-number-3">3.1.4</span> Regions</h3>
<dl>
  <dt>{{{kbd(C-c C-x M-w)}}}, <code>org-table-copy-region</code></dt><dd>Copy a rectangular
    region from a table to a special clipboard.  Point and mark
    determine edge fields of the rectangle.  If there is no active
    region, copy just the current field.  The process ignores
    horizontal separator lines.
    <p>{{{kindex(C-c C-x M-w)}}}
      {{{findex(org-table-copy-region)}}}</p>
  </dd>
  <dt>{{{kbd(C-c C-x C-w)}}}, <code>org-table-cut-region</code></dt><dd>Copy a rectangular
    region from a table to a special clipboard, and blank all fields
    in the rectangle.  So this is the &#8220;cut&#8221; operation.
    <p>{{{kindex(C-c C-x C-w)}}}
      {{{findex(org-table-cut-region)}}}</p>
  </dd>
  <dt>{{{kbd(C-c C-x C-y)}}}, <code>org-table-paste-rectangle</code></dt><dd>Paste a
    rectangular region into a table.  The upper left corner ends up
    in the current field.  All involved fields will be overwritten.
    If the rectangle does not fit into the present table, the table
    is enlarged as needed.  The process ignores horizontal separator
    lines.
    <p>{{{kindex(C-c C-x C-y)}}}
      {{{findex(org-table-paste-rectangle)}}}</p>
  </dd>
  <dt>{{{kbdkey(M-,RET)}}}, <code>org-table-wrap-region</code></dt><dd>Split the current
    field at the cursor position and move the rest to the line below.
    If there is an active region, and both point and mark are in the
    same column, the text in the column is wrapped to minimum width
    for the given number of lines.  A numeric prefix argument may be
    used to change the number of desired lines.  If there is no
    region, but you specify a prefix argument, the current field is
    made blank, and the content is appended to the field above.
    <p>{{{kindex(M-RET)}}}
      {{{findex(org-table-wrap-region)}}}</p>
  </dd>
</dl>
<h3><span class="heading-number heading-number-3">3.1.5</span> Calculations</h3>{{{cindex(formula&#92;\, in tables)}}}
  {{{cindex(calculations&#92;\, in tables)}}}
  {{{cindex(region&#92;\, active)}}}
  {{{cindex(active region)}}}
  {{{cindex(transient mark mode)}}}
<dl>
  <dt>{{{kbd(C-c +)}}}, <code>org-table-sum</code></dt><dd>Sum the numbers in the current
    column, or in the rectangle defined by the active region.  The
    result is shown in the echo area and can be inserted with
    {{{kbd(C-y)}}}.
    <p>{{{kindex(C-c +)}}}
      {{{findex(org-table-sum)}}}</p>
  </dd>
  <dt>{{{kbdkey(S-,RET)}}}, <code>org-table-copy-down</code></dt><dd>When current field is
    empty, copy from first non-empty field above.  When not empty,
    copy current field down to next row and move cursor along with
    it.  Depending on the variable <code>org-table-copy-increment</code>,
    integer field values will be incremented during copy.  Integers
    that are too large will not be incremented.  Also, a <code>0</code> prefix
    argument temporarily disables the increment.  This key is also
    used by shift-selection and related modes (see @<a href="Conflicts">Conflicts@</a>).
    <p>{{{kindex(S-RET)}}}
      {{{findex(org-table-copy-down)}}}
      {{{vindex(org-table-copy-increment)}}}</p>
  </dd>
</dl>
<h3><span class="heading-number heading-number-3">3.1.6</span> Misc</h3>
<dl>
  <dt>{{{kbd(C-c `)}}}, <code>org-table-edit-field</code></dt><dd>Edit the current field in
    a separate window.  This is useful for fields that are not fully
    visible (see @<a href="Column width and alignment">Column width and alignment@</a>).  When called with a
    {{{kbd(C-u)}}} prefix, just make the full field visible, so that
    it can be edited in place.  When called with two {{{kbd(C-u)}}}
    prefixes, make the editor window follow the cursor through the
    table and always show the current field.  The follow mode exits
    automatically when the cursor leaves the table, or when you
    repeat this command with {{{kbd(C-u C-u C-c `)}}}.
    <p>{{{kindex(C-c `)}}}
      {{{findex(org-table-edit-field)}}}</p>
  </dd>
  <dt>{{{kbd(M-x org-table-import)}}}</dt><dd>Import a file as a table.  The
    table should be TAB or whitespace separated.  Use, for example,
    to import a spreadsheet table or data from a database, because
    these programs generally can write TAB-separated text files.
    This command works by inserting the file into the buffer and then
    converting the region to a table.  Any prefix argument is passed
    on to the converter, which uses it to determine the separator.</dd>
  <dt>{{{kbd(C-c |)}}}, <code>org-table-create-or-convert-from-region</code></dt><dd>Tables
    can also be imported by pasting tabular text into the Org buffer,
    selecting the pasted text with {{{kbd(C-x C-x)}}} and then using
    the {{{kbd(C-c |)}}} command (see @<a href="Creation and conversion">Creation and conversion@</a>).
    <p>{{{kindex(C-c |)}}}
      {{{findex(org-table-create-or-convert-from-region)}}}</p>
  </dd>
  <dt>{{{kbd(M-x org-table-export)}}}</dt><dd>Export the table, by default as a
    TAB-separated file.  Use for data exchange with, for example,
    spreadsheet or database programs.  The format used to export the
    file can be configured in the variable
    <code>org-table-export-default-format</code>.  You may also use properties
    <code>TABLE_EXPORT_FILE</code> and <code>TABLE_EXPORT_FORMAT</code> to specify the file
    name and the format for table export in a subtree.  Org supports
    quite general formats for exported tables.  The exporter format
    is the same as the format used by Orgtbl radio tables, see
    [[Translator functions], for a detailed description.
    <p>{{{findex(org-table-export)}}}
      {{{vindex(org-table-export-default-format)}}}</p>
  </dd>
</dl>
<p>If you don&#8217;t like the automatic table editor because it gets in your
  way on lines which you would like to start with {{{samp(|)}}}, you can
  turn it off with</p>
<pre class="src src-emacs-lisp">
(setq org-enable-table-editor nil)
</pre>
<p>{{{noindent}}} Then the only table command that still works is
  {{{kbd(C-c C-c)}}} to do a manual re-align.</p>
<h2><span class="heading-number heading-number-2">3.2</span> Column width and alignment</h2>{{{cindex(narrow columns in tables)}}}
  {{{cindex(alignment in tables)}}}
<p>The width of columns is automatically determined by the table editor.
  And also the alignment of a column is determined automatically from
  the fraction of number-like versus non-number fields in the column.</p>
<p>Sometimes a single field or a few fields need to carry more text,
  leading to inconveniently wide columns.  Or maybe you want to make a
  table with several columns having a fixed width, regardless of
  content.  To set the width of a column, one field anywhere in the
  column may contain just the string <code>&lt;N&gt;</code> where <code>N</code>
  is an integer specifying the width of the column in characters.<sup><a class="footref" name="fnr.23" href="#fn.23">23</a></sup>
  The next re-align will then set the width of this column to this
  value.</p>
<pre class="example">
|---+------------------------------|               |---+--------|
|   |                              |               |   | &lt;6&gt;    |
| 1 | one                          |               | 1 | one    |
| 2 | two                          |     ----\     | 2 | two    |
| 3 | This is a long chunk of text |     ----/     | 3 | This=&gt; |
| 4 | four                         |               | 4 | four   |
|---+------------------------------|               |---+--------|
</pre>
<p>{{{noindent}}} Fields that are wider become clipped and end in the
  string {{{samp(=&gt;)}}}.  Note that the full text is still in the buffer
  but is hidden.  To see the full text, hold the mouse over the
  field&#8212;a tool-tip window will show the full content.  To edit such a
  field, use the command {{{kbd(C-c `)}}} (that is {{{kbd(C-c)}}}
  followed by the backquote).  This will open a new window with the full
  field.  Edit it and finish with {{{kbd(C-c C-c)}}}.</p>
<p>{{{vindex(org-startup-align-all-tables)}}}</p>
<p>When visiting a file containing a table with narrowed columns, the
  necessary character hiding has not yet happened, and the table needs
  to be aligned before it looks nice.  Setting the option
  <code>org-startup-align-all-tables</code> will realign all tables in a file upon
  visiting, but also slow down startup.  You can also set this option on
  a per-file basis with:</p>
<pre class="src src-org">
,#+STARTUP: align
,#+STARTUP: noalign
</pre>
<p>If you would like to overrule the automatic alignment of number-rich
  columns to the right and of string-rich columns to the left, you can
  use <code>&lt;r&gt;</code>, <code>&lt;c&gt;</code> or <code>&lt;l&gt;</code> in a similar fashion.<sup><a class="footref" name="fnr.24" href="#fn.24">24</a></sup> You may also
  combine alignment and field width like this: <code>&lt;l10&gt;</code>.</p>
<p>A line that only contains these formatting cookies will be removed
  automatically when exporting the document.</p>
<h2><span class="heading-number heading-number-2">3.3</span> Column groups</h2>{{{cindex(grouping columns in tables)}}}
<p>When Org exports tables, it does so by default without vertical lines
  because that is visually more satisfying in general. Occasionally
  however, vertical lines can be useful to structure a table into groups
  of columns, much like horizontal lines can do for groups of rows. In
  order to specify column groups, you can use a special row where the
  first field contains only {{{samp(/)}}}. The further fields can either
  contain <code>&lt;</code> to indicate that this column should start a group,
  <code>&gt;</code> to indicate the end of a column, or <code>&lt;&gt;</code> (no space
  between <code>&lt;</code> and <code>&gt;</code>) to make a column a group of its own. Boundaries
  between column groups will upon export be marked with vertical lines.
  Here is an example:</p>
<pre class="src src-org">
| N | N^2 | N^3 | N^4 | sqrt(n) | sqrt[4](N) |
|---+-----+-----+-----+---------+------------|
| / |   &lt; |     |   &gt; |       &lt; |          &gt; |
| 1 |   1 |   1 |   1 |       1 |          1 |
| 2 |   4 |   8 |  16 |  1.4142 |     1.1892 |
| 3 |   9 |  27 |  81 |  1.7321 |     1.3161 |
|---+-----+-----+-----+---------+------------|
,#+TBLFM: $2=$1^2::$3=$1^3::$4=$1^4::$5=sqrt($1)::$6=sqrt(sqrt(($1)))
</pre>
<p>It is also sufficient to just insert the column group starters after
  every vertical line you would like to have:</p>
<pre class="src src-org">
|  N | N^2 | N^3 | N^4 | sqrt(n) | sqrt[4](N) |
|----+-----+-----+-----+---------+------------|
| /  | &lt;   |     |     | &lt;       |            |
</pre>
<h2><span class="heading-number heading-number-2">3.4</span> The Orgtbl mode minor mode</h2>{{{cindex(Orgtbl mode)}}}
  {{{cindex(minor mode for tables)}}}
<p>If you like the intuitive way the Org table editor works, you might
  also want to use it in other modes like Text mode or Mail mode.  The
  minor mode Orgtbl mode makes this possible.  You can always toggle the
  mode with {{{kbd(M-x orgtbl-mode)}}}.  To turn it on by default, for
  example in Message mode, use</p>
<pre class="src src-emacs-lisp">
(add-hook 'message-mode-hook 'turn-on-orgtbl)
</pre>
<p>Furthermore, with some special setup, it is possible to maintain
  tables in arbitrary syntax with Orgtbl mode.  For example, it is
  possible to construct LaTeX tables with the underlying ease and
  power of Orgtbl mode, including spreadsheet capabilities.  For
  details, see <a href="Tables in arbitrary syntax">Tables in arbitrary syntax</a>.</p>
<h2><span class="heading-number heading-number-2">3.5</span> The spreadsheet</h2>{{{cindex(calculations&#92;\, in tables)}}}
  {{{cindex(spreadsheet capabilities)}}}
  {{{cindex(@file{calc} package)}}}
<p>The table editor makes use of the Emacs {{{file(calc)}}} package to
  implement spreadsheet-like capabilities.  It can also evaluate Emacs
  Lisp forms to derive fields from other fields.  While fully featured,
  Org&#8217;s implementation is not identical to other spreadsheets.  For
  example, Org knows the concept of a <i>column formula</i> that will be
  applied to all non-header fields in a column without having to copy
  the formula to each relevant field.  There is also a formula debugger,
  and a formula editor with features for highlighting fields in the
  table corresponding to the references at the point in the formula,
  moving these references by arrow keys</p>
<h3><span class="heading-number heading-number-3">3.5.1</span> References</h3>{{{cindex(references)}}}
<p>To compute fields in the table from other fields, formulas must
  reference other fields or ranges.  In Org, fields can be referenced by
  name, by absolute coordinates, and by relative coordinates.  To find
  out what the coordinates of a field are, press {{{kbd(C-c ?)}}} in
  that field, or press {{{kbd(C-c })}}} to toggle the display of a
  grid.</p>
<h4><span class="heading-number heading-number-4">3.5.1.1</span> Field references</h4>{{{cindex(field references)}}}
  {{{cindex(references&#92;\, to fields)}}}
<p>Formulas can reference the value of another field in two ways.  Like
  in any other spreadsheet, you may reference fields with a
  letter/number combination like <code>B3</code>, meaning the 2nd field in the 3rd
  row.  {{{vindex(org-table-use-standard-references)}}} However, Org
  prefers to use another, more general representation that looks
  like this:<sup><a class="footref" name="fnr.25" href="#fn.25">25</a></sup></p>
<pre class="example">
@ROW$COLUMN
</pre>
<p>Column specifications can be absolute like <code>$1</code>, <code>$2</code>, &#8230;, <code>$N</code>, or
  relative to the current column (i.e., the column of the field which is
  being computed) like <code>$+1</code> or <code>$-2</code>. <code>$&lt;</code> and <code>$&gt;</code> are immutable
  references to the first and last column, respectively, and you can use
  <code>$&gt;&gt;&gt;</code> to indicate the third column from the right.</p>
<p>The row specification only counts data lines and ignores horizontal
  separator lines (hlines). Like with columns, you can use absolute row
  numbers <code>@1</code>, <code>@2</code>, &#8230;, <code>@N</code>, and row numbers relative to the current
  row like <code>@+3</code> or <code>@-1</code>. <code>@&lt;</code> and <code>@&gt;</code> are immutable references the
  first and last row in the table, respectively.<sup><a class="footref" name="fnr.26" href="#fn.26">26</a></sup> You may also
  specify the row relative to one of the hlines: <code>@I</code> refers to the
  first hline, <code>@II</code> to the second, etc. <code>@-I</code> refers to the first such
  line above the current line, <code>@+I</code> to the first such line below the
  current line. You can also write <code>@III+2</code> which is the second data
  line after the third hline in the table.</p>
<p><code>@0</code> and <code>$0</code> refer to the current row and column, respectively, i.e.,
  to the row/column for the field being computed. Also, if you omit
  either the column or the row part of the reference, the current
  row/column is implied.</p>
<p>Org&#8217;s references with <i>unsigned</i> numbers are fixed references in the
  sense that if you use the same reference in the formula for two
  different fields, the same field will be referenced each time.  Org&#8217;s
  references with <i>signed</i> numbers are floating references because the
  same reference operator can reference different fields depending on
  the field being calculated by the formula.</p>
<p>Here are a few examples:</p>
<dl>
  <dt>@2$3</dt><dd>2nd row, 3rd column (same as <code>C2</code>)</dd>
  <dt>$5</dt><dd>column 5 in the current row (same as <code>E&amp;</code>)</dd>
  <dt>@2</dt><dd>current column, row 2</dd>
  <dt>@-1$-3</dt><dd>the field one row up, three columns to the left</dd>
  <dt>@-I$2</dt><dd>field just under hline above current row, column 2</dd>
  <dt>@>$5</dt><dd>field in the last row, in column 5</dd>
</dl>
<h4><span class="heading-number heading-number-4">3.5.1.2</span> Range references</h4>{{{cindex(range references)}}}
  {{{cindex(references&#92;\, to ranges)}}}
<p>You may reference a rectangular range of fields by specifying two
  field references connected by two dots <code>..</code>.  If both fields are in
  the current row, you may simply use <code>$2..$7</code>, but if at least one
  field is in a different row, you need to use the general <code>@row$column</code>
  format at least for the first field (i.e., the reference must start
  with <code>@</code> in order to be interpreted correctly).  Examples:</p>
<dl>
  <dt>$1..$3</dt><dd>first three fields in the current row</dd>
  <dt>$P..$Q</dt><dd>range, using column names (see under Advanced)</dd>
  <dt>$<<<..$>></dt><dd>start in third column, continue to the one but last</dd>
  <dt>@2$1..@4$3</dt><dd>six fields between these two fields (same as
    <code>A2..C4</code>)</dd>
  <dt>@-1$-2..@-1</dt><dd>three numbers from the column to the left, 2 up to
    current row</dd>
  <dt>@I..II</dt><dd>between first and second hline, short for <code>@I..@II</code></dd>
</dl>
<p>{{{noindent}}} Range references return a vector of values that can be
  fed into Calc vector functions.  Empty fields in ranges are normally
  suppressed, so that the vector contains only the non-empty fields (but
  see the <code>E</code> mode switch below).  If there are no non-empty fields,
  <code>[0]</code> is returned to avoid syntax errors in formulas.</p>
<h4><span class="heading-number heading-number-4">3.5.1.3</span> Field coordinates in formulas</h4>{{{cindex(field coordinates)}}}
  {{{cindex(coordinates&#92;\, of field)}}}
  {{{cindex(row&#92;\, of field coordinates)}}}
  {{{cindex(column&#92;\, of field coordinates)}}}
<p>For Calc formulas and Lisp formulas <code>@#</code> and <code>$#</code> can be used to get
  the row or column number of the field where the formula result goes.
  The traditional Lisp formula equivalents are <code>org-table-current-dline</code>
  and <code>org-table-current-column</code>.  Examples:</p>
<dl>
  <dt>if(@# % 2, $#, string(&#8220;&#8221;))</dt><dd>column number on odd lines only</dd>
  <dt>$3 = remote(FOO, @#$2)</dt><dd>copy column 2 from table FOO into
    column 3 of the current table</dd>
</dl>
<p>{{{noindent}}} For the second example, table FOO must have at least as
  many rows as the current table. Note that this is inefficient for
  large number of rows.<sup><a class="footref" name="fnr.27" href="#fn.27">27</a></sup></p>
<h4><span class="heading-number heading-number-4">3.5.1.4</span> Named references</h4>{{{cindex(named references)}}}
  {{{cindex(references&#92;\, named)}}}
  {{{cindex(name&#92;\, of column or field)}}}
  {{{cindex(constants&#92;\, in calculations)}}}
  {{{cindex(#+CONSTANTS)}}}
  {{{vindex(org-table-formula-constants)}}}
<p>{{{samp($name)}}} is interpreted as the name of a column, parameter or
  constant.  Constants are defined globally through the variable
  <code>org-table-formula-constants</code>, and locally (for the file) through a
  line like this example:</p>
<pre class="src src-org">
,#+CONSTANTS: c=299792458. pi=3.14 eps=2.4e-6
</pre>
<p>{{{noindent}}}
  {{{vindex(constants-unit-system)}}}
  {{{pindex(constants.el)}}}</p>
<p>Also, properties (see <a href="Properties and columns">Properties and columns</a>) can be used as constants
  in table formulas: for a property <code>:Xyz:</code> use the name <code>$PROP_Xyz</code>,
  and the property will be searched in the current outline entry and in
  the hierarchy above it. If you have the {{{file(constants.el)}}}
  package, it will also be used to resolve constants, including natural
  constants like <code>$h</code> for Planck&#8217;s constant, and units like <code>$km</code> for
  kilometers. Column names and parameters can be specified in special
  table lines. These are described in the section, <a href="Advanced features">Advanced features</a>.
  All names must start with a letter, and further consist of letters and
  numbers.<sup><a class="footref" name="fnr.175" href="#fn.175">175</a></sup></p>
<h4><span class="heading-number heading-number-4">3.5.1.5</span> Remote references</h4>{{{cindex(remote references)}}}
  {{{cindex(references&#92;\, remote)}}}
  {{{cindex(references&#92;\, to a different table)}}}
  {{{cindex(name&#92;\, of column or field)}}}
  {{{cindex(constants&#92;\, in calculations)}}}
  {{{cindex(#+TBLNAME)}}}
<p>You may also reference constants, fields and ranges from a different
  table, either in the current file or even in a different file.  The
  syntax is</p>
<pre class="example">
remote(NAME-OR-ID,REF)
</pre>
<p>{{{noindent}}} where NAME can be the name of a table in the current
  file as set by a <code>#+TBLNAME: NAME</code> line before the table. It can also
  be the ID of an entry, even in a different file, and the reference
  then refers to the first table in that entry. REF is an absolute field
  or range reference as described above for example <code>@3$3</code> or
  <code>$somename</code>, valid in the referenced table.</p>
<h3><span class="heading-number heading-number-3">3.5.2</span> Formula syntax for Calc</h3>{{{cindex(formula syntax&#92;\, Calc)}}}
  {{{cindex(syntax&#92;\, of formulas)}}}
<p>A formula can be any algebraic expression understood by the Emacs
  {{{file(Calc)}}} package.<sup><a class="footref" name="fnr.28" href="#fn.28">28</a></sup>  Before evaluation by
  <code>calc-eval</code> (see <a href="info:calc#Calling Calc from Your Programs">Calling Calc from Your Lisp Programs</a>), variable
  substitution takes place according to the rules described above.
  {{{cindex(vectors&#92;\, in table calculations)}}} The range vectors can
  be directly fed into the Calc vector functions like <code>vmean</code> and
  <code>vsum</code>.</p>
<p>{{{cindex(format specifier)}}}
  {{{cindex(mode&#92;\, for @file{calc})}}}
  {{{vindex(org-calc-default-modes)}}}</p>
<p>A formula can contain an optional mode string after a semicolon.  This
  string consists of flags to influence Calc and other modes during
  execution.  By default, Org uses the standard Calc modes (precision
  12, angular units degrees, fraction and symbolic modes off).  The
  display format, however, has been changed to <code>(float 8)</code> to keep
  tables compact.  The default settings can be configured using the
  variable <code>org-calc-default-modes</code>.</p>
<dl>
  <dt>p20</dt><dd>set the internal Calc calculation precision to 20 digits</dd>
  <dt>n3 s3 e2 f4</dt><dd>normal, scientific, engineering, or fixed format of
    the result of Calc passed back to Org. Calc
    formatting is unlimited in precision as long as the
    Calc calculation precision is greater.</dd>
  <dt>D R</dt><dd>angle modes: degrees, radians</dd>
  <dt>F S</dt><dd>fraction and symbolic modes</dd>
  <dt>N</dt><dd>interpret all fields as numbers, use 0 for non-numbers</dd>
  <dt>E</dt><dd>keep empty fields in ranges</dd>
  <dt>L</dt><dd>literal</dd>
</dl>
<p>{{{noindent}}} Unless you use large integer numbers or
  high-precision-calculation and -display for floating point numbers you
  may alternatively provide a <code>printf</code> format specifier to reformat the
  Calc result after it has been passed back to Org instead of letting
  Calc already do the formatting.<sup><a class="footref" name="fnr.29" href="#fn.29">29</a></sup> A few examples:</p>
<dl>
  <dt>$1+$2</dt><dd>Sum of first and second field</dd>
  <dt>$1+$2;%.2f</dt><dd>Same, format result to two decimals</dd>
  <dt>exp($2)+exp($1)</dt><dd>Math functions can be used</dd>
  <dt>$0;%.1f</dt><dd>Reformat current cell to 1 decimal</dd>
  <dt>($3-32)*5/9</dt><dd>Degrees F -> C conversion</dd>
  <dt>$c/$1/$cm</dt><dd>Hz -> cm conversion, using
    {{{file(constants.el)}}}</dd>
  <dt>tan($1);Dp3s1</dt><dd>Compute in degrees, precision 3, display SCI 1</dd>
  <dt>sin($1);Dp3%.1e</dt><dd>Same, but use <code>printf</code> specifier for display</dd>
  <dt>vmean($2..$7)</dt><dd>Compute column range mean, using vector
    function</dd>
  <dt>vmean($2..$7);EN</dt><dd>Same, but treat empty fields as 0</dd>
  <dt>taylor($3,x=7,2)</dt><dd>Taylor series of $3, at x=7, second degree</dd>
</dl>
<p>Calc also contains a complete set of logical operations.  For example</p>
<dl>
  <dt>if($1<20,teen,string(""))</dt><dd>&#8220;teen&#8221; if age $1 less than 20, else empty</dd>
</dl>
<p>Note that you can also use two org-specific flags <code>T</code> and <code>t</code> for
  durations computations <a href="Duration and time values">Duration and time values</a>.</p>
<p>You can add your own Calc functions defined in Emacs Lisp with
  <code>defmath</code> and use them in formula syntax for Calc.</p>
<h3><span class="heading-number heading-number-3">3.5.3</span> Emacs Lisp forms as formulas</h3>{{{cindex(Lisp forms&#92;\, as table formulas)}}}
<p>It is also possible to write a formula in Emacs Lisp.  This can be
  useful for string manipulation and control structures, if Calc&#8217;s
  functionality is not enough.</p>
<p>If a formula starts with a single-quote followed by an opening
  parenthesis, then it is evaluated as a Lisp form. The evaluation
  should return either a string or a number. Just as with
  {{{file(calc)}}} formulas, you can specify modes and a printf format
  after a semicolon.</p>
<p>With Emacs Lisp forms, you need to be conscious about the way field
  references are interpolated into the form. By default, a reference
  will be interpolated as a Lisp string (in double-quotes) containing
  the field. If you provide the {{{samp(N)}}} mode switch, all
  referenced elements will be numbers (non-number fields will be zero)
  and interpolated as Lisp numbers, without quotes. If you provide the
  {{{samp(L)}}} flag, all fields will be interpolated literally, without
  quotes. I.e., if you want a reference to be interpreted as a string by
  the Lisp form, enclose the reference operator itself in double-quotes,
  like ~&#8221;$3&#8221;~. Ranges are inserted as space-separated fields, so you can
  embed them in list or vector syntax.</p>
<p>Here are a few examples&#8212;note how the {{{samp(N)}}} mode is used when
  we do computations in Lisp.</p>
<p>Swap the first two characters of the content of column 1:</p>
<pre class="src src-emacs-lisp">
'(concat (substring $1 1 2) (substring $1 0 1) (substring $1 2))
</pre>
<p>Add columns 1 and 2, equivalent to Calc&#8217;s <code>$1+$2</code>:</p>
<pre class="src src-emacs-lisp">
'(+ $1 $2);N
</pre>
<p>Compute the sum of columns 1-4, like Calc&#8217;s <code>vsum($1..$4)</code>}:</p>
<pre class="src src-emacs-lisp">
'(apply '+ '($1..$4));N
</pre>
<h3><span class="heading-number heading-number-3">3.5.4</span> Duration and time values</h3>{{{cindex(Duration&#92;\, computing)}}}
  {{{cindex(Time&#92;\, computing)}}}
  {{{vindex(org-table-duration-custom-format)}}}
<p>If you want to compute time values use the <code>T</code> flag, either in Calc
  formulas or Elisp formulas:</p>
<pre class="example">
|  Task 1 |   Task 2 |    Total |
|---------+----------+----------|
|    2:12 |     1:47 | 03:59:00 |
| 3:02:20 | -2:07:00 |     0.92 |
#+TBLFM: @2$3=$1+$2;T::@3$3=$1+$2;t
</pre>
<p>Input duration values must be of the form <code>[HH:MM[:SS]</code>, where seconds
  are optional. With the <code>T</code> flag, computed durations will be displayed
  as <code>HH:MM:SS</code> (see the first formula above). With the <code>t</code> flag,
  computed durations will be displayed according to the value of the
  variable <code>org-table-duration-custom-format</code>, which defaults to
  ~&#8217;hours~ and will display the result as a fraction of hours (see the
  second formula in the example above).</p>
<p>Negative duration values can be manipulated as well, and integers will
  be considered as seconds in addition and subtraction.</p>
<h3><span class="heading-number heading-number-3">3.5.5</span> Field and range formulas</h3>{{{cindex(field formula)}}}
  {{{cindex(range formula)}}}
  {{{cindex(formula&#92;\, for individual table field)}}}
  {{{cindex(formula&#92;\, for range of fields)}}}
<p>To assign a formula to a particular field, type it directly into the
  field, preceded by <code>:=</code>, for example <code>vsum(@II..III)</code>. When you press
  {{{key(TAB)}}} or {{{key(RET)}}} or {{{kbd(C-c C-c)}}} with the cursor
  still in the field, the formula will be stored as the formula for this
  field, evaluated, and the current field will be replaced with the
  result.</p>
<p>{{{cindex(#+TBLFM)}}}</p>
<p>Formulas are stored in a special line starting with <code>#+TBLFM:</code>
  directly below the table. If you type the equation in the fourth field
  of the third data line in the table, the formula will look like
  <code>@3$4=$1+$2</code>. When inserting/deleting/swapping column and rows with
  the appropriate commands, <i>absolute references</i> (but not relative
  ones) in stored formulas are modified in order to still reference the
  same field. To avoid this from happening, in particular in range
  references, anchor ranges at the table borders (using <code>@&lt;</code>, <code>@&gt;</code>,
  <code>$&lt;</code>, <code>$&gt;</code>), or at hlines using the <code>@I</code> notation. Automatic
  adaptation of field references does of course not happen if you edit
  the table structure with normal editing commands&#8212;then you must fix
  the equations yourself.</p>
<p>Instead of typing an equation into the field, you may also use the
  following command</p>
<dl>
  <dt>{{{kbd(C-u C-c =)}}}, <code>org-table-eval-formula</code></dt><dd>Install a new
    formula for the current field.  The command prompts for a
    formula with default taken from the {{{samp(#+TBLFM:)}}} line,
    applies it to the current field, and stores it.
    <p>{{{kindex(C-u C-c =)}}}
      {{{findex(org-table-eval-formula)}}}</p>
  </dd>
</dl>
<p>The left-hand side of a formula can also be a special expression in
  order to assign the formula to a number of different fields. There is
  no keyboard shortcut to enter such range formulas. To add them, use
  the formula editor (see <a href="Editing and debugging formulas">Editing and debugging formulas</a>) or edit the
  <code>#+TBLFM:</code> line directly.</p>
<dl>
  <dt>$2=</dt><dd>Column formula, valid for the entire column.  This is so
    common that Org treats these formulas in a special way, see
    @<a href="Column formulas">Column formulas@</a>.</dd>
  <dt>@3=</dt><dd>Row formula, applies to all fields in the specified row.
    <code>@@&gt;=</code> means the last row.</dd>
  <dt>@1$2..@4$3=</dt><dd>Range formula, applies to all fields in the given
    rectangular range.  This can also be used to
    assign a formula to some but not all fields in a
    row.</dd>
  <dt>$name=</dt><dd>Named field, see @<a href="Advanced features">Advanced features@</a>.</dd>
</dl>
<h3><span class="heading-number heading-number-3">3.5.6</span> Column formulas</h3>{{{cindex(column formula)}}}
  {{{cindex(formula&#92;\, for table column)}}}
<p>When you assign a formula to a simple column reference like <code>$3=</code>, the
  same formula will be used in all fields of that column, with the
  following very convenient exceptions:</p>
<ul>
  <li>If the table contains horizontal separator hlines with rows above
    and below, everything before the first such hline is considered
    part of the table <i>header</i> and will not be modified by column
    formulas. Therefore a header is mandatory when you use column
    formulas and want to add hlines to group rows, like for example
    to separate a total row at the bottom from the summand rows
    above.</li>
  <li>Fields that already get a value from a field/range formula will
    be left alone by column formulas. These conditions make column
    formulas very easy to use.</li>
</ul>
<p>To assign a formula to a column, type it directly into any field in
  the column, preceded by an equal sign, like {{{samp(=$1+$2)}}}. When
  you press {{{key(TAB)}}} or {{{key(RET)}}} or {{{kbd(C-c C-c)}}} with
  the cursor still in the field, the formula will be stored as the
  formula for the current column, evaluated and the current field
  replaced with the result. If the field contains only {{{samp(=)}}},
  the previously stored formula for this column is used. For each
  column, Org will only remember the most recently used formula. In the
  {{{samp(#+TBLFM:)}}} line, column formulas will look like
  {{{samp($4=$1+$2)}}}. The left-hand side of a column formula can not
  be the name of column, it must be the numeric column reference or
  <code>$&gt;</code>.</p>
<p>Instead of typing an equation into the field, you may also use the
  following command:</p>
<dl>
  <dt>{{{kbd(C-c =)}}}, <code>org-table-eval-formula</code></dt><dd>Install a new formula
    for the current column and replace current field with the
    result of the formula.  The command prompts for a formula, with
    default taken from the {{{samp(#+TBLFM)}}} line, applies it to
    the current field and stores it.  With a numeric prefix
    argument(e.g., {{{kbd(C-5 C-c =)}}}) the command will apply it
    to that many consecutive fields in the current column.
    <p>{{{kindex(C-c =)}}}
      {{{findex(org-table-eval-formula)}}}</p>
  </dd>
</dl>
<h3><span class="heading-number heading-number-3">3.5.7</span> Lookup functions</h3>{{{cindex(lookup functions in tables)}}}
  {{{cindex(table lookup functions)}}}
<p>Org has three predefined Emacs Lisp functions for lookups in tables.</p>
<dl>
  <dt>(org-lookup-first VAL S-LIST R-LIST &optional PREDICATE)</dt><dd>Searches
    for the first element <code>S</code> in list <code>S-LIST</code> for which
    <p>{{{findex(org-lookup-first)}}}</p>
    <pre class="src src-emacs-lisp">
(PREDICATE VAL S)
    </pre>
    <p>is <code>t</code>; returns the value from the corresponding position in
      list <code>R-LIST</code>.  The default <code>PREDICATE</code> is <code>equal</code>.  Note that
      the parameters <code>VAL</code> and <code>S</code> are passed to <code>PREDICATE</code> in the
      same order as the correspoding parameters are in the call to
      <code>org-lookup-first</code>, where <code>VAL</code> precedes <code>S-LIST</code>.  If <code>R-LIST</code>
      is <code>nil</code>, the matching element <code>S</code> of <code>S-LIST</code> is returned.</p>
  </dd>
  <dt>(org-lookup-last VAL S-LIST R-LIST &optional PREDICATE)</dt><dd>Similar
    to <code>org-lookup-first</code> above, but searches for the @<i>last@</i>
    element for which <code>PREDICATE</code> is <code>t</code>.
    <p>{{{findex(org-lookup-last)}}}</p>
  </dd>
  <dt>(org-lookup-all VAL S-LIST R-LIST &optional PREDICATE)</dt><dd>Similar
    to <code>org-lookup-first</code>, but searches for @<i>all@</i> elements for
    which <code>PREDICATE</code> is <code>t</code>, and returns @<i>all@</i> corresponding
    values.  This function can not be used by itself in a formula,
    because it returns a list of values.  However, powerful lookups
    can be built when this function is combined with other Emacs
    Lisp functions.
    <p>{{{findex(org-lookup-all)}}}</p>
  </dd>
</dl>
<p>If the ranges used in these functions contain empty fields, the <code>E</code>
  mode for the formula should usually be specified: otherwise empty
  fields will not be included in <code>S-LIST</code> and/or <code>R-LIST</code> which can, for
  example, result in an incorrect mapping from an element of <code>S-LIST</code> to
  the corresponding element of <code>R-LIST</code>.</p>
<p>These three functions can be used to implement associative arrays,
  count matching cells, rank results, group data, etc.  For practical
  examples see <a href="http://orgmode.org/worg/org-tutorials/org-lookups.html">this tutorial on Worg</a>.</p>
<h3><span class="heading-number heading-number-3">3.5.8</span> Editing and debugging formulas</h3>{{{cindex(formula editing)}}}
  {{{cindex(editing&#92;\, of table formulas)}}}
<p>{{{vindex(org-table-use-standard-references)}}} You can edit
  individual formulas in the minibuffer or directly in the field.  Org
  can also prepare a special buffer with all active formulas of a table.
  When offering a formula for editing, Org converts references to the
  standard format (like <code>B3</code> or <code>D&amp;</code>) if possible.  If you prefer to
  only work with the internal format (like <code>@3$2</code> or <code>$4</code>), configure
  the variable <code>org-table-use-standard-references</code>.</p>
<dl>
  <dt>{{{kbd(C-c =)}}} or {{{kbd(C-u C-c =)}}}, <code>org-table-eval-formula</code></dt><dd>
    <p>Edit the formula associated with the current column/field in the
      minibuffer.  See <a href="Column formulas">Column formulas</a>, and <a href="Field and range formulas">Field and range formulas</a>.</p>
    <p>{{{kindex(C-c =)}}}
      {{{kindex(C-u C-c =)}}}
      {{{findex(org-table-eval-formula)}}}</p>
  </dd>
  <dt>{{{kbd(C-u C-u C-c =)}}}, <code>org-table-eval-formula</code></dt><dd>Re-insert the
    active formula (either a field formula, or a column formula)
    into the current field, so that you can edit it directly in the
    field.  The advantage over editing in the minibuffer is that
    you can use the command {{{kbd(C-c ?)}}}.
    <p>{{{kindex(C-u C-u C-c =)}}}
      {{{findex(org-table-eval-formula)}}}</p>
  </dd>
  <dt>{{{kbd(C-c ?)}}}, <code>org-table-field-info</code></dt><dd>While editing a formula
    in a table field, highlight the field(s) referenced by the
    reference at the cursor position in the formula.
    <p>{{{kindex(C-c ?)}}}
      {{{findex(org-table-field-info)}}}</p>
  </dd>
  <dt>{{{kbd(C-c })}}}, <code>org-table-toggle-coordinate-overlays</code></dt><dd>Toggle
    the display of row and column numbers for a table, using
    overlays ({{{command(org-table-toggle-coordinate-overlays)}}}).
    These are updated each time the table is aligned; you can force
    it with {{{kbd(C-c C-c)}}}.
    <p>{{{kindex(C-c @})}}}
      {{{findex(org-table-toggle-coordinate-overlays)}}}</p>
  </dd>
  <dt>{{{kbd(C-c {)}}}, <code>org-table-toggle-formula-debugger</code></dt><dd>Toggle
    the formula debugger on and off.  See below.
    <p>{{{kindex(C-c @{)}}}
      {{{findex(org-table-toggle-formula-debugger)}}}</p>
  </dd>
  <dt>{{{kbd(C-c &#8216;)}}}, <code>org-table-edit-formulas</code></dt><dd>Edit all formulas
    for the current table in a special buffer, where the formulas
    will be displayed one per line.  If the current field has an
    active formula, the cursor in the formula editor will mark it.
    While inside the special buffer, Org will automatically
    highlight any field or range reference at the cursor position.
    You may edit, remove and add formulas, and use the following
    commands:
    <p>{{{kindex(C-c &#8216;)}}}
      {{{findex(org-table-edit-formulas)}}}</p>
  </dd>
</dl>
<dl>
  <dt>{{{kbd(C-c C-c)}}} or {{{kbd(C-x C-s)}}}, <code>org-table-fedit-finish</code></dt><dd>
    <p>Exit the formula editor and store the modified formulas.  With
      {{{kbd(C-u)}}} prefix, also apply the new formulas to the
      entire table.</p>
    <p>{{{kindex(C-x C-s)}}}
      {{{kindex(C-c C-c)}}}
      {{{findex(org-table-fedit-finish)}}}</p>
  </dd>
  <dt>{{{kbd(C-c C-q)}}}, <code>org-table-fedit-abort</code></dt><dd>Exit the formula
    editor without installing changes.
    <p>{{{kindex(C-c C-q)}}}
      {{{findex(org-table-fedit-abort)}}}</p>
  </dd>
  <dt>{{{kbd(C-c C-r)}}}, <code>org-table-fedit-toggle-ref-type</code></dt><dd>Toggle all
    references in the formula editor between standard (like <code>B3</code>)
    and internal (like <code>@3$2</code>).
    <p>{{{kindex(C-c C-r)}}}
      {{{findex(org-table-fedit-toggle-ref-type)}}}</p>
  </dd>
  <dt>{{{key(TAB)}}}, <code>org-table-fedit-lisp-indent</code></dt><dd>Pretty-print or
    indent Lisp formula at point.  When in a line containing a Lisp
    formula, format the formula according to Emacs Lisp rules.
    Another {{{key(TAB)}}} collapses the formula back again.  In
    the open formula, {{{key(TAB)}}} re-indents just like in Emacs
    Lisp mode.
    <p>{{{kindex(TAB)}}}
      {{{findex(org-table-fedit-lisp-indent)}}}</p>
  </dd>
  <dt>{{{kbdkey(M-,TAB)}}}, <code>lisp-complete-symbol</code></dt><dd>Complete Lisp
    symbols, just like in Emacs Lisp mode.
    <p>{{{kindex(M-TAB)}}}
      {{{findex(lisp-complete-symbol)}}}</p>
  </dd>
  <dt>{{{kbdkey(S-,up)}}}/{{{key(down)}}}/{{{key(left)}}}/{{{key(right)}}}</dt><dd>Shift
    the reference at point.  For example, if the reference is <code>B3</code>
    and you press {{{kbdkey(S-,right)}}}, it will become <code>C3</code>.
    This also works for relative references and for hline
    references.
    <p>{{{kindex(S-up)}}}
      {{{kindex(S-down)}}}
      {{{kindex(S-left)}}}
      {{{kindex(S-right)}}}
      {{{findex(org-table-fedit-ref-up)}}}
      {{{findex(org-table-fedit-ref-down)}}}
      {{{findex(org-table-fedit-ref-left)}}}
      {{{findex(org-table-fedit-ref-right)}}}</p>
  </dd>
  <dt>{{{kbdkey(M-S-,up)}}}, <code>org-table-fedit-line-up</code></dt><dd>
    <p>Move the test line for column formulas up in the Org buffer.</p>
    <p>{{{kindex(M-S-up)}}}
      {{{findex(org-table-fedit-line-up)}}}</p>
  </dd>
  <dt>{{{kbdkey(M-S-,down)}}}, <code>org-table-fedit-line-down</code></dt><dd>
    <p>Move the test line for column formulas down in the Org buffer.</p>
    <p>{{{kindex(M-S-down)}}}
      {{{findex(org-table-fedit-line-down)}}}</p>
  </dd>
  <dt>{{{kbdkey(M-,up)}}}, <code>org-table-fedit-scroll-up</code></dt><dd>
    <p>Scroll up the window displaying the table.</p>
    <p>{{{kindex(M-up)}}}
      {{{findex(org-table-fedit-scroll-up)}}}</p>
  </dd>
  <dt>{{{kbdkey(M-,down)}}}, <code>org-table-fedit-scroll-down</code></dt><dd>
    <p>Scroll down the window displaying the table.</p>
    <p>{{{kindex(M-down)}}}
      {{{findex(org-table-fedit-scroll-down)}}}</p>
  </dd>
  <dt>{{{kbd(C-c })}}}</dt><dd>Turn the coordinate grid in the table on and
    off.
    <p>{{{kindex(C-c @})}}}
      {{{findex(org-table-toggle-coordinate-overlays)}}}</p>
  </dd>
</dl>
<p>Making a table field blank does not remove the formula associated with
  the field, because that is stored in a different line (the
  {{{samp(#+TBLFM)}}} line)&#8212;during the next recalculation the field
  will be filled again.  To remove a formula from a field, you have to
  give an empty reply when prompted for the formula, or to edit the
  {{{samp(#+TBLFM)}}} line.</p>
<p>{{{kindex(C-c C-c)}}}
  You may edit the {{{samp(#+TBLFM)}}} directly and re-apply the changed
  equations with {{{kbd(C-c C-c)}}} in that line or with the normal
  recalculation commands in the table.</p>
<h3><span class="heading-number heading-number-3">3.5.9</span> Debugging formulas</h3>
<p>{{{cindex(formula debugging)}}}
  {{{cindex(debugging&#92;\, of table formulas)}}}</p>
<p>When the evaluation of a formula leads to an error, the field content
  becomes the string {{{samp(#ERROR)}}}. If you would like see what is
  going on during variable substitution and calculation in order to find
  a bug, turn on formula debugging in the <code>Tbl</code> menu and repeat the
  calculation, for example by pressing {{{kbdspckey(C-u C-u C-c =,RET)}}}
  in a field. Detailed information will be displayed.</p>
<h3><span class="heading-number heading-number-3">3.5.10</span> Updating the table</h3>{{{cindex(recomputing table fields)}}}
  {{{cindex(updating&#92;\, table)}}}
<p>Recalculation of a table is normally not automatic, but needs to be
  triggered by a command.  See <a href="Advanced features">Advanced features</a>, for a way to make
  recalculation at least semi-automatic.</p>
<p>In order to recalculate a line of a table or the entire table, use the
  following commands:</p>
<dl>
  <dt>{{{kbd(C-c *)}}}, <code>org-table-recalculate</code></dt><dd>Recalculate the
    current row by first applying the stored column formulas from
    left to right, and all field/range formulas in the current row.
    <p>{{{kindex(C-c *)}}}
      {{{findex(org-table-recalculate)}}}</p>
  </dd>
  <dt>{{{kbd(C-u C-c *)}}} or {{{kbd(C-u C-c C-c)}}}</dt><dd>Recompute the
    entire table, line by line.  Any lines before the first hline
    are left alone, assuming that these are part of the table
    header.
    <p>{{{kindex(C-u C-c *)}}}
      {{{kindex(C-u C-c C-c)}}}</p>
  </dd>
  <dt>{{{kbd(C-u C-u C-c *)}}} or {{{kbd(C-u C-u C-c C-c)}}}, <code>org-table-iterate</code></dt><dd>
    <p>Iterate the table by recomputing it until no further changes
      occur.  This may be necessary if some computed fields use the
      value of other fields that are computed <i>later</i> in the
      calculation sequence.</p>
    <p>{{{kindex(C-u C-u C-c *)}}}
      {{{kindex(C-u C-u C-c C-c)}}}
      {{{findex(org-table-iterate)}}}</p>
  </dd>
  <dt>{{{kbd(M-x org-table-recalculate-buffer-tables)}}}</dt><dd>Recompute
    all tables in the current buffer.
    <p>{{{findex(org-table-recalculate-buffer-tables)}}}</p>
  </dd>
  <dt>{{{kbd(M-x org-table-iterate-buffer-tables)}}}</dt><dd>Iterate all
    tables in the current buffer, in order to converge
    table-to-table dependencies.
    <p>{{{findex(org-table-iterate-buffer-tables)}}}</p>
  </dd>
</dl>
<h3><span class="heading-number heading-number-3">3.5.11</span> Advanced features</h3>If you want the recalculation of fields to happen automatically, or if
  you want to be able to assign <i>names</i> to fields and columns,
  you need to reserve the first column of the table for special marking
  characters.<sup><a class="footref" name="fnr.30" href="#fn.30">30</a></sup>
<dl>
  <dt>{{{kbd(C-#)}}}, <code>org-table-rotate-recalc-marks</code></dt><dd>Rotate the
    calculation mark in first column through the states {{{samp( )}}}, {{{samp(#)}}}, {{{samp(*)}}}, {{{samp(!)}}},
    {{{samp($)}}}.  When there is an active region, change all
    marks in the region.
    <p>{{{kindex(C-#)}}}
      {{{findex(org-table-rotate-recalc-marks)}}}</p>
  </dd>
</dl>
<p>Here is an example of a table that collects exam results of students
  and makes use of these features:</p>
<pre class="src src-org">
|---+---------+--------+--------+--------+-------+------|
|   | Student | Prob 1 | Prob 2 | Prob 3 | Total | Note |
|---+---------+--------+--------+--------+-------+------|
| ! |         |     P1 |     P2 |     P3 |   Tot |      |
| # | Maximum |     10 |     15 |     25 |    50 | 10.0 |
| ^ |         |     m1 |     m2 |     m3 |    mt |      |
|---+---------+--------+--------+--------+-------+------|
| # | Peter   |     10 |      8 |     23 |    41 |  8.2 |
| # | Sam     |      2 |      4 |      3 |     9 |  1.8 |
|---+---------+--------+--------+--------+-------+------|
|   | Average |        |        |        |  25.0 |      |
| ^ |         |        |        |        |    at |      |
| $ | max=50  |        |        |        |       |      |
|---+---------+--------+--------+--------+-------+------|
,#+TBLFM: $6=vsum($P1..$P3)::$7=10*$Tot/$max;%.1f::$at=vmean(@-II..@-I);%.1f
</pre>
<p>{{{noindent}}} Important: please note that for these special tables,
  recalculating the table with {{{kbd(C-u C-c *)}}} will only affect
  rows that are marked <code>#</code> or <code>*</code>, and fields that
  have a formula assigned to the field itself. The column formulas are
  not applied in rows with empty first field.</p>
<p>{{{cindex(marking characters&#92;\, tables)}}}
  The marking characters have the following meaning:</p>
<dl>
  <dt>!</dt><dd>The fields in this line define names for the columns, so that
    you may refer to a column as {{{samp($Tot)}}} instead of
    {{{samp($6)}}}.</dd>
  <dt>^</dt><dd>This row defines names for the fields @emph{above} the row.
    With such a definition, any formula in the table may use
    {{{samp($m1)}}} to refer to the value {{{samp(10)}}}.  Also,
    if you assign a formula to a names field, it will be stored
    as <code>$name= ...</code>.</dd>
  <dt>_</dt><dd>Similar to {{{samp(^)}}}, but defines names for the fields in
    the row @<i>below@</i>.</dd>
  <dt>$</dt><dd>Fields in this row can define @<i>parameters@</i> for formulas.  For
    example, if a field in a {{{samp($)}}} row contains
    {{{samp(max=50)}}}, then formulas in this table can refer to
    the value 50 using {{{samp($max)}}}.  Parameters work exactly
    like constants, only that they can be defined on a per-table
    basis.</dd>
  <dt>#</dt><dd>Fields in this row are automatically recalculated when
    pressing {{{key(TAB)}}} or {{{key(RET)}}} or
    {{{kbdkey(S-,TAB)}}} in this row.  Also, this row is selected
    for a global recalculation with {{{kbd(C-u C-c *)}}}.
    Unmarked lines will be left alone by this command.</dd>
  <dt>*</dt><dd>Selects this line for global recalculation with {{{kbd(C-u C-c *)}}}, but not for automatic recalculation.  Use this
    when automatic recalculation slows down editing too much.</dd>
  <dt>???</dt><dd>Unmarked lines are exempt from recalculation with {{{kbd(C-u C-c *)}}}.  All lines that should be recalculated should be
    marked with <code>#</code> or <code>*</code>.</dd>
  <dt>/</dt><dd>Do not export this line.  Useful for lines that contain the
    narrowing <code>&lt;N&gt;</code> markers or column group markers.</dd>
</dl>
<p>Finally, just to whet your appetite for what can be done with the
  fantastic {{{file(calc.el)}}} package, here is a table that computes
  the Taylor series of degree <code>n</code> at location <code>x</code> for a couple of
  functions.</p>
<pre class="src src-org">
|---+-------------+---+-----+--------------------------------------|
|   | Func        | n | x   | Result                               |
|---+-------------+---+-----+--------------------------------------|
| # | exp(x)      | 1 | x   | 1 + x                                |
| # | exp(x)      | 2 | x   | 1 + x + x^2 / 2                      |
| # | exp(x)      | 3 | x   | 1 + x + x^2 / 2 + x^3 / 6            |
| # | x^2+sqrt(x) | 2 | x=0 | x*(0.5 / 0) + x^2 (2 - 0.25 / 0) / 2 |
| # | x^2+sqrt(x) | 2 | x=1 | 2 + 2.5 x - 2.5 + 0.875 (x - 1)^2    |
| * | tan(x)      | 3 | x   | 0.0175 x + 1.77e-6 x^3               |
|---+-------------+---+-----+--------------------------------------|
,#+TBLFM: $5=taylor($2,$4,$3);n3
</pre>
<h2><span class="heading-number heading-number-2">3.6</span> Org-Plot</h2>{{{cindex(graph&#92;\, in tables)}}}
  {{{cindex(plot tables using Gnuplot)}}}
  {{{cindex(#+PLOT)}}}
<p>Org-Plot can produce 2D and 3D graphs of information stored in org
  tables using <a href="http://www.gnuplot.info/">Gnuplot</a> and <a href="http://cars9.uchicago.edu/~ravel/software/gnuplot-mode.html">gnuplot-mode</a>. To see this in action, ensure
  that you have both Gnuplot and Gnuplot-mode installed on your system,
  then call <code>org-plot/gnuplot</code> on the following table.</p>
<pre class="src src-org">
,#+PLOT: title:&quot;Citas&quot; ind:1 deps:(3) type:2d with:histograms set:&quot;yrange [0:]&quot;
| Sede      | Max cites | H-index |
|-----------+-----------+---------|
| Chile     |    257.72 |   21.39 |
| Leeds     |    165.77 |   19.68 |
| Sao Paolo |     71.00 |   11.50 |
| Stockholm |    134.19 |   14.33 |
| Morels    |    257.56 |   17.67 |
</pre>
<p>Notice that Org Plot is smart enough to apply the table&#8217;s headers as
  labels. Further control over the labels, type, content, and appearance
  of plots can be exercised through the <code>#+PLOT:</code> lines preceding a
  table. See below for a complete list of Org-plot options. For more
  information and examples see the <a href="http://orgmode.org/worg/org-tutorials/org-plot.html">Org-plot tutorial</a>.</p>
<p>Org-Plot recognizes the following options:</p>
<dl>
  <dt>set</dt><dd>Specify any {{{command(gnuplot)}}} option to be set when
    graphing.</dd>
  <dt>title</dt><dd>Specify the title of the plot.</dd>
  <dt>ind</dt><dd>Specify which column of the table to use as the <code>x</code> axis.</dd>
  <dt>deps</dt><dd>Specify the columns to graph as a Lisp style list,
    surrounded by parentheses and separated by spaces for
    example <code>dep:(3 4)</code> to graph the third and fourth columns
    (defaults to graphing all other columns aside from the
    <code>ind</code> column).</dd>
  <dt>type</dt><dd>Specify whether the plot will be <code>2d</code>, <code>3d</code>, or <code>grid</code>.</dd>
  <dt>with</dt><dd>Specify a <code>with</code> option to be inserted for every col being
    plotted (e.g., <code>lines</code>, <code>points</code>, <code>boxes</code>, <code>impulses</code>,
    etc.).  Defaults to <code>lines</code>.</dd>
  <dt>file</dt><dd>If you want to plot to a file, specify
    ~&#8221;{path/to/desired/output-file}&#8221;~.</dd>
  <dt>labels</dt><dd>List of labels to be used for the <code>deps</code> (defaults to
    the column headers if they exist).</dd>
  <dt>line</dt><dd>Specify an entire line to be inserted in the Gnuplot
    script.</dd>
  <dt>map</dt><dd>When plotting <code>3d</code> or <code>grid</code> types, set this to <code>t</code> to
    graph a flat mapping rather than a <code>3d</code> slope.</dd>
  <dt>timefmt</dt><dd>Specify format of Org mode timestamps as they will be
    parsed by Gnuplot.  Defaults to
    {{{samp(%Y-%m-%d-%H:%M:%S)}}}.</dd>
  <dt>script</dt><dd>If you want total control, you can specify a script file
    (place the file name between double-quotes) which will
    be used to plot.  Before plotting, every instance of
    <code>$datafile</code> in the specified script will be replaced
    with the path to the generated data file.  Note: even if
    you set this option, you may still want to specify the
    plot type, as that can impact the content of the data
    file.</dd>
</dl>
<h1><span class="heading-number heading-number-1">4</span> Hyperlinks</h1>{{{cindex(hyperlinks)}}}
<p>Like HTML, Org provides links inside a file, external links to
  other files, Usenet articles, emails, and much more.</p>
<h2><span class="heading-number heading-number-2">4.1</span> Link format</h2>{{{cindex(link format)}}}
  {{{cindex(format&#92;\, of links)}}}
<p>Org will recognize plain URL-like links and activate them as clickable
  links.  The general link format, however, looks like this:</p>
<pre class="src src-org">
[[link][description]] or  [[link]]
</pre>
<p>{{{noindent}}} Once a link in the buffer is complete (all brackets
  present), Org will change the display so that {{{samp(description)}}}
  is displayed instead of <code>[[link][description]]</code> and {{{samp(link)}}}
  is displayed instead of <code>[[link]]</code>.  Links will be highlighted
  in the face <code>org-link</code>, which by default is an underlined face.  You
  can directly edit the visible part of a link.  Note that this can be
  either the {{{samp(link)}}} part (if there is no description) or the
  {{{samp(description)}}} part.  To edit also the invisible
  {{{samp(link)}}} part, use {{{kbd(C-c C-l)}}} with the cursor on the
  link.</p>
<p>If you place the cursor at the beginning or just behind the end of the
  displayed text and press {{{key(BACKSPACE)}}}, you will remove the
  (invisible) bracket at that location.  This makes the link incomplete
  and the internals are again displayed as plain text.  Inserting the
  missing bracket hides the link internals again.  To show the internal
  structure of all links, use the menu entry <code>Org-&gt;Hyperlinks-&gt;Literal
  links</code>.</p>
<h2><span class="heading-number heading-number-2">4.2</span> Internal links</h2>{{{cindex(internal links)}}}
  {{{cindex(links&#92;\, internal)}}}
  {{{cindex(targets&#92;\, for links)}}}
  {{{cindex(property&#92;\, CUSTOM_ID)}}}
<p>If the link does not look like a URL, it is considered to be internal
  in the current file.  The most important case is a link like
  <code>[[#my-custom-id]]</code> which will link to the entry with the
  <code>CUSTOM_ID</code> property {{{samp(my-custom-id)}}}.  Such custom IDs are
  very good for HTML export (see <a href="HTML export">HTML export</a>) where they produce pretty
  section links.  You are responsible yourself to make sure these custom
  IDs are unique in a file.</p>
<p>Links such as the two in the following example:</p>
<pre class="example">
[[My Target]] or [[My Target][Find my target]]
</pre>
<p>{{{noindent}}} lead to a text search in the current file.</p>
<p>The link can be followed with {{{kbd(C-c C-o)}}} when the cursor is on
  the link, or with a mouse click (see <a href="Handling links">Handling links</a>).  Links to custom
  IDs will point to the corresponding headline.  The preferred match for
  a text link is a <i>dedicated target</i>: the same string in double angular
  brackets.  Targets may be located anywhere; sometimes it is convenient
  to put them into a comment line.  For example</p>
<pre class="src src-org">
# &lt;&lt;My Target&gt;&gt;
</pre>
<p>{{{noindent}}} In HTML export (see <a href="HTML export">HTML export</a>), such targets will
  become named anchors for direct access through {{{samp(http)}}}
  links.<sup><a class="footref" name="fnr.31" href="#fn.31">31</a></sup></p>
<p>If no dedicated target exists, Org will search for a headline that is
  exactly the link text but may also include a TODO keyword and
  tags.<sup><a class="footref" name="fnr.32" href="#fn.32">32</a></sup> In non-Org files, the search will look for the words in
  the link text. In the above example the search would be for <code>my target</code>.</p>
<p>Following a link pushes a mark onto Org&#8217;s own mark ring.  You can
  return to the previous position with {{{kbd(C-c &amp;)}}}.  Using this
  command several times in direct succession goes back to positions
  recorded earlier.</p>
<h2><span class="heading-number heading-number-2">4.3</span> Radio targets</h2>{{{cindex(radio targets)}}}
  {{{cindex(targets&#92;\, radio)}}}
  {{{cindex(links&#92;\, radio targets)}}}
<p>Org can automatically turn any occurrences of certain target names in
  normal text into a link. So without explicitly creating a link, the
  text connects to the target radioing its position. Radio targets are
  enclosed by triple angular brackets. For example, a target
  <code>&lt;&lt;&lt;My Target&gt;&gt;&gt;</code> causes each occurrence of <code>my target</code> in
  normal text to become activated as a link. The Org file is scanned
  automatically for radio targets only when the file is first loaded
  into Emacs. To update the target list during editing, press
  {{{kbd(C-c C-c)}}} with the cursor on or at a target.</p>
<h2><span class="heading-number heading-number-2">4.4</span> External links</h2>{{{cindex(links&#92;\, external)}}}
  {{{cindex(external links)}}}
  {{{cindex(links&#92;\, external)}}}
  {{{cindex(Gnus links)}}}
  {{{cindex(BBDB links)}}}
  {{{cindex(IRC links)}}}
  {{{cindex(URL links)}}}
  {{{cindex(file links)}}}
  {{{cindex(VM links)}}}
  {{{cindex(RMAIL links)}}}
  {{{cindex(WANDERLUST links)}}}
  {{{cindex(MH-E links)}}}
  {{{cindex(USENET links)}}}
  {{{cindex(SHELL links)}}}
  {{{cindex(Info links)}}}
  {{{cindex(Elisp links)}}}
<p>Org supports links to files, websites, Usenet and email messages, BBDB
  database entries and links to both IRC conversations and their logs.
  External links are URL-like locators.  They start with a short
  identifying string followed by a colon.  There can be no space after
  the colon.  The following list shows examples for each link type.</p>
<dl>
  <dt><code>http://www.astro.uva.nl/~dominik</code></dt><dd>on the web</dd>
  <dt><code>doi:10.1000/182</code></dt><dd>DOI for an electronic resource</dd>
  <dt><code>file:/home/dominik/images/jupiter.jpg</code></dt><dd>file, absolute path</dd>
  <dt><code>/home/dominik/images/jupiter.jpg</code></dt><dd>same as above</dd>
  <dt><code>file:papers/last.pdf</code></dt><dd>file, relative path</dd>
  <dt><code>./papers/last.pdf</code></dt><dd>same as above</dd>
  <dt><code>file:/myself@some.where:papers/last.pdf</code></dt><dd>file, path on remote machine</dd>
  <dt><code>/myself@some.where:papers/last.pdf</code></dt><dd>same as above</dd>
  <dt><code>file:sometextfile::NNN</code></dt><dd>file, jump to line number</dd>
  <dt><code>file:projects.org</code></dt><dd>another Org file</dd>
  <dt><code>file:projects.org::some words</code></dt><dd>text search in Org file@<sup>@<a class="footref" name="fnr.33" href="#fn.33">33@</a>@</sup></dd>
  <dt><code>file:projects.org::*task title</code></dt><dd>heading search in Org file</dd>
  <dt><code>file+sys:/path/to/file</code></dt><dd>open via OS, like double-click</dd>
  <dt><code>file+emacs:/path/to/file</code></dt><dd>force opening by Emacs</dd>
  <dt><code>docview:papers/last.pdf::NNN</code></dt><dd>open in doc-view mode at page</dd>
  <dt><code>id:B7423F4D-2E8A-471B-8810-C40F074717E9</code></dt><dd>Link to heading by ID</dd>
  <dt><code>news:comp.emacs</code></dt><dd>Usenet link</dd>
  <dt><code>mailto:adent@galaxy.net</code></dt><dd>Mail link</dd>
  <dt><code>vm:folder</code></dt><dd>VM folder link</dd>
  <dt><code>vm:folder#id</code></dt><dd>VM message link</dd>
  <dt><code>vm://myself@some.where.org/folder#id</code></dt><dd>VM on remote machine</dd>
  <dt><code>vm-imap:account:folder</code></dt><dd>VM IMAP folder link</dd>
  <dt><code>vm-imap:account:folder#id</code></dt><dd>VM IMAP message link</dd>
  <dt><code>wl:folder</code></dt><dd>WANDERLUST folder link</dd>
  <dt><code>wl:folder#id</code></dt><dd>WANDERLUST message link</dd>
  <dt><code>mhe:folder</code></dt><dd>MH-E folder link</dd>
  <dt><code>mhe:folder#id</code></dt><dd>MH-E message link</dd>
  <dt><code>rmail:folder</code></dt><dd>RMAIL folder link</dd>
  <dt><code>rmail:folder#id</code></dt><dd>RMAIL message link</dd>
  <dt><code>gnus:group</code></dt><dd>Gnus group link</dd>
  <dt><code>gnus:group#id</code></dt><dd>Gnus article link</dd>
  <dt><code>bbdb:R.*Stallman</code></dt><dd>BBDB link (with regexp)</dd>
  <dt><code>irc:/irc.com/#emacs/bob</code></dt><dd>IRC link</dd>
  <dt><code>info:org#External links</code></dt><dd>Info node link</dd>
  <dt><code>shell:ls *.org</code></dt><dd>A shell command</dd>
  <dt><code>elisp:org-agenda</code></dt><dd>Interactive Elisp command</dd>
  <dt><code>elisp:(find-file-other-frame &quot;Elisp.org&quot;)</code></dt><dd>Elisp form to evaluate</dd>
</dl>
<p>For customizing Org to add new link types <a href="Adding hyperlink types">Adding hyperlink types</a>.</p>
<p>A link should be enclosed in double brackets and may contain a
  descriptive text to be displayed instead of the URL (see <a href="Link format">Link format</a>),
  for example:</p>
<pre class="src src-org">
[[http://www.gnu.org/software/emacs/][GNU Emacs]]
</pre>
<p>{{{noindent}}} If the description is a file name or URL that points to
  an image, HTML export (see <a href="HTML export">HTML export</a>) will inline the image as a
  clickable button.  If there is no description at all and the link
  points to an image, that image will be inlined into the exported HTML
  file.</p>
<p>{{{cindex(square brackets&#92;\, around links)}}}
  {{{cindex(plain text external links)}}}</p>
<p>Org also finds external links in the normal text and activates them as
  links.  If spaces must be part of the link (for example in
  {{{samp(bbdb:Richard Stallman)}}}), or if you need to remove
  ambiguities about the end of the link, enclose them in square
  brackets.</p>
<h2><span class="heading-number heading-number-2">4.5</span> Handling links</h2>{{{cindex(links&#92;\, handling)}}}
<p>Org provides methods to create a link in the correct syntax, to
  insert it into an Org file, and to follow the link.</p>
<dl>
  <dt>{{{kbd(C-c l)}}}, <code>org-store-link</code></dt><dd>Store a link to the current
    location.  This is a @<i>global@</i> command (you must create the key
    binding yourself) which can be used in any buffer to create a
    link.  The link will be stored for later insertion into an Org
    buffer (see below).  What kind of link will be created depends
    on the current buffer:
    <p>{{{cindex(storing links)}}}
      {{{kindex(C-c l)}}}
      {{{findex(org-store-link)}}}</p>
    <dl>
      <dt>Org mode buffers</dt><dd>For Org files, if there is a
        <code>&lt;&lt;target&gt;&gt;</code> at the cursor, the link points to the
        target.  Otherwise it points to the current headline, which
        will also be the description.@<sup>@<a class="footref" name="fnr.34" href="#fn.34">34@</a>@</sup>
        <p>{{{vindex(org-link-to-org-use-id)}}}
          {{{cindex(property&#92;\, CUSTOM_ID)}}}
          {{{cindex(property&#92;\, ID)}}}</p>
        <p>If the headline has a <code>CUSTOM_ID</code> property, a link to this
          custom ID will be stored.  In addition or alternatively
          (depending on the value of <code>org-link-to-org-use-id</code>), a
          globally unique <code>ID</code> property will be created and/or used to
          construct a link.<sup><a class="footref" name="fnr.176" href="#fn.176">176</a></sup>  So using this command in Org buffers will
          potentially create two links: a human-readable link from the
          custom ID, and one that is globally unique and works even if
          the entry is moved from file to file.  Later, when inserting
          the link, you need to decide which one to use.</p>
      </dd>
      <dt>Email/News clients: VM, Rmail, Wanderlust, MH-E, Gnus</dt><dd>Pretty
        much all Emacs mail clients are supported.  The link will
        point to the current article, or, in some GNUS buffers, to
        the group.  The description is constructed from the author
        and the subject.</dd>
      <dt>Web browsers: W3 and W3M</dt><dd>Here the link will be the current
        URL, with the page title as description.</dd>
      <dt>Contacts: BBDB</dt><dd>Links created in a BBDB buffer will point to
        the current entry.</dd>
      <dt>Chat: IRC</dt><dd>For IRC links, if you set the variable
        <code>org-irc-link-to-logs</code> to <code>t</code>, a <code>file:</code>
        style link to the relevant point in the logs for
        the current conversation is created. Otherwise an
        <code>irc:/</code> style link to the
        user/channel/server under the point will be stored.
        <p>{{{vindex(org-irc-link-to-logs)}}}</p>
      </dd>
      <dt>Other files</dt><dd>For any other files, the link will point to the
        file, with a search string (see @<a href="Search options">Search options@</a>)
        pointing to the contents of the current line. If
        there is an active region, the selected words
        will form the basis of the search string. If the
        automatically created link is not working
        correctly or accurately enough, you can write
        custom functions to select the search string and
        to do the search for particular file types&#8212;see
        @<a href="Custom searches">Custom searches@</a>. The key binding {{{kbd(C-c l)}}}
        is only a suggestion&#8212;see @<a href="Installation">Installation@</a>.</dd>
      <dt>Agenda view</dt><dd>When the cursor is in an agenda view, the created
        link points to the entry referenced by the
        current line.</dd>
    </dl>
  </dd>
  <dt>{{{kbd(C-c C-l)}}}, <code>org-insert-link</code></dt><dd>Insert a link.@<sup>@<a class="footref" name="fnr.35" href="#fn.35">35@</a>@</sup> This
    prompts for a link to be inserted into the buffer. You can just
    type a link, using text for an internal link, or one of the
    link type prefixes mentioned in the examples above. The link
    will be inserted into the buffer, along with a
    descriptive text.@<sup>@<a class="footref" name="fnr.36" href="#fn.36">36@</a>@</sup> If some text was selected when this command
    is called, the selected text becomes the default description.
    <p>{{{cindex(link completion)}}}
      {{{cindex(completion&#92;\, of links)}}}
      {{{cindex(inserting links)}}}
      {{{vindex(org-keep-stored-link-after-insertion)}}}
      {{{kindex(C-c C-l)}}}
      {{{findex(org-insert-link)}}}</p>
    <dl>
      <dt>Inserting stored links</dt><dd>All links stored during the current
        session are part of the history for this prompt, so you can
        access them with {{{key(up)}}} and {{{key(down)}}} (or
        {{{kbd(M-p/n)}}}).</dd>
      <dt>Completion support</dt><dd>Completion with {{{key(TAB)}}} will help
        you to insert valid link prefixes like <code>http:</code> or
        <code>ftp:</code>, including the prefixes defined through link
        abbreviations (see @<a href="Link abbreviations">Link abbreviations@</a>). If you press
        {{{key(RET)}}} after inserting only the
        {{{var(prefix)}}}, Org will offer specific completion
        support for some link types.@<sup>@<a class="footref" name="fnr.37" href="#fn.37">37@</a>@</sup> For example, if you type
        {{{kbdspckey(file,RET)}}}, file name completion (alternative
        access: {{{kbd(C-u C-c C-l)}}}, see below) will be offered,
        and after {{{kbdspckey(bbdb,RET)}}} you can complete contact
        names.</dd>
    </dl>
  </dd>
  <dt>{{{kbd(C-u C-c C-l)}}}</dt><dd>When {{{kbd(C-c C-l)}}} is called with a
    {{{kbd(C-u)}}} prefix argument, a link to a file will be
    inserted and you may use file name completion to select the
    name of the file. The path to the file is inserted relative to
    the directory of the current Org file, if the linked file is in
    the current directory or in a sub-directory of it, or if the
    path is written relative to the current directory using
    {{{samp(../)}}}. Otherwise an absolute path is used, if
    possible with {{{samp(~/)}}} for your home directory. You can
    force an absolute path with two {{{kbd(C-u)}}} prefixes.
    <p>{{{cindex(file name completion)}}}
      {{{cindex(completion&#92;\, of file names)}}}
      {{{kindex(C-u C-c C-l)}}}</p>
  </dd>
  <dt>{{{kbd(C-c C-l)}}} (with cursor on existing link)</dt><dd>When the
    cursor is on an existing link, {{{kbd(C-c C-l)}}} allows you to
    edit the link and description parts of the link.
    <p>{{{cindex(following links)}}}</p>
    <dl>
      <dt>{{{kbd(C-c C-o)}}}, <code>org-open-at-point</code></dt><dd>Open link at
        point. This will launch a web browser for URLs (using
        {{{command(browse-url-at-point)}}}), run
        VM/MH-E/Wanderlust/Rmail/Gnus/BBDB for the corresponding
        links, and execute the command in a shell link.  When the
        cursor is on an internal link, this command runs the
        corresponding search. When the cursor is on a TAG list in a
        headline, it creates the corresponding TAGS view. If the
        cursor is on a timestamp, it compiles the agenda for that
        date. Furthermore, it will visit text and remote files in
        <code>file:</code> links with Emacs and select a suitable
        application for local non-text files. Classification of files
        is based on file extension only. See option <code>org-file-apps</code>.
        If you want to override the default application and visit the
        file with Emacs, use a {{{kbd(C-u)}}} prefix. If you want to
        avoid opening in Emacs, use a {{{kbd(C-u C-u)}}} prefix. If
        the cursor is on a headline, but not on a link, offer all
        links in the headline and entry text. If you want to setup
        the frame configuration for following links, customize
        <code>org-link-frame-setup</code>.
        <p>{{{vindex(org-file-apps)}}}
          {{{vindex(org-link-frame-setup)}}}
          {{{kindex(C-c C-o)}}}
          {{{findex(org-open-at-point)}}}</p>
      </dd>
      <dt>{{{key(RET)}}}</dt><dd>When <code>org-return-follows-link</code> is set,
        {{{key(RET)}}} will also follow the link at
        point.
        <p>{{{vindex(org-return-follows-link)}}}
          {{{kindex(RET)}}}</p>
      </dd>
      <dt>{{{key(mouse-2)}}} or {{{key(mouse-1)}}}</dt><dd>On links,
        {{{kbd(mouse-2)}}} will open the link just as {{{kbd(C-c C-o)}}} would. Under Emacs 22 and later, {{{kbd(mouse-1)}}}
        will also follow a link.
        <p>{{{kindex(mouse-2)}}}
          {{{kindex(mouse-1)}}}</p>
      </dd>
      <dt>{{{key(mouse-3)}}}</dt><dd>Like {{{kbd(mouse-2)}}}, but force file
        links to be opened with Emacs, and internal links to be
        displayed in another window.@<sup>@<a class="footref" name="fnr.38" href="#fn.38">38@</a>@</sup>
        <p>{{{vindex(org-display-internal-link-with-indirect-buffer)}}}
          {{{kindex(mouse-3)}}}</p>
      </dd>
      <dt>{{{kbd(C-c C-x C-v)}}}, <code>org-toggle-inline-images</code></dt><dd>
        {{{cindex(inlining images)}}}
        {{{cindex(images&#92;\, inlining)}}}
        {{{vindex(org-startup-with-inline-images)}}}
        {{{cindex(<code>inlineimages</code>&#92;\, STARTUP keyword)}}}
        {{{cindex(<code>noinlineimages</code>&#92;\, STARTUP keyword)}}}
        {{{kindex(C-c C-x C-v)}}}
        {{{findex(org-toggle-inline-images)}}}
        <p>Toggle the inline display of linked images.  Normally this
          will only inline images that have no description part in the
          link, i.e., images that will also be inlined during export.
          When called with a prefix argument, also display images that
          do have a link description.  You can ask for inline images to
          be displayed at startup by configuring the variable
          <code>org-startup-with-inline-images</code>.<sup><a class="footref" name="fnr.177" href="#fn.177">177</a></sup></p>
      </dd>
      <dt>{{{kbd(C-c %)}}}, <code>org-mark-ring-push</code></dt><dd>
        {{{kindex(C-c %)}}}
        {{{findex(org-mark-ring-push)}}}
        {{{cindex(mark ring)}}}
        <p>Push the current position onto the mark ring, to be able to
          return easily. Commands following an internal link do this
          automatically.</p>
      </dd>
      <dt>{{{kbd(C-c &)}}}, <code>org-mark-ring-goto</code></dt><dd>
        {{{kindex(C-c &)}}}
        {{{findex(org-mark-ring-goto)}}}
        {{{cindex(links&#92;\, returning to)}}}
        <p>Jump back to a recorded position. A position is recorded by
          the commands following internal links, and by {{{kbd(C-c %)}}}. Using this command several times in direct succession
          moves through a ring of previously recorded positions.</p>
      </dd>
    </dl>
  </dd>
  <dt>{{{kbd(C-c C-x C-n)}}}, <code>org-next-link</code></dt><dd>
    @@info:@itemx@@ {{{kbd(C-c C-x C-p)}}}, <code>org-previous-link</code>
    {{{cindex(links&#92;\, finding next/previous)}}}
    <p>{{{kindex(C-c C-x C-p)}}}
      {{{findex(org-previous-link)}}}
      {{{kindex(C-c C-x C-n)}}}
      {{{findex(org-next-link)}}}</p>
    <p>Move forward/backward to the next link in the buffer. At the
      limit of the buffer, the search fails once, and then wraps
      around. The key bindings for this are really too long; you
      might want to bind this also to {{{kbd(C-n)}}} and
      {{{kbd(C-p)}}}</p>
    <pre class="src src-emacs-lisp">
(add-hook 'org-load-hook
          (lambda ()
            (define-key org-mode-map &quot;\C-n&quot; 'org-next-link)
            (define-key org-mode-map &quot;\C-p&quot; 'org-previous-link)))
    </pre>
  </dd>
</dl>
<h2><span class="heading-number heading-number-2">4.6</span> Using links outside Org</h2>
<p>You can insert and follow links that have Org syntax not only in Org,
  but in any Emacs buffer.  For this, you should create two global
  commands, like this (please select suitable global keys yourself):</p>
<pre class="src src-emacs-lisp">
(global-set-key &quot;\C-c L&quot; 'org-insert-link-global)
(global-set-key &quot;\C-c o&quot; 'org-open-at-point-global)
</pre>
<h2><span class="heading-number heading-number-2">4.7</span> Link abbreviations</h2>{{{cindex(link abbreviations)}}}
  {{{cindex(abbreviation&#92;\, links)}}}
<p>Long URLs can be cumbersome to type, and often many similar links are
  needed in a document.  For this you can use link abbreviations.  An
  abbreviated link looks like this</p>
<pre class="src src-org">
[[linkword:tag][description]]
</pre>
<p>{{{vindex(org-link-abbrev-alist)}}}</p>
<p>{{{noindent}}} where the tag is optional.  The <i>linkword</i> must be a
  word, starting with a letter, followed by letters, numbers,
  {{{samp(-)}}}, and {{{samp(_)}}}.  Abbreviations are resolved
  according to the information in the variable <code>org-link-abbrev-alist</code>
  that relates the linkwords to replacement text.  Here is an example:</p>
<pre class="src src-emacs-lisp">
(setq org-link-abbrev-alist
  '((&quot;bugzilla&quot;  . &quot;http://10.1.2.9/bugzilla/show_bug.cgi?id=&quot;)
    (&quot;url-to-ja&quot; . &quot;http://translate.google.fr/translate?sl=en&amp;tl=ja&amp;u=%h&quot;)
    (&quot;google&quot;    . &quot;http://www.google.com/search?q=&quot;)
    (&quot;gmap&quot;      . &quot;http://maps.google.com/maps?q=%s&quot;)
    (&quot;omap&quot;      . &quot;http://nominatim.openstreetmap.org/search?q=%s&amp;polygon=1&quot;)
    (&quot;ads&quot;       . &quot;http://adsabs.harvard.edu/cgi-bin/nph-abs_connect?author=%s&amp;db_key=AST&quot;)))
</pre>
<p>If the replacement text contains the string {{{samp(%s)}}}, it will be
  replaced with the tag.  Using {{{samp(%h)}}} instead of {{{samp(%s)}}}
  will url-encode the tag (see the example above, where we need to
  encode the URL parameter.)  Using {{{samp(%(my-function))}}} will pass
  the tag to a custom function, and replace it by the resulting string.</p>
<p>If the replacement text don&#8217;t contain any specifier, it will simply be
  appended to the string in order to create the link.</p>
<p>Instead of a string, you may also specify a function that will be
  called with the tag as the only argument to create the link.</p>
<p>With the above setting, you could link to a specific bug with
  <code>[[bugzilla:129]]</code>, search the web for {{{samp(OrgMode)}}} with
  <code>[[google:OrgMode]]</code>, show the map location of the Free Software
  Foundation <code>[[gmap:51 Franklin Street, Boston]]</code> or of Carsten office
  <code>[[omap:Science Park 904, Amsterdam, The Netherlands]]</code> and find out what
  the Org author is doing besides Emacs hacking with <code>[[ads:Dominik,C]]</code>.</p>
<p>If you need special abbreviations just for a single Org buffer, you
  can define them in the file with</p>
<p>{{{cindex(#+LINK)}}}</p>
<pre class="src src-org">
,#+LINK: bugzilla  http://10.1.2.9/bugzilla/show_bug.cgi?id=
,#+LINK: google    http://www.google.com/search?q=%s
</pre>
<p>{{{noindent}}} In-buffer completion (see <a href="Completion">Completion</a>) can be used after
  {{{samp([)}}} to complete link abbreviations.  You may also define a
  function <code>org-PREFIX-complete-link</code> that implements special (e.g.,
  completion) support for inserting such a link with {{{kbd(C-c C-l)}}}.
  Such a function should not accept any arguments, and return the full
  link with prefix.</p>
<h2><span class="heading-number heading-number-2">4.8</span> Search options</h2>{{{cindex(search option in file links)}}}
  {{{cindex(file links&#92;\, searching)}}}
<p>File links can contain additional information to make Emacs jump to a
  particular location in the file when following a link.  This can be a
  line number or a search option after a double colon.<sup><a class="footref" name="fnr.39" href="#fn.39">39</a></sup>
  For example, when the command {{{kbd(C-c l)}}} creates a link (see
  <a href="Handling links">Handling links</a>) to a file, it encodes the words in the current line as
  a search string that can be used to find this line back later when
  following the link with {{{kbd(C-c C-o)}}}.</p>
<p>Here is the syntax of the different ways to attach a search to a file
  link, together with an explanation:</p>
<pre class="src src-org">
[[file:~/code/main.c::255]]
[[file:~/xx.org::My Target]]
[[file:~/xx.org::*My Target]]
[[file:~/xx.org::#my-custom-id]]
[[file:~/xx.org::/regexp/]]
</pre>
<dl>
  <dt>255</dt><dd>Jump to line 255.</dd>
  <dt>My Target</dt><dd>Search for a link target <code>&lt;&lt;My Target&gt;&gt;</code>, or do a text search for {{{samp(my target)}}},
    similar to the search in internal links, see @<a href="Internal links">Internal links@</a>.
    In HTML export (see @<a href="HTML export">HTML export@</a>), such a file link will
    become a HTML reference to the corresponding named anchor in the
    linked file.</dd>
  <dt>*My Target</dt><dd>In an Org file, restrict search to headlines.</dd>
  <dt>#my-custom-id</dt><dd>Link to a heading with a <code>CUSTOM_ID</code> property</dd>
  <dt>@<i>regexp@</i></dt><dd>Do a regular expression search for <code>regexp</code>.  This
    uses the Emacs command <code>occur</code> to list all matches
    in a separate window.  If the target file is in
    Org mode, <code>org-occur</code> is used to create a sparse
    tree with the matches. @c If the target file is a
    directory, @c <code>grep</code> will be used to search all
    files in the directory.</dd>
</dl>
<p>As a degenerate case, a file link with an empty file name can be used
  to search the current file.  For example, <code>[[file:::find me]]</code> does a
  search for <code>find me</code> in the current file, just as
  <code>[[find me]]</code> would.</p>
<h2><span class="heading-number heading-number-2">4.9</span> Custom searches</h2>{{{cindex(custom search strings)}}}
  {{{cindex(search strings&#92;\, custom)}}}
<p>The default mechanism for creating search strings and for doing the
  actual search related to a file link may not work correctly in all
  cases.  For example, {{{bibtex}}} database files have many entries
  like {{{samp(year=&#8221;1993&#8221;)}}} which would not result in good search
  strings, because the only unique identification for a {{{bibtex}}}
  entry is the citation key.</p>
<p>{{{vindex(org-create-file-search-functions)}}}
  {{{vindex(org-execute-file-search-functions)}}}</p>
<p>If you come across such a problem, you can write custom functions to
  set the right search string for a particular file type, and to do the
  search for the string in the file.  Using <code>add-hook</code>, these functions
  need to be added to the hook variables
  <code>org-create-file-search-functions</code> and
  <code>org-execute-file-search-functions</code>.  See the docstring for these
  variables for more information.  Org actually uses this mechanism for
  {{{bibtex}}} database files, and you can use the corresponding code as
  an implementation example.  See the file {{{file(org-bibtex.el)}}}.</p>
<h1><span class="heading-number heading-number-1">5</span> TODO items</h1>{{{cindex(TODO items)}}}
<p>Org mode does not maintain TODO lists as separate documents.<sup><a class="footref" name="fnr.40" href="#fn.40">40</a></sup>
  Instead, TODO items are an integral part of the notes file, because
  TODO items usually come up while taking notes! With Org mode, simply
  mark any entry in a tree as being a TODO item. In this way,
  information is not duplicated, and the entire context from which the
  TODO item emerged is always present.</p>
<p>Of course, this technique for managing TODO items scatters them
  throughout your notes file.  Org mode compensates for this by providing
  methods to give you an overview of all the things that you have to do.</p>
<h2><span class="heading-number heading-number-2">5.1</span> TODO basics</h2>
<p>Any headline becomes a TODO item when it starts with the word
  {{{samp(TODO)}}}, for example:</p>
<pre class="src src-org">
,*** TODO Write letter to Sam Fortune
</pre>
<p>{{{noindent}}} The most important commands to work with TODO entries
  are:</p>
<dl>
  <dt>{{{kbd(C-c C-t)}}}, <code>org-todo</code></dt><dd>
    {{{kindex(C-c C-t)}}}
    {{{cindex(cycling&#92;\, of TODO states)}}}
    <p>Rotate the TODO state of the current item among</p>
    <pre class="example">
,-&gt; (unmarked) -&gt; TODO -&gt; DONE --.
'--------------------------------'
    </pre>
    <p>The same rotation can also be done &#8220;remotely&#8221; from the timeline and
      agenda buffers with the {{{kbd(t)}}} command key (see <a href="Agenda commands">Agenda commands</a>).</p>
  </dd>
  <dt>{{{kbd(C-u C-c C-t)}}}</dt><dd>
    {{{kindex(C-u C-c C-t)}}}
    <p>Select a specific keyword using completion or (if it has been set up)
      the fast selection interface.  For the latter, you need to assign keys
      to TODO states, see <a href="Per-file keywords">Per-file keywords</a>, and <a href="Setting tags">Setting tags</a>, for
      more information.</p>
    <p>{{{kindex(S-@key{right})}}}
      {{{kindex(S-@key{left})}}}</p>
  </dd>
  <dt>{{{kbdkey(S-,right)}}} {{{kbdkey(S-,left)}}}</dt><dd>
    <p>{{{vindex(org-treat-S-cursor-todo-selection-as-state-change)}}}</p>
    <p>Select the following/preceding TODO state, similar to cycling.
      Useful mostly if more than two TODO states are possible
      (see <a href="TODO extensions">TODO extensions</a>). See also <a href="Conflicts">Conflicts</a>, for a discussion of the
      interaction with <code>shift-selection-mode</code>. See also the variable
      <code>org-treat-S-cursor-todo-selection-as-state-change</code>.</p>
  </dd>
  <dt>{{{kbd(C-c / t)}}}, <code>org-show-todo-tree</code></dt><dd>
    {{{kindex(C-c / t)}}}
    <p>{{{cindex(sparse tree&#92;\, for TODO)}}}
      {{{vindex(org-todo-keywords)}}}</p>
    <p>View TODO items in a <i>sparse tree</i> (see <a href="Sparse trees">Sparse trees</a>). Folds the entire
      buffer, but shows all TODO items (with not-DONE state) and the
      headings hierarchy above them. With a prefix argument (or by using
      {{{kbd(C-c / T)}}}), search for a specific TODO. You will be
      prompted for the keyword, and you can also give a list of keywords
      like <code>KWD1|KWD2|...</code> to list entries that match any one of these
      keywords. With a numeric prefix argument N, show the tree for the
      Nth keyword in the variable <code>org-todo-keywords</code>. With two prefix
      arguments, find all TODO states, both un-done and done.</p>
  </dd>
  <dt>{{{kbd(C-c a t)}}}, <code>org-todo-list</code></dt><dd>
    {{{kindex(C-c a t)}}}
    <p>Show the global TODO list.  Collects the TODO items (with not-DONE states)
      from all agenda files (see <a href="Agenda views">Agenda views</a>) into a single buffer.  The new
      buffer will be in <code>agenda-mode</code>, which provides commands to examine and
      manipulate the TODO entries from the new buffer (see <a href="Agenda commands">Agenda commands</a>).
      See <a href="Global TODO list">Global TODO list</a>, for more information.</p>
  </dd>
  <dt>{{{kbdkey(S-M-,RET)}}}, <code>org-insert-todo-heading</code></dt><dd>
    {{{kindex(S-M-@key{RET})}}}
    <p>Insert a new TODO entry below the current one.</p>
  </dd>
</dl>
<p>{{{noindent}}}
  {{{vindex(org-todo-state-tags-triggers)}}}
  Changing a TODO state can also trigger tag changes.  See the docstring of the
  option <code>org-todo-state-tags-triggers</code> for details.</p>
<h2><span class="heading-number heading-number-2">5.2</span> TODO extensions</h2>
<p>{{{cindex(extended TODO keywords)}}}</p>
<p>{{{vindex(org-todo-keywords)}}}</p>
<p>By default, marked TODO entries have one of only two states: TODO and
  DONE. Org mode allows you to classify TODO items in more complex ways
  with <i>TODO keywords</i> (stored in <code>org-todo-keywords</code>). With special
  setup, the TODO keyword system can work differently in different
  files.</p>
<p>Note that <i>tags</i> are another way to classify headlines in general and
  TODO items in particular (see <a href="Tags">Tags</a>).</p>
<h3><span class="heading-number heading-number-3">5.2.1</span> Workflow states</h3>{{{cindex(TODO workflow)}}}
  {{{cindex(workflow states as TODO keywords)}}}
<p>You can use TODO keywords to indicate different <i>sequential</i> states
  in the process of working on an item, for example:<sup><a class="footref" name="fnr.41" href="#fn.41">41</a></sup></p>
<pre class="src src-emacs-lisp">
(setq org-todo-keywords
  '((sequence &quot;TODO&quot; &quot;FEEDBACK&quot; &quot;VERIFY&quot; &quot;|&quot; &quot;DONE&quot; &quot;DELEGATED&quot;)))
</pre>
<p>The vertical bar separates the TODO keywords (states that <i>need
  action</i>) from the DONE states (which need <i>no further action</i>).  If
  you don&#8217;t provide the separator bar, the last state is used as the DONE
  state.</p>
<p>{{{cindex(completion&#92;\, of TODO keywords)}}}</p>
<p>With this setup, the command {{{kbd(C-c C-t)}}} will cycle an entry
  from TODO to FEEDBACK, then to VERIFY, and finally to DONE and
  DELEGATED. You may also use a numeric prefix argument to quickly
  select a specific state. For example {{{kbd(C-3 C-c C-t)}}} will
  change the state immediately to VERIFY. Or you can use
  {{{kbdkey(S-,left)}}} to go backward through the sequence. If you
  define many keywords, you can use in-buffer completion (see <a href="Completion">Completion</a>) or
  even a special one-key selection scheme (see <a href="Fast access to TODO states">Fast access to TODO states</a>)
  to insert these words into the buffer. Changing a TODO state can be
  logged with a timestamp, see <a href="Tracking TODO state changes">Tracking TODO state changes</a>, for
  more information.</p>
<h3><span class="heading-number heading-number-3">5.2.2</span> TODO types</h3>{{{cindex(TODO types)}}}
  {{{cindex(names as TODO keywords)}}}
  {{{cindex(types as TODO keywords)}}}
<p>The second possibility is to use TODO keywords to indicate different
  <i>types</i> of action items.  For example, you might want to indicate
  that items are for &#8220;work&#8221; or &#8220;home&#8221;.  Or, when you work with several
  people on a single project, you might want to assign action items
  directly to persons, by using their names as TODO keywords.  This would
  be set up like this:</p>
<pre class="src src-emacs-lisp">
(setq org-todo-keywords '((type &quot;Fred&quot; &quot;Sara&quot; &quot;Lucy&quot; &quot;|&quot; &quot;DONE&quot;)))
</pre>
<p>In this case, different keywords do not indicate a sequence, but rather
  different types.  So the normal work flow would be to assign a task to a
  person, and later to mark it DONE.  Org mode supports this style by adapting
  the workings of the command {{{kbd(C-c C-t)}}}.<sup><a class="footref" name="fnr.42" href="#fn.42">42</a></sup>  When used several
  times in succession, it will still cycle through all names, in order to first
  select the right type for a task.  But when you return to the item after some
  time and execute {{{kbd(C-c C-t)}}} again, it will switch from any name directly
  to DONE.  Use prefix arguments or completion to quickly select a specific
  name.  You can also review the items of a specific TODO type in a sparse tree
  by using a numeric prefix to {{{kbd(C-c / t)}}}.  For example, to see all things
  Lucy has to do, you would use {{{kbd(C-3 C-c / t)}}}.  To collect Lucy&#8217;s items
  from all agenda files into a single buffer, you would use the numeric prefix
  argument as well when creating the global TODO list: {{{kbd(C-3 C-c a t)}}}.</p>
<h3><span class="heading-number heading-number-3">5.2.3</span> Multiple sets in one file</h3>{{{cindex(TODO keyword sets)}}}
<p>Sometimes you may want to use different sets of TODO keywords in
  parallel.  For example, you may want to have the basic
  <code>TODO</code> / <code>DONE</code>, but also a workflow for bug fixing, and a
  separate state indicating that an item has been canceled (so it is not
  DONE, but also does not require action).  Your setup would then look
  like this:</p>
<pre class="src src-emacs-lisp">
(setq org-todo-keywords
      '((sequence &quot;TODO&quot; &quot;|&quot; &quot;DONE&quot;)
        (sequence &quot;REPORT&quot; &quot;BUG&quot; &quot;KNOWNCAUSE&quot; &quot;|&quot; &quot;FIXED&quot;)
        (sequence &quot;|&quot; &quot;CANCELED&quot;)))
</pre>
<p>The keywords should all be different, this helps Org mode to keep track
  of which subsequence should be used for a given entry.  In this setup,
  {{{kbd(C-c C-t)}}} only operates within a subsequence, so it switches from
  <code>DONE</code> to (nothing) to <code>TODO</code>, and from <code>FIXED</code> to
  (nothing) to <code>REPORT</code>.  Therefore you need a mechanism to initially
  select the correct sequence.  Besides the obvious ways like typing a
  keyword or using completion, you may also apply the following commands:</p>
<p>{{{kindex(C-S-@key{right})}}}
  {{{kindex(C-S-@key{left})}}}
  {{{kindex(C-u C-u C-c C-t)}}}</p>
<dl>
  <dt>{{{kbd(C-u C-u C-c C-t)}}} {{{kbdkey(C-S-,right)}}} {{{kbdkey(C-S-,left)}}}</dt><dd>
    <p>These keys jump from one TODO subset to the next. In the above
      example, {{{kbd(C-u C-u C-c C-t)}}} or {{{kbdkey(C-S-,right)}}}
      would jump from <code>TODO</code> or <code>DONE</code> to <code>REPORT</code>, and any of the
      words in the second row to <code>CANCELED</code>. Note that the
      {{{kbd(C-S-)}}} key binding conflict with <code>shift-selection-mode</code>
      (see <a href="Conflicts">Conflicts</a>).</p>
  </dd>
  <dt>{{{kbdkey(S-,right)}}} {{{kbdkey(S-,left)}}}</dt><dd>
    {{{kindex(S-@key{right})}}}
    {{{kindex(S-@key{left})}}}
    <p>{{{kbdkey(S-,left)}}} and {{{kbdkey(S-,right)}}} walk through <i>all</i>
      keywords from all sets, so for example {{{kbdkey(S-,right)}}} would switch
      from <code>DONE</code> to <code>REPORT</code> in the example above.  See also
      <a href="Conflicts">Conflicts</a>, for a discussion of the interaction with
      <code>shift-selection-mode</code>.</p>
  </dd>
</dl>
<h3><span class="heading-number heading-number-3">5.2.4</span> Fast access to TODO states</h3>If you would like to quickly change an entry to an arbitrary TODO state
  instead of cycling through the states, you can set up keys for single-letter
  access to the states.  This is done by adding the selection character after
  each keyword, in parentheses.<sup><a class="footref" name="fnr.43" href="#fn.43">43</a></sup>  For example:
<pre class="src src-emacs-lisp">
(setq org-todo-keywords
      '((sequence &quot;TODO(t)&quot; &quot;|&quot; &quot;DONE(d)&quot;)
        (sequence &quot;REPORT(r)&quot; &quot;BUG(b)&quot; &quot;KNOWNCAUSE(k)&quot; &quot;|&quot; &quot;FIXED(f)&quot;)
        (sequence &quot;|&quot; &quot;CANCELED(c)&quot;)))
</pre>
<p>{{{vindex(org-fast-tag-selection-include-todo)}}}</p>
<p>If you then press {{{kbd(C-c C-t)}}} followed by the selection key,
  the entry will be switched to this state. {{{kbd(SPC)}}} can be used
  to remove any TODO keyword from an entry.<sup><a class="footref" name="fnr.44" href="#fn.44">44</a></sup></p>
<h3><span class="heading-number heading-number-3">5.2.5</span> Per-file keywords</h3>{{{cindex(keyword options)}}}
  {{{cindex(per-file keywords)}}}
  {{{cindex(#+TODO)}}}
  {{{cindex(#+TYP_TODO)}}}
  {{{cindex(#+SEQ_TODO)}}}
<p>It can be very useful to use different aspects of the TODO mechanism in
  different files.  For file-local settings, you need to add special lines
  to the file which set the keywords and interpretation for that file
  only.  For example, to set one of the two examples discussed above, you
  need one of the following lines, starting in column zero anywhere in the
  file:</p>
<pre class="example">
,#+TODO: TODO FEEDBACK VERIFY | DONE CANCELED
</pre>
<p>{{{noindent}}} (you may also write <code>#+SEQ_TODO</code> to be explicit about the
  interpretation, but it means the same as <code>#+TODO</code>), or</p>
<pre class="example">
,#+TYP_TODO: Fred Sara Lucy Mike | DONE
</pre>
<p>A setup for using several sets in parallel would be:</p>
<pre class="example">
,#+TODO: TODO | DONE
,#+TODO: REPORT BUG KNOWNCAUSE | FIXED
,#+TODO: | CANCELED
</pre>
<p>{{{cindex(completion&#92;\, of option keywords)}}}
  {{{kindex(M-@key{TAB})}}}
  {{{noindent}}} To make sure you are using the correct keyword, type
  {{{samp(#+)}}} into the buffer and then use {{{kbdkey(M-,TAB)}}} completion.</p>
<p>{{{cindex(DONE&#92;\, final TODO keyword)}}}
  Remember that the keywords after the vertical bar (or the last keyword
  if no bar is there) must always mean that the item is DONE (although you
  may use a different word).  After changing one of these lines, use
  {{{kbd(C-c C-c)}}} with the cursor still in the line to make the changes
  known to Org mode.<sup><a class="footref" name="fnr.45" href="#fn.45">45</a></sup></p>
<h3><span class="heading-number heading-number-3">5.2.6</span> Faces for TODO keywords</h3>{{{cindex(faces&#92;\, for TODO keywords)}}}
  {{{vindex(org-todo @r{(face)})}}}
  {{{vindex(org-done @r{(face)})}}}
  {{{vindex(org-todo-keyword-faces)}}}
<p>Org mode highlights TODO keywords with special faces: <code>org-todo</code>
  for keywords indicating that an item still has to be acted upon, and
  <code>org-done</code> for keywords indicating that an item is finished.  If
  you are using more than 2 different states, you might want to use
  special faces for some of them.  This can be done using the variable
  <code>org-todo-keyword-faces</code>.  For example:</p>
<pre class="src src-emacs-lisp">
(setq org-todo-keyword-faces
      '((&quot;TODO&quot; . org-warning) (&quot;STARTED&quot; . &quot;yellow&quot;)
        (&quot;CANCELED&quot; . (:foreground &quot;blue&quot; :weight bold))))
</pre>
<p>While using a list with face properties as shown for CANCELED <i>should</i>
  work, this does not always seem to be the case.  If necessary, define a
  special face and use that.  A string is interpreted as a color.  The variable
  <code>org-faces-easy-properties</code> determines if that color is interpreted as a
  foreground or a background color.</p>
<h3><span class="heading-number heading-number-3">5.2.7</span> TODO dependencies</h3>{{{cindex(TODO dependencies)}}}
  {{{cindex(dependencies&#92;\, of TODO states)}}}
  {{{vindex(org-enforce-todo-dependencies)}}}
  {{{cindex(property&#92;\, ORDERED)}}}
<p>The structure of Org files (hierarchy and lists) makes it easy to define TODO
  dependencies.  Usually, a parent TODO task should not be marked DONE until
  all subtasks (defined as children tasks) are marked as DONE.  And sometimes
  there is a logical sequence to a number of (sub)tasks, so that one task
  cannot be acted upon before all siblings above it are done.  If you customize
  the variable <code>org-enforce-todo-dependencies</code>, Org will block entries
  from changing state to DONE while they have children that are not DONE.
  Furthermore, if an entry has a property <code>ORDERED</code>, each of its children
  will be blocked until all earlier siblings are marked DONE.  Here is an
  example:</p>
<pre class="src src-org">
,* TODO Blocked until (two) is done
,** DONE one
,** TODO two

,* Parent
  :PROPERTIES:
  :ORDERED: t
  :END:
,** TODO a
,** TODO b, needs to wait for (a)
,** TODO c, needs to wait for (a) and (b)
</pre>
<dl>
  <dt>{{{kbd(C-c C-x o)}}}, <code>org-toggle-ordered-property</code></dt><dd>
    {{{kindex(C-c C-x o)}}}
    {{{vindex(org-track-ordered-property-with-tag)}}}
    {{{cindex(property&#92;\, ORDERED)}}}
    <p>Toggle the <code>ORDERED</code> property of the current entry.  A property is used
      for this behavior because this should be local to the current entry, not
      inherited like a tag.  However, if you would like to <i>track</i> the value of
      this property with a tag for better visibility, customize the variable
      <code>org-track-ordered-property-with-tag</code>.</p>
  </dd>
  <dt>{{{kbd(C-u C-u C-u C-c C-t)}}}</dt><dd>
    {{{kindex(C-u C-u C-u C-c C-t)}}}
    <p>Change TODO state, circumventing any state blocking.</p>
  </dd>
</dl>
<p>{{{vindex(org-agenda-dim-blocked-tasks)}}}</p>
<p>If you set the variable <code>org-agenda-dim-blocked-tasks</code>, TODO entries
  that cannot be closed because of such dependencies will be shown in a dimmed
  font or even made invisible in agenda views (see <a href="Agenda views">Agenda views</a>).</p>
<p>{{{cindex(checkboxes and TODO dependencies)}}}
  {{{vindex(org-enforce-todo-dependencies)}}}</p>
<p>You can also block changes of TODO states by looking at checkboxes
  (see <a href="Checkboxes">Checkboxes</a>).  If you set the variable
  <code>org-enforce-todo-checkbox-dependencies</code>, an entry that has unchecked
  checkboxes will be blocked from switching to DONE.</p>
<p>If you need more complex dependency structures, for example dependencies
  between entries in different trees or files, check out the contributed
  module {{{file(org-depend.el)}}}.</p>
<p>{{{page}}}</p>
<h2><span class="heading-number heading-number-2">5.3</span> Progress logging</h2>{{{cindex(progress logging)}}}
  {{{cindex(logging&#92;\, of progress)}}}
<p>Org mode can automatically record a timestamp and possibly a note when
  you mark a TODO item as DONE, or even each time you change the state of
  a TODO item.  This system is highly configurable, settings can be on a
  per-keyword basis and can be localized to a file or even a subtree.  For
  information on how to clock working time for a task, see <a href="Clocking work time">Clocking work time</a>.</p>
<h3><span class="heading-number heading-number-3">5.3.1</span> Closing items</h3>
<p>The most basic logging is to keep track of <i>when</i> a certain TODO
  item was finished.  This is achieved with:<sup><a class="footref" name="fnr.46" href="#fn.46">46</a></sup></p>
<pre class="src src-emacs-lisp">
(setq org-log-done 'time)
</pre>
<p>{{{noindent}}} Then each time you turn an entry from a TODO (not-done)
  state into any of the DONE states, a line {{{samp(CLOSED: [timestamp])}}} will be inserted just after the headline. If you turn
  the entry back into a TODO item through further state cycling, that
  line will be removed again. If you want to record a note along with
  the timestamp, use:<sup><a class="footref" name="fnr.47" href="#fn.47">47</a></sup></p>
<pre class="src src-emacs-lisp">
(setq org-log-done 'note)
</pre>
<p>{{{noindent}}} You will then be prompted for a note, and that note
  will be stored below the entry with a {{{samp(Closing Note)}}}
  heading.</p>
<p>In the timeline (see <a href="Timeline for a single file">Timeline for a single file</a>) and in the agenda
  (see <a href="Weekly/daily agenda">Weekly/daily agenda</a>), you can then use the {{{kbd(l)}}} key to
  display the TODO items with a {{{samp(CLOSED)}}} timestamp on each
  day, giving you an overview of what has been done.</p>
<h3><span class="heading-number heading-number-3">5.3.2</span> Tracking TODO state changes</h3>{{{cindex(drawer&#92;\, for state change recording)}}}
  {{{vindex(org-log-states-order-reversed)}}}
  {{{vindex(org-log-into-drawer)}}}
  {{{cindex(property&#92;\, LOG_INTO_DRAWER)}}}
<p>When TODO keywords are used as workflow states (see @&lt;a href=&#8221;Workflow
  states&#8221;&gt;Workflow
  states</a>), you might want to keep track of when a state change occurred
  and maybe take a note about this change. You can either record just a
  timestamp, or a time-stamped note for a change. These records will be
  inserted after the headline as an itemized list, newest first.<sup><a class="footref" name="fnr.48" href="#fn.48">48</a></sup>
  When taking a lot of notes, you might want to get the notes out of the
  way into a drawer (see <a href="Drawers">Drawers</a>). Customize the variable
  <code>org-log-into-drawer</code> to get this behavior&#8212;the recommended drawer
  for this is called <code>LOGBOOK</code>.<sup><a class="footref" name="fnr.178" href="#fn.178">178</a></sup> You can also overrule the setting
  of this variable for a subtree by setting a <code>LOG_INTO_DRAWER</code>
  property.</p>
<p>Since it is normally too much to record a note for every state, Org
  mode expects configuration on a per-keyword basis for this. This is
  achieved by adding special markers {{{samp(!)}}} (for a timestamp) or
  {{{samp(@)}}} (for a note with timestamp) in parentheses after each
  keyword. For example, with the setting:</p>
<pre class="src src-emacs-lisp">
(setq org-todo-keywords
  '((sequence &quot;TODO(t)&quot; &quot;WAIT(w@@/!)&quot; &quot;|&quot; &quot;DONE(d!)&quot; &quot;CANCELED(c@@)&quot;)))
</pre>
<p>{{{noindent}}}
  {{{vindex(org-log-done)}}}</p>
<p>you not only define global TODO keywords and fast access keys, but
  also request that a time is recorded when the entry is set to
  DONE, and that a note is recorded when switching to WAIT or
  CANCELED.<sup><a class="footref" name="fnr.49" href="#fn.49">49</a></sup> The setting for WAIT is even more special: the {{{samp(!)}}}
  after the slash means that in addition to the note taken when entering
  the state, a timestamp should be recorded when <i>leaving</i> the WAIT
  state, if and only if the <i>target</i> state does not configure logging
  for entering it. So it has no effect when switching from WAIT to DONE,
  because DONE is configured to record a timestamp only. But when
  switching from WAIT back to TODO, the {{{samp(/!)}}} in the WAIT
  setting now triggers a timestamp even though TODO has no logging
  configured.</p>
<p>To record a timestamp without a note for TODO keywords configured with
  {{{samp(@)}}}, just type {{{kbd(C-c C-c)}}} to enter a blank note
  when prompted.</p>
<p>You can use the exact same syntax for setting logging preferences local
  to a buffer:</p>
<pre class="example">
,#+TODO: TODO(t) WAIT(w@/!) | DONE(d!) CANCELED(c@)
</pre>
<p>{{{cindex(property&#92;\, LOGGING)}}}</p>
<p>In order to define logging settings that are local to a subtree or a
  single item, define a LOGGING property in this entry.  Any non-empty
  LOGGING property resets all logging settings to nil.  You may then turn
  on logging for this specific tree using STARTUP keywords like
  <code>lognotedone</code> or <code>logrepeat</code>, as well as adding state specific
  settings like <code>TODO(!)</code>.  For example:</p>
<pre class="example">
,* TODO Log each state with only a time
  :PROPERTIES:
  :LOGGING: TODO(!) WAIT(!) DONE(!) CANCELED(!)
  :END:
,* TODO Only log when switching to WAIT, and when repeating
  :PROPERTIES:
  :LOGGING: WAIT(@) logrepeat
  :END:
,* TODO No logging at all
  :PROPERTIES:
  :LOGGING: nil
  :END:
</pre>
<h3><span class="heading-number heading-number-3">5.3.3</span> Tracking your habits</h3>
<ul>
  <li>State &#8220;DONE&#8221;       from &#8220;DONE&#8221;       [2013-01-07 Mon 14:10]</li>
  <li>State &#8220;DONE&#8221;       from &#8220;&#8221;           [2013-01-07 Mon 14:10]</li>
</ul>{{{cindex(habits)}}}
<p>Org has the ability to track the consistency of a special category of TODOs,
  called &#8220;habits.&#8221;  A habit has the following properties:</p>
<ol>
  <li>You have enabled the <code>habits</code> module by customizing the variable
    <code>org-modules</code>.</li>
  <li>The habit is a TODO item, with a TODO keyword representing an
    open state.</li>
  <li>The property <code>STYLE</code> is set to the value <code>habit</code>.</li>
  <li>The TODO has a scheduled date, usually with a <code>.+</code> style repeat
    interval. A <code>++</code> style may be appropriate for habits with time
    constraints, e.g., must be done on weekends, or a <code>+</code> style for
    an unusual habit that can have a backlog, e.g., weekly reports.</li>
  <li>The TODO may also have minimum and maximum ranges specified by
    using the syntax {{{samp(.+2d/3d)}}}, which says that you want to
    do the task at least every three days, but at most every two
    days.</li>
  <li>You must also have state logging for the <code>DONE</code> state enabled
    (see <a href="Tracking TODO state changes">Tracking TODO state changes</a>), in order for historical
    data to be represented in the consistency graph. If it is not
    enabled it is not an error, but the consistency graphs will be
    largely meaningless.</li>
</ol>
<p>To give you an idea of what the above rules look like in action, here&#8217;s an
  actual habit with some history:</p>
<pre class="example">
,** TODO Shave
   SCHEDULED: &lt;2009-10-17 Sat .+2d/4d&gt;
   - State &quot;DONE&quot;       from &quot;TODO&quot;       [2009-10-15 Thu]
   - State &quot;DONE&quot;       from &quot;TODO&quot;       [2009-10-12 Mon]
   - State &quot;DONE&quot;       from &quot;TODO&quot;       [2009-10-10 Sat]
   - State &quot;DONE&quot;       from &quot;TODO&quot;       [2009-10-04 Sun]
   - State &quot;DONE&quot;       from &quot;TODO&quot;       [2009-10-02 Fri]
   - State &quot;DONE&quot;       from &quot;TODO&quot;       [2009-09-29 Tue]
   - State &quot;DONE&quot;       from &quot;TODO&quot;       [2009-09-25 Fri]
   - State &quot;DONE&quot;       from &quot;TODO&quot;       [2009-09-19 Sat]
   - State &quot;DONE&quot;       from &quot;TODO&quot;       [2009-09-16 Wed]
   - State &quot;DONE&quot;       from &quot;TODO&quot;       [2009-09-12 Sat]
   :PROPERTIES:
   :STYLE:    habit
   :LAST_REPEAT: [2009-10-19 Mon 00:36]
   :END:
</pre>
<p>What this habit says is: I want to shave at most every 2 days (given
  by the <code>SCHEDULED</code> date and repeat interval) and at least every 4
  days. If today is the 15th, then the habit first appears in the agenda
  on Oct 17, after the minimum of 2 days has elapsed, and will appear
  overdue on Oct 19, after four days have elapsed.</p>
<p>What&#8217;s really useful about habits is that they are displayed along
  with a consistency graph, to show how consistent you&#8217;ve been at
  getting that task done in the past. This graph shows every day that
  the task was done over the past three weeks, with colors for each day.
  The colors used are:</p>
<dl>
  <dt><code>Blue</code></dt><dd>If the task wasn&#8217;t to be done yet on that day.</dd>
  <dt><code>Green</code></dt><dd>If the task could have been done on that day.</dd>
  <dt><code>Yellow</code></dt><dd>If the task was going to be overdue the next day.</dd>
  <dt><code>Red</code></dt><dd>If the task was overdue on that day.</dd>
</dl>
<p>In addition to coloring each day, the day is also marked with an
  asterisk if the task was actually done that day, and an exclamation
  mark to show where the current day falls in the graph.</p>
<p>There are several configuration variables that can be used to change
  the way habits are displayed in the agenda.</p>
<dl>
  <dt><code>org-habit-graph-column</code></dt><dd>The buffer column at which the
    consistency graph should be drawn. This will overwrite any text
    in that column, so it is a good idea to keep your habits&#8217;
    titles brief and to the point.</dd>
  <dt><code>org-habit-preceding-days</code></dt><dd>The amount of history, in days before
    today, to appear in consistency graphs.</dd>
  <dt><code>org-habit-following-days</code></dt><dd>The number of days after today that
    will appear in consistency graphs.</dd>
  <dt><code>org-habit-show-habits-only-for-today</code></dt><dd>If non-nil, only show
    habits in today&#8217;s agenda view. This is set to true by default.</dd>
</dl>
<p>Lastly, pressing {{{kbd(K)}}} in the agenda buffer will cause habits
  to temporarily be disabled and they won&#8217;t appear at all. Press
  {{{kbd(K)}}} again to bring them back. They are also subject to tag
  filtering, if you have habits which should only be done in certain
  contexts, for example.</p>
<h2><span class="heading-number heading-number-2">5.4</span> Priorities</h2>{{{cindex(priorities)}}}
<p>If you use Org mode extensively, you may end up with enough TODO items that
  it starts to make sense to prioritize them.  Prioritizing can be done by
  placing a <i>priority cookie</i> into the headline of a TODO item, like this:</p>
<pre class="example">
,*** TODO [#A] Write letter to Sam Fortune
</pre>
<p>{{{vindex(org-priority-faces)}}}</p>
<p>{{{noindent}}} By default, Org mode supports three priorities: {{{samp(A)}}},
  {{{samp(B)}}}, and {{{samp(C)}}}. {{{samp(A)}}} is the highest
  priority. An entry without a cookie is treated just like priority
  {{{samp(B)}}}. Priorities make a difference only for sorting in the
  agenda (see <a href="Weekly/daily agenda">Weekly/daily agenda</a>); outside the agenda, they have no
  inherent meaning to Org mode. The cookies can be highlighted with
  special faces by customizing the variable <code>org-priority-faces</code>.</p>
<p>Priorities can be attached to any outline node; they do not need to be TODO
  items.</p>
<dl>
  <dt>{{{kbd(C-c XXX)}}}</dt><dd>
    {{{kindex(C-c ,)}}}
    <p>{{{findex(org-priority)}}}</p>
    <p>Set the priority of the current headline (<code>org-priority</code>). The
      command prompts for a priority character {{{samp(A)}}}, {{{samp(B)}}}
      or {{{samp(C)}}}. When you press {{{key(SPC)}}}} instead, the priority
      cookie is removed from the headline. The priorities can also be
      changed &#8220;remotely&#8221; from the timeline and agenda buffer with the
      {{{kbd(,)}}} command (see <a href="Agenda commands">Agenda commands</a>).</p>
  </dd>
  <dt>{{{kbdkey(S-,up)}}}, {{{kbdkey(S-,down)}}}, {{{command(org-priority-up)}}}, {{{command(org-priority-down)}}}</dt><dd>
    {{{vindex(org-priority-start-cycle-with-default)}}}
    <p>Increase/decrease priority of current headline.<sup><a class="footref" name="fnr.50" href="#fn.50">50</a></sup> Note
      that these keys are also used to modify timestamps
      (see <a href="Creating timestamps">Creating timestamps</a>). See also <a href="Conflicts">Conflicts</a>, for a
      discussion of the interaction with <code>shift-selection-mode</code>.</p>
  </dd>
</dl>
<p>{{{vindex(org-highest-priority)}}}
  {{{vindex(org-lowest-priority)}}}
  {{{vindex(org-default-priority)}}}</p>
<p>You can change the range of allowed priorities by setting the
  variables <code>org-highest-priority</code>, <code>org-lowest-priority</code>, and
  <code>org-default-priority</code>. For an individual buffer, you may set these
  values (highest, lowest, default) like this (please make sure that the
  highest priority is earlier in the alphabet than the lowest priority):</p>
<p>{{{cindex(#+PRIORITIES)}}}</p>
<pre class="example">
,#+PRIORITIES: A C B
</pre>
<h2><span class="heading-number heading-number-2">5.5</span> Breaking down tasks</h2>{{{cindex(tasks&#92;\, breaking down)}}}
  {{{cindex(statistics&#92;\, for TODO items)}}}
  {{{vindex(org-agenda-todo-list-sublevels)}}}
<p>It is often advisable to break down large tasks into smaller,
  manageable subtasks. You can do this by creating an outline tree below
  a TODO item, with detailed subtasks on the tree.<sup><a class="footref" name="fnr.51" href="#fn.51">51</a></sup> To keep the
  overview over the fraction of subtasks that are already completed,
  insert either {{{samp([/])}}} or {{{samp([%])}}} anywhere in the
  headline. These cookies will be updated each time the TODO status of a
  child changes, or when pressing {{{kbd(C-c C-c)}}} on the cookie. For
  example:</p>
<pre class="example">
,* Organize Party [33%]
,** TODO Call people [1/2]
,*** TODO Peter
,*** DONE Sarah
,** TODO Buy food
,** DONE Talk to neighbor
</pre>
<p>{{{cindex(property&#92;\, COOKIE_DATA)}}}</p>
<p>If a heading has both checkboxes and TODO children below it, the
  meaning of the statistics cookie become ambiguous. Set the property
  <code>COOKIE_DATA</code> to either {{{samp(checkbox)}}} or {{{samp(todo)}}} to
  resolve this issue.</p>
<p>{{{vindex(org-hierarchical-todo-statistics)}}}</p>
<p>If you would like to have the statistics cookie count any TODO entries
  in the subtree (not just direct children), configure the variable
  <code>org-hierarchical-todo-statistics</code>. To do this for a single subtree,
  include the word {{{samp(recursive)}}} into the value of the
  <code>COOKIE_DATA</code> property.</p>
<pre class="example">
,* Parent capturing statistics [2/20]
  :PROPERTIES:
  :COOKIE_DATA: todo recursive
  :END:
</pre>
<p>If you would like a TODO entry to automatically change to DONE
  when all children are done, you can use the following setup:</p>
<pre class="src src-emacs-lisp">
(defun org-summary-todo (n-done n-not-done)
  &quot;Switch entry to DONE when all subentries are done, to TODO otherwise.&quot;
  (let (org-log-done org-log-states)   ; turn off logging
    (org-todo (if (= n-not-done 0) &quot;DONE&quot; &quot;TODO&quot;))))

(add-hook 'org-after-todo-statistics-hook 'org-summary-todo)
</pre>
<p>Another possibility is the use of checkboxes to identify (a hierarchy
  of) a large number of subtasks (see <a href="Checkboxes">Checkboxes</a>).</p>
<h2><span class="heading-number heading-number-2">5.6</span> Checkboxes</h2>
<p>{{{cindex(checkboxes)}}}
  {{{vindex(org-list-automatic-rules)}}}</p>
<p>Every item in a plain list (see <a href="Plain lists">Plain lists</a>) can be made into a
  checkbox by starting it with the string {{{samp([ ])}}}.<sup><a class="footref" name="fnr.52" href="#fn.52">52</a></sup> This
  feature is similar to TODO items (see <a href="TODO items">TODO items</a>), but is more
  lightweight. Checkboxes are not included into the global TODO list, so
  they are often great to split a task into a number of simple steps. Or
  you can use them in a shopping list. To toggle a checkbox, use
  {{{kbd(C-c C-c)}}}, or use the mouse (thanks to Piotr Zielinski&#8217;s
  {{{file(org-mouse.el)}}}).</p>
<p>Here is an example of a checkbox list.</p>
<pre class="example">
,* TODO Organize party [2/4]
  - [-] call people [1/3]
    - [ ] Peter
    - [X] Sarah
    - [ ] Sam
  - [X] order food
  - [ ] think about what music to play
  - [X] talk to the neighbors
</pre>
<p>Checkboxes work hierarchically, so if a checkbox item has children
  that are checkboxes, toggling one of the children checkboxes will make
  the parent checkbox reflect if none, some, or all of the children are
  checked.</p>
<p>{{{cindex(statistics&#92;\, for checkboxes)}}}
  {{{cindex(checkbox statistics)}}}
  {{{cindex(property&#92;\, COOKIE_DATA)}}}
  {{{vindex(org-hierarchical-checkbox-statistics)}}}</p>
<p>The {{{samp([2/4])}}} and {{{samp([1/3])}}} in the first and second
  line are cookies indicating how many checkboxes present in this entry
  have been checked off, and the total number of checkboxes present.
  This can give you an idea on how many checkboxes remain, even without
  opening a folded entry. The cookies can be placed into a headline or
  into (the first line of) a plain list item. Each cookie covers
  checkboxes of direct children structurally below the headline/item on
  which the cookie appears.<sup><a class="footref" name="fnr.53" href="#fn.53">53</a></sup> You have to insert the cookie
  yourself by typing either {{{samp([/])}}} or {{{samp([%])}}}. With
  {{{samp([/])}}} you get an {{{samp(n out of m)}}} result, as in the
  examples above. With {{{samp([%])}}} you get information about the
  percentage of checkboxes checked (in the above example, this would be
  {{{samp([50%])}}} and {{{samp([33%])}}}, respectively). In a headline,
  a cookie can count either checkboxes below the heading or TODO states
  of children, and it will display whatever was changed last. Set the
  property <code>COOKIE_DATA</code> to either {{{samp(checkbox)}}} or
  {{{samp(todo)}}} to resolve this issue.</p>
<p>{{{cindex(blocking&#92;\, of checkboxes)}}}
  {{{cindex(checkbox blocking)}}}
  {{{cindex(property&#92;\, ORDERED)}}}</p>
<p>If the current outline node has an <code>ORDERED</code> property, checkboxes must
  be checked off in sequence, and an error will be thrown if you try to
  check off a box while there are unchecked boxes above it.</p>
<p>{{{noindent}}} The following commands work with checkboxes:</p>
<dl>
  <dt>{{{kbd(C-c C-c)}}}, <code>org-toggle-checkbox</code></dt><dd>Toggle checkbox status
    or (with prefix arg) checkbox presence at point. With a single
    prefix argument, add an empty checkbox or remove the current
    one.@<sup>@<a class="footref" name="fnr.54" href="#fn.54">54@</a>@</sup> With a double prefix argument, set it to
    {{{samp([-])}}}, which is considered to be an intermediate state.</dd>
  <dt>{{{kbd(C-c C-x C-b)}}}, <code>org-toggle-checkbox</code></dt><dd>Toggle checkbox
    status or (with prefix arg) checkbox presence at point. With
    double prefix argument, set it to {{{samp([-])}}}, which is
    considered to be an intermediate state.
    <ul>
      <li>If there is an active region, toggle the first checkbox in the region
        and set all remaining boxes to the same status as the first.  With a prefix
        arg, add or remove the checkbox for all items in the region.</li>
      <li>If the cursor is in a headline, toggle checkboxes in the region
        between this headline and the next (so <i>not</i> the entire subtree).</li>
      <li>If there is no active region, just toggle the checkbox at point.</li>
    </ul>
  </dd>
</dl>
<dl>
  <dt>{{{kbdkey(M-S-,RET)}}}, <code>org-insert-todo-heading</code></dt><dd>Insert a new
    item with a checkbox. This works only if the cursor is already in
    a plain list item (see @<a href="Plain lists">Plain lists@</a>).</dd>
  <dt>{{{kbd(C-c C-x o)}}}, <code>org-toggle-ordered-property</code></dt><dd>
    {{{kindex(C-c C-x o)}}}
    {{{vindex(org-track-ordered-property-with-tag)}}}
    {{{cindex(property&#92;\, ORDERED)}}}
    <p>Toggle the <code>ORDERED</code> property of the entry, to toggle if checkboxes
      must be checked off in sequence. A property is used for this
      behavior because this should be local to the current entry, not
      inherited like a tag. However, if you would like to <i>track</i> the
      value of this property with a tag for better visibility,
      customize the variable <code>org-track-ordered-property-with-tag</code>.</p>
  </dd>
  <dt>{{{kbd(C-c #)}}}, <code>org-update-statistics-cookies</code></dt><dd>
    {{{kindex(C-c #)}}}
    <p>Update the statistics cookie in the current outline entry. When
      called with a {{{kbd(C-u)}}} prefix, update the entire file.
      Checkbox statistic cookies are updated automatically if you
      toggle checkboxes with {{{kbd(C-c C-c)}}} and make new ones with
      {{{kbdkey(M-S-,RET)}}}. TODO statistics cookies update when
      changing TODO states. If you delete boxes/entries or add/change
      them by hand, use this command to get things back into sync.</p>
  </dd>
</dl>
<h1><span class="heading-number heading-number-1">6</span> Tags</h1>{{{cindex(tags)}}}
  {{{cindex(headline tagging)}}}
  {{{cindex(matching&#92;\, tags)}}}
  {{{cindex(sparse tree&#92;\, tag based)}}}
<p>An excellent way to implement labels and contexts for
  cross-correlating information is to assign <i>tags</i> to headlines. Org
  mode has extensive support for tags.</p>
<p>{{{vindex(org-tag-faces)}}}</p>
<p>Every headline can contain a list of tags; they occur at the end of
  the headline. Tags are normal words containing letters, numbers,
  {{{samp(_)}}}, and {{{samp(@)}}}. Tags must be preceded and followed
  by a single colon, e.g., {{{samp(:work:)}}}. Several tags can be
  specified, as in {{{samp(:work:urgent:)}}}. Tags will by default be in
  bold face with the same color as the headline. You may specify special
  faces for specific tags using the variable <code>org-tag-faces</code>, in much
  the same way as you can for TODO keywords (see <a href="Faces for TODO keywords">Faces for TODO keywords</a>).</p>
<h2><span class="heading-number heading-number-2">6.1</span> Tag inheritance</h2>{{{cindex(tag inheritance)}}}
  {{{cindex(inheritance&#92;\, of tags)}}}
  {{{cindex(sublevels&#92;\, inclusion into tags match)}}}
<p><i>Tags</i> make use of the hierarchical structure of outline trees. If a
  heading has a certain tag, all subheadings will inherit the tag as
  well. For example, in the list</p>
<pre class="example">
,* Meeting with the French group      :work:
,** Summary by Frank                  :boss:notes:
,*** TODO Prepare slides for him      :action:
</pre>
<p>{{{noindent}}} the final heading will have the tags
  {{{samp(:work:)}}}, {{{samp(:boss:)}}}, {{{samp(:notes:)}}}, and
  {{{samp(:action:)}}} even though the final heading is not explicitly
  marked with those tags. You can also set tags that all entries in a
  file should inherit just as if these tags were defined in a
  hypothetical level zero that surrounds the entire file. Use a line
  like this:<sup><a class="footref" name="fnr.55" href="#fn.55">55</a></sup></p>
<p>{{{cindex(#+FILETAGS)}}}</p>
<pre class="example">
,#+FILETAGS: :Peter:Boss:Secret:
</pre>
<p>{{{vindex(org-use-tag-inheritance)}}}
  {{{vindex(org-tags-exclude-from-inheritance)}}}</p>
<p>{{{noindent}}} To limit tag inheritance to specific tags, or to turn
  it off entirely, use the variables <code>org-use-tag-inheritance</code> and
  <code>org-tags-exclude-from-inheritance</code>.</p>
<p>{{{vindex(org-tags-match-list-sublevels)}}}</p>
<p>When a headline matches during a tags search while tag inheritance is
  turned on, all the sublevels in the same tree will (for a simple match
  form) match as well.<sup><a class="footref" name="fnr.56" href="#fn.56">56</a></sup> The list of matches may then become very
  long. If you only want to see the first tags match in a subtree,
  configure the variable <code>org-tags-match-list-sublevels</code> (not
  recommended).</p>
<h2><span class="heading-number heading-number-2">6.2</span> Setting tags</h2>{{{cindex(setting tags)}}}
  {{{cindex(tags&#92;\, setting)}}}
<p>{{{kindex(M-@key{TAB})}}}</p>
<p>Tags can simply be typed into the buffer at the end of a headline.
  After a colon, {{{kbdkey(M-,TAB)}}} offers completion on tags.  There is
  also a special command for inserting tags:</p>
<dl>
  <dt>{{{kbd(C-c C-q)}}}, <code>org-set-tags-command</code></dt><dd>
    {{{kindex(C-c C-q)}}}
    <p>{{{cindex(completion&#92;\, of tags)}}}
      {{{vindex(org-tags-column)}}}</p>
    <p>Enter new tags for the current headline.  Org mode will either offer
      completion or a special single-key interface for setting tags, see
      below.  After pressing {{{key(RET)}}}, the tags will be inserted and aligned
      to <code>org-tags-column</code>.  When called with a {{{kbd(C-u)}}} prefix, all
      tags in the current buffer will be aligned to that column, just to make
      things look nice.  TAGS are automatically realigned after promotion,
      demotion, and TODO state changes (see <a href="TODO basics">TODO basics</a>).</p>
  </dd>
  <dt>{{{kbd(C-c C-c)}}}, <code>org-set-tags-command</code></dt><dd>
    {{{kindex(C-c C-c)}}}
    <p>When the cursor is in a headline, this does the same as {{{kbd(C-c C-q)}}}.</p>
  </dd>
</dl>
<p>{{{vindex(org-tag-alist)}}}</p>
<p>Org supports tag insertion based on a <i>list of tags</i>. By default this
  list is constructed dynamically, containing all tags currently used in
  the buffer. You may also globally specify a hard list of tags with the
  variable <code>org-tag-alist</code>. Finally you can set the default tags for a
  given file with lines like</p>
<p>{{{cindex(#+TAGS)}}}</p>
<pre class="example">
,#+TAGS: @work @home @tennisclub
,#+TAGS: laptop car pc sailboat
</pre>
<p>If you have globally defined your preferred set of tags using the
  variable <code>org-tag-alist</code>, but would like to use a dynamic tag list
  in a specific file, add an empty TAGS option line to that file:</p>
<pre class="example">
,#+TAGS:
</pre>
<p>{{{vindex(org-tag-persistent-alist)}}}</p>
<p>If you have a preferred set of tags that you would like to use in
  every file, in addition to those defined on a per-file basis by TAGS
  option lines, then you may specify a list of tags with the variable
  <code>org-tag-persistent-alist</code>. You may turn this off on a per-file basis
  by adding a STARTUP option line to that file:</p>
<pre class="example">
,#+STARTUP: noptag
</pre>
<p>By default Org mode uses the standard minibuffer completion facilities
  for entering tags. However, it also implements another, quicker, tag
  selection method called <i>fast tag selection</i>. This allows you to
  select and deselect tags with just a single key press. For this to
  work well you should assign unique letters to most of your commonly
  used tags. You can do this globally by configuring the variable
  <code>org-tag-alist</code> in your {{{file(.emacs)}}} file. For example, you may
  find the need to tag many items in different files with
  {{{samp(:@home:)}}}. In this case you can set something like:</p>
<pre class="src src-emacs-lisp">
(setq org-tag-alist '((&quot;@@work&quot; . ?w) (&quot;@@home&quot; . ?h) (&quot;laptop&quot; . ?l)))
</pre>
<p>{{{noindent}}} If the tag is only relevant to the file you are working
  on, then you can instead set the TAGS option line as:</p>
<pre class="example">
,#+TAGS: @work(w)  @home(h)  @tennisclub(t)  laptop(l)  pc(p)
</pre>
<p>{{{noindent}}} The tags interface will show the available tags in a splash
  window.  If you want to start a new line after a specific tag, insert
  <code>\n</code> into the tag list, like this:</p>
<pre class="example">
,#+TAGS: @work(w)  @home(h)  @tennisclub(t) \n laptop(l)  pc(p)
</pre>
<p>{{{noindent}}} or write them in two lines:</p>
<pre class="example">
,#+TAGS: @work(w)  @home(h)  @tennisclub(t)
,#+TAGS: laptop(l)  pc(p)
</pre>
<p>{{{noindent}}}
  You can also group together tags that are mutually exclusive by using
  braces, as in:</p>
<pre class="example">
,#+TAGS: { @work(w)  @home(h)  @tennisclub(t) }  laptop(l)  pc(p)
</pre>
<p>{{{noindent}}} you indicate that at most one of {{{samp(@work)}}},
  {{{samp(@home)}}}, and {{{samp(@tennisclub)}}} should be selected.
  Multiple such groups are allowed.</p>
<p>{{{noindent}}} Don&#8217;t forget to press {{{kbd(C-c C-c)}}} with the
  cursor in one of these lines to activate any changes.</p>
<p>{{{noindent}}} To set these mutually exclusive groups in the variable
  <code>org-tags-alist</code>, you must use the dummy tags <code>:startgroup</code> and
  <code>:endgroup</code> instead of the braces. Similarly, you can use <code>:newline</code>
  to indicate a line break. The previous example would be set globally
  by the following configuration:</p>
<pre class="src src-emacs-lisp">
(setq org-tag-alist '((:startgroup . nil)
                      (&quot;@@work&quot; . ?w) (&quot;@@home&quot; . ?h)
                      (&quot;@@tennisclub&quot; . ?t)
                      (:endgroup . nil)
                      (&quot;laptop&quot; . ?l) (&quot;pc&quot; . ?p)))
</pre>
<p>If at least one tag has a selection key then pressing {{{kbd(C-c C-c)}}} will
  automatically present you with a special interface, listing inherited tags,
  the tags of the current headline, and a list of all valid tags with
  corresponding keys.<sup><a class="footref" name="fnr.57" href="#fn.57">57</a></sup>  In this interface, you can use the following
  keys:</p>
<dl>
  <dt>{{{kbd(a-z&#8230;)}}}</dt><dd>
    {{{kindex(a-z&#8230;)}}}
    <p>Pressing keys assigned to tags will add or remove them from the list of
      tags in the current line.  Selecting a tag in a group of mutually
      exclusive tags will turn off any other tags from that group.</p>
  </dd>
  <dt>{{{key(TAB)}}}</dt><dd>
    {{{kindex(@key{TAB})}}}
    <p>Enter a tag in the minibuffer, even if the tag is not in the predefined
      list.  You will be able to complete on all tags present in the buffer.
      You can also add several tags: just separate them with a comma.</p>
  </dd>
  <dt>{{{key(SPC)}}}</dt><dd>
    {{{kindex(@key{SPC})}}}
    <p>Clear all tags for this line.</p>
  </dd>
  <dt>{{{key(RET)}}}</dt><dd>
    {{{kindex(@key{RET})}}}
    <p>Accept the modified set.</p>
  </dd>
  <dt>C-g</dt><dd>
    <p>Abort without installing changes.</p>
  </dd>
  <dt>q</dt><dd>
    <p>If {{{kbd(q)}}} is not assigned to a tag, it aborts like {{{kbd(C-g)}}}.</p>
  </dd>
  <dt>!</dt><dd>
    <p>Turn off groups of mutually exclusive tags.  Use this to (as an
      exception) assign several tags from such a group.</p>
  </dd>
  <dt>C-c</dt><dd>
    <p>Toggle auto-exit after the next change (see below).
      If you are using expert mode, the first {{{kbd(C-c)}}} will display the
      selection window.</p>
  </dd>
</dl>
<p>{{{noindent}}} This method lets you assign tags to a headline with
  very few keys. With the above setup, you could clear the current tags
  and set {{{samp(@home)}}}, {{{samp(laptop)}}} and {{{samp(pc)}}} tags
  with just the following keys: {{{ksksksk(C-c C-c,SPC,h l p,RET)}}}. Switching from {{{samp(@home)}}} to
  {{{samp(@work)}}} would be done with {{{kbdspckey(C-c C-c w,RET)}}} or
  alternatively with {{{kbd(C-c C-c C-c w)}}}. Adding the non-predefined
  tag {{{samp(Sarah)}}} could be done with
  {{{ksksksksk(C-c C-c,TAB,S a r a h,RET,RET)}}}.</p>
<p>{{{vindex(org-fast-tag-selection-single-key)}}}</p>
<p>If you find that most of the time you need only a single key press to
  modify your list of tags, set the variable
  <code>org-fast-tag-selection-single-key</code>. Then you no longer have to press
  {{{key(RET)}}} to exit fast tag selection&#8212;it will immediately exit after
  the first change. If you then occasionally need more keys, press
  {{{kbd(C-c)}}} to turn off auto-exit for the current tag selection
  process (in effect: start selection with {{{kbd(C-c C-c C-c)}}}
  instead of {{{kbd(C-c C-c)}}}). If you set the variable to the value
  <code>expert</code>, the special window is not even shown for single-key tag
  selection, it comes up only when you press an extra {{{kbd(C-c)}}}.</p>
<h2><span class="heading-number heading-number-2">6.3</span> Tag searches</h2>{{{cindex(tag searches)}}}
  {{{cindex(searching for tags)}}}
<p>Once a system of tags has been set up, it can be used to collect related
  information into special lists.</p>
<dl>
  <dt>{{{kbd(C-c / m)}}}, <code>C-c \</code> <code>org-match-sparse-tree</code></dt><dd>
    <p>Create a sparse tree with all headlines matching a tags search. With a
      {{{kbd(C-u)}}} prefix argument, ignore headlines that are not a TODO
      line.</p>
  </dd>
  <dt>{{{kbd(C-c a m)}}}, <code>org-tags-view</code></dt><dd>
    {{{kindex(C-c a m)}}}
    <p>Create a global list of tag matches from all agenda files.
      See <a href="Matching tags and properties">Matching tags and properties</a>.</p>
  </dd>
  <dt>{{{kbd(C-c a M)}}}, <code>org-tags-view</code></dt><dd>
    {{{kindex(C-c a M)}}}
    {{{vindex(org-tags-match-list-sublevels)}}}
    <p>Create a global list of tag matches from all agenda files, but check
      only TODO items and force checking subitems (see variable
      <code>org-tags-match-list-sublevels</code>).</p>
  </dd>
</dl>
<p>These commands all prompt for a match string which allows basic
  Boolean logic like {{{samp(+boss+urgent-project1)}}}, to find entries
  with tags {{{samp(boss)}}} and {{{samp(urgent)}}}, but not
  {{{samp(project1)}}}, or {{{samp(Kathy|Sally)}}} to find entries which
  are tagged, like {{{samp(Kathy)}}} or {{{samp(Sally)}}}. The full
  syntax of the search string is rich and allows also matching against
  TODO keywords, entry levels and properties. For a complete description
  with many examples, see <a href="Matching tags and properties">Matching tags and properties</a>.</p>
<h1><span class="heading-number heading-number-1">7</span> Properties and columns</h1>{{{cindex(properties)}}}
<p>A property is a key-value pair associated with an entry. Properties
  can be set so they are associated with a single entry, with every
  entry in a tree, or with every entry in an Org mode file.</p>
<p>There are two main applications for properties in Org mode. First,
  properties are like tags, but with a value. Imagine maintaining a file
  where you document bugs and plan releases for a piece of software.
  Instead of using tags like <code>:release_1:</code>, <code>:release_2:</code>, you can use a
  property, say <code>:Release:</code>, that in different subtrees has different
  values, such as <code>1.0</code> or <code>2.0</code>. Second, you can use properties to
  implement (very basic) database capabilities in an Org buffer. Imagine
  keeping track of your music CDs, where properties could be things such
  as the album, artist, date of release, number of tracks, and so on.</p>
<p>Properties can be conveniently edited and viewed in column view
  (see <a href="Column view">Column view</a>).</p>
<h2><span class="heading-number heading-number-2">7.1</span> Property syntax</h2>{{{cindex(property syntax)}}}
  {{{cindex(drawer&#92;\, for properties)}}}
<p>Properties are key-value pairs. When they are associated with a single
  entry or with a tree they need to be inserted into a special drawer
  (see <a href="Drawers">Drawers</a>) with the name <code>PROPERTIES</code>. Each property is specified
  on a single line, with the key (surrounded by colons) first, and the
  value after it. Here is an example:</p>
<pre class="example">
,* CD collection
,** Classic
,*** Goldberg Variations
,    :PROPERTIES:
,    :Title:     Goldberg Variations
,    :Composer:  J.S. Bach
,    :Artist:    Glen Gould
,    :Publisher: Deutsche Grammophon
,    :NDisks:    1
,    :END:
</pre>
<p>Depending on the value of <code>org-use-property-inheritance</code>, a property
  set this way will either be associated with a single entry, or the
  sub-tree defined by the entry, see <a href="Property inheritance">Property inheritance</a>.</p>
<p>You may define the allowed values for a particular property
  {{{samp(:Xyz:)}}} by setting a property {{{samp(:Xyz_ALL:)}}}. This
  special property is <i>inherited</i>, so if you set it in a level 1 entry,
  it will apply to the entire tree. When allowed values are defined,
  setting the corresponding property becomes easier and is less prone to
  typing errors. For the example with the CD collection, we can
  predefine publishers and the number of disks in a box like this:</p>
<pre class="example">
,* CD collection
,  :PROPERTIES:
,  :NDisks_ALL:  1 2 3 4
,  :Publisher_ALL: &quot;Deutsche Grammophon&quot; Philips EMI
,  :END:
</pre>
<p>If you want to set properties that can be inherited by any entry in a
  file, use a line like:</p>
<p>{{{cindex(property&#92;\, _ALL)}}}
  {{{cindex(#+PROPERTY)}}}</p>
<pre class="example">
,#+PROPERTY: NDisks_ALL 1 2 3 4
</pre>
<p>If you want to add to the value of an existing property, append a <code>+</code>
  to the property name. The following results in the property <code>var</code>
  having the value &#8220;foo=1 bar=2&#8221;.</p>
<p>{{{cindex(property&#92;\, +)}}}</p>
<pre class="example">
,#+PROPERTY: var  foo=1
,#+PROPERTY: var+ bar=2
</pre>
<p>It is also possible to add to the values of inherited properties. The
  following results in the <code>genres</code> property having the value &#8220;Classic
  Baroque&#8221; under the <code>Goldberg Variations</code> subtree.</p>
<p>{{{cindex(property&#92;\, +)}}}</p>
<pre class="example">
,* CD collection
,** Classic
,    :PROPERTIES:
,    :GENRES: Classic
,    :END:
,*** Goldberg Variations
,    :PROPERTIES:
,    :Title:     Goldberg Variations
,    :Composer:  J.S. Bach
,    :Artist:    Glen Gould
,    :Publisher: Deutsche Grammophon
,    :NDisks:    1
,    :GENRES+:   Baroque
,    :END:
</pre>
<p>Note that a property can only have one entry per Drawer.</p>
<p>{{{vindex(org-global-properties)}}}</p>
<p>Property values set with the global variable <code>org-global-properties</code>
  can be inherited by all entries in all Org files.</p>
<p>{{{noindent}}}
  The following commands help to work with properties:</p>
<dl>
  <dt>{{{kbdkey(M-,TAB)}}}, <code>pcomplete</code></dt><dd>
    {{{kindex(M-@key{TAB})}}}
    <p>After an initial colon in a line, complete property keys. All keys
      used in the current file will be offered as possible completions.</p>
  </dd>
  <dt>{{{kbd(C-c C-x p)}}}, <code>org-set-property</code></dt><dd>
    {{{kindex(C-c C-x p)}}}
    <p>Set a property. This prompts for a property name and a value. If
      necessary, the property drawer is created as well.</p>
  </dd>
</dl>
<ul>
  <li>C-u M-x org-insert-drawer
    {{{cindex(org-insert-drawer)}}}
    <p>Insert a property drawer into the current entry. The drawer will be
      inserted early in the entry, but after the lines with planning
      information like deadlines.</p>
  </li>
</ul>
<dl>
  <dt>{{{kbd(C-c C-c)}}}, <code>org-property-action</code></dt><dd>
    {{{kindex(C-c C-c)}}}
    <p>With the cursor in a property drawer, this executes property commands.</p>
  </dd>
  <dt>{{{kbd(C-c C-c s)}}}, <code>org-set-property</code></dt><dd>
    {{{kindex(C-c C-c s)}}}
    <p>Set a property in the current entry.  Both the property and the value
      can be inserted using completion.</p>
  </dd>
  <dt>{{{kbdkey(S-,right)}}} {{{kbdkey(S-,left)}}}, <code>org-property-next-allowed-value</code> <code>org-property-previous-allowed-value</code></dt><dd>
    {{{kindex(S-@key{right})}}}
    <p>Switch property at point to the next/previous allowed value.</p>
  </dd>
  <dt>{{{kbd(C-c C-c d)}}}, <code>org-delete-property</code></dt><dd>
    {{{kindex(C-c C-c d)}}}
    <p>Remove a property from the current entry.</p>
  </dd>
  <dt>{{{kbd(C-c C-c D)}}}, <code>org-delete-property-globally</code></dt><dd>
    {{{kindex(C-c C-c D)}}}
    <p>Globally remove a property, from all entries in the current file.</p>
  </dd>
  <dt>{{{kbd(C-c C-c c)}}}, <code>org-compute-property-at-point</code></dt><dd>
    {{{kindex(C-c C-c c)}}}
    <p>Compute the property at point, using the operator and scope from the
      nearest column format definition.</p>
  </dd>
</dl>
<h2><span class="heading-number heading-number-2">7.2</span> Special properties</h2>{{{cindex(properties&#92;\, special)}}}
<p>Special properties provide an alternative access method to Org mode
  features, like the TODO state or the priority of an entry, discussed
  in the previous chapters. This interface exists so that you can
  include these states in a column view (see <a href="Column view">Column view</a>), or to use
  them in queries. The following property names are special and (except
  for <code>:CATEGORY:</code>) should not be used as keys in the properties drawer:</p>
<p>{{{cindex(property&#92;\, special&#92;\, ID)}}}
  {{{cindex(property&#92;\, special&#92;\, TODO)}}}
  {{{cindex(property&#92;\, special&#92;\, TAGS)}}}
  {{{cindex(property&#92;\, special&#92;\, ALLTAGS)}}}
  {{{cindex(property&#92;\, special&#92;\, CATEGORY)}}}
  {{{cindex(property&#92;\, special&#92;\, PRIORITY)}}}
  {{{cindex(property&#92;\, special&#92;\, DEADLINE)}}}
  {{{cindex(property&#92;\, special&#92;\, SCHEDULED)}}}
  {{{cindex(property&#92;\, special&#92;\, CLOSED)}}}
  {{{cindex(property&#92;\, special&#92;\, TIMESTAMP)}}}
  {{{cindex(property&#92;\, special&#92;\, TIMESTAMP_IA)}}}
  {{{cindex(property&#92;\, special&#92;\, CLOCKSUM)}}}
  {{{cindex(property&#92;\, special&#92;\, CLOCKSUM_T)}}}
  {{{cindex(property&#92;\, special&#92;\, BLOCKED)}}}</p>
<p>{{{cindex(property&#92;\, special&#92;\, ITEM)}}}
  {{{cindex(property&#92;\, special&#92;\, FILE)}}}</p>
<table>
  <tr><td>ID</td><td>A globally unique ID used for synchronization during</td></tr>
  <tr><td></td><td>iCalendar or MobileOrg export.</td></tr>
  <tr><td>TODO</td><td>The TODO keyword of the entry.</td></tr>
  <tr><td>TAGS</td><td>The tags defined directly in the headline.</td></tr>
  <tr><td>ALLTAGS</td><td>All tags, including inherited ones.</td></tr>
  <tr><td>CATEGORY</td><td>The category of an entry.</td></tr>
  <tr><td>PRIORITY</td><td>The priority of the entry, a string with a single letter.</td></tr>
  <tr><td>DEADLINE</td><td>The deadline time string, without the angular brackets.</td></tr>
  <tr><td>SCHEDULED</td><td>The scheduling timestamp, without the angular brackets.</td></tr>
  <tr><td>CLOSED</td><td>When was this entry closed?</td></tr>
  <tr><td>TIMESTAMP</td><td>The first keyword-less timestamp in the entry.</td></tr>
  <tr><td>TIMESTAMP_IA</td><td>The first inactive timestamp in the entry.</td></tr>
  <tr><td>CLOCKSUM</td><td>The sum of CLOCK intervals in the subtree.  <code>org-clock-sum</code></td></tr>
  <tr><td></td><td>must be run first to compute the values in the current buffer.</td></tr>
  <tr><td>CLOCKSUM_T</td><td>The sum of CLOCK intervals in the subtree for today.</td></tr>
  <tr><td></td><td><code>org-clock-sum-today</code> must be run first to compute the</td></tr>
  <tr><td></td><td>values in the current buffer.</td></tr>
  <tr><td>BLOCKED</td><td>&#8220;t&#8221; if task is currently blocked by children or siblings</td></tr>
  <tr><td>ITEM</td><td>The headline of the entry.</td></tr>
  <tr><td>FILE</td><td>The filename the entry is located in.</td></tr>
</table>
<h2><span class="heading-number heading-number-2">7.3</span> Property searches</h2>{{{cindex(properties&#92;\, searching)}}}
  {{{cindex(searching&#92;\, of properties)}}}
<p>To create sparse trees and special lists with selection based on properties,
  the same commands are used as for tag searches (see <a href="Tag searches">Tag searches</a>).</p>
<dl>
  <dt>{{{kbd(C-c / m)}}}, <code>C-c \</code> <code>org-match-sparse-tree</code></dt><dd>
    {{{kindex(C-c / m)}}}
    <p>Create a sparse tree with all matching entries. With a {{{kbd(C-u)}}}
      prefix argument, ignore headlines that are not a TODO line.</p>
  </dd>
  <dt>{{{kbd(C-c a m)}}}, <code>org-tags-view</code></dt><dd>
    {{{kindex(C-c a m)}}}
    <p>Create a global list of tag/property matches from all agenda files.
      See <a href="Matching tags and properties">Matching tags and properties</a>.</p>
  </dd>
  <dt>{{{kbd(C-c a M)}}}, <code>org-tags-view</code></dt><dd>
    {{{kindex(C-c a M)}}}
    {{{vindex(org-tags-match-list-sublevels)}}}
    <p>Create a global list of tag matches from all agenda files, but check
      only TODO items and force checking of subitems (see variable
      <code>org-tags-match-list-sublevels</code>).</p>
  </dd>
</dl>
<p>The syntax for the search string is described in @&lt;a href=&#8221;Matching tags and
  properties&#8221;&gt;Matching tags and
  properties</a>.</p>
<p>There is also a special command for creating sparse trees based on a
  single property:</p>
<dl>
  <dt>{{{kbd(C-c / p)}}}</dt><dd>
    {{{kindex(C-c / p)}}}
    <p>Create a sparse tree based on the value of a property. This first
      prompts for the name of a property, and then for a value. A sparse
      tree is created with all entries that define this property with the
      given value. If you enclose the value in curly braces, it is
      interpreted as a regular expression and matched against the property
      values.</p>
  </dd>
</dl>
<h2><span class="heading-number heading-number-2">7.4</span> Property inheritance</h2>{{{cindex(properties&#92;\, inheritance)}}}
  {{{cindex(inheritance&#92;\, of properties)}}}
<p>{{{vindex(org-use-property-inheritance)}}}</p>
<p>The outline structure of Org mode documents lends itself to an
  inheritance model of properties: if the parent in a tree has a certain
  property, the children can inherit this property. Org mode does not
  turn this on by default, because it can slow down property searches
  significantly and is often not needed. However, if you find
  inheritance useful, you can turn it on by setting the variable
  <code>org-use-property-inheritance</code>. It may be set to <code>t</code> to make all
  properties inherited from the parent, to a list of properties that
  should be inherited, or to a regular expression that matches inherited
  properties. If a property has the value {{{samp(nil)}}}, this is
  interpreted as an explicit undefine of the property, so that
  inheritance search will stop at this value and return <code>nil</code>.</p>
<p>Org mode has a few properties for which inheritance is hard-coded, at
  least for the special applications for which they are used:</p>
<dl>
  <dt><code>COLUMNS</code></dt><dd>
    {{{cindex(property&#92;\, COLUMNS)}}}
    <p>The <code>:COLUMNS:</code> property defines the format of column view (see @&lt;a href=&#8221;Column
      view&#8221;&gt;Column
      view</a>). It is inherited in the sense that the level where a <code>:COLUMNS:</code>
      property is defined is used as the starting point for a column view
      table, independently of the location in the subtree from where columns
      view is turned on.</p>
  </dd>
  <dt><code>CATEGORY</code></dt><dd>
    {{{cindex(property&#92;\, CATEGORY)}}}
    <p>For agenda view, a category set through a <code>:CATEGORY:</code> property
      applies to the entire subtree.</p>
  </dd>
  <dt><code>ARCHIVE</code></dt><dd>
    {{{cindex(property&#92;\, ARCHIVE)}}}
    <p>For archiving, the <code>:ARCHIVE:</code> property may define the archive
      location for the entire subtree (see <a href="Moving subtrees">Moving subtrees</a>).</p>
  </dd>
  <dt><code>LOGGING</code></dt><dd>
    {{{cindex(property&#92;\, LOGGING)}}}
    <p>The LOGGING property may define logging settings for an entry or a
      subtree (see <a href="Tracking TODO state changes">Tracking TODO state changes</a>).</p>
  </dd>
</dl>
<h2><span class="heading-number heading-number-2">7.5</span> Column view</h2>
<p>A great way to view and edit properties in an outline tree is <i>column
  view</i>. In column view, each outline node is turned into a table row.
  Columns in this table provide access to properties of the entries. Org
  mode implements columns by overlaying a tabular structure over the
  headline of each item. While the headlines have been turned into a
  table row, you can still change the visibility of the outline tree.
  For example, you get a compact table by switching to CONTENTS view
  ({{{kbdkey(S-,TAB)}}}} {{{kbdkey(S-,TAB)}}}), or simply {{{kbd(c)}}} while
  column view is active), but you can still open, read, and edit the
  entry below each headline. Or, you can switch to column view after
  executing a sparse tree command and in this way get a table only for
  the selected items. Column view also works in agenda buffers (see
  <a href="Agenda views">Agenda views</a>) where queries have collected selected items, possibly
  from a number of files.</p>
<h3><span class="heading-number heading-number-3">7.5.1</span> Defining columns</h3>{{{cindex(column view&#92;\, for properties)}}}
  {{{cindex(properties&#92;\, column view)}}}
<p>Setting up a column view first requires defining the columns.  This is
  done by defining a column format line.</p>
<h4><span class="heading-number heading-number-4">7.5.1.1</span> Scope of column definitions</h4>
<p>To define a column format for an entire file, use a line like:</p>
<p>{{{cindex(#+COLUMNS)}}}</p>
<pre class="example">
,#+COLUMNS: %25ITEM %TAGS %PRIORITY %TODO
</pre>
<p>To specify a format that only applies to a specific tree, add a
  <code>:COLUMNS:</code> property to the top node of that tree, for example:</p>
<pre class="example">
,** Top node for columns view
,   :PROPERTIES:
,   :COLUMNS: %25ITEM %TAGS %PRIORITY %TODO
,   :END:
</pre>
<p>If a <code>:COLUMNS:</code> property is present in an entry, it defines columns
  for the entry itself, and for the entire subtree below it. Since the
  column definition is part of the hierarchical structure of the
  document, you can define columns on level 1 that are general enough
  for all sublevels, and more specific columns further down, when you
  edit a deeper part of the tree.</p>
<h4><span class="heading-number heading-number-4">7.5.1.2</span> Column attributes</h4>A column definition sets the attributes of a column.  The general
  definition looks like this:
<p>%[{{{var(width)}}}]{{{var(property)}}}[({{{var(title)}}})][{{{{var(summary-type)}}}}]</p>
<p>{{{noindent}}} Except for the percent sign and the property name, all
  items are optional. The individual parts have the following meaning:</p>
<table>
  <tr><th>Variable</th><th>Meaning</th></tr>
  <tr><td>{{{var(width)}}}</td><td>An integer specifying the width of the column in characters.</td></tr>
  <tr><td></td><td>If omitted, the width will be determined automatically.</td></tr>
  <tr><td>{{{var(property)}}}</td><td>The property that should be edited in this column.</td></tr>
  <tr><td></td><td>Special properties representing meta data are allowed here</td></tr>
  <tr><td></td><td>as well (see <a href="Special properties">Special properties</a>)</td></tr>
  <tr><td>{{{var(title)}}}</td><td>The header text for the column.  If omitted, the property</td></tr>
  <tr><td></td><td>name is used.</td></tr>
  <tr><td>{{{var(summary-type)}}}</td><td>The summary type.  If specified, the column values for</td></tr>
  <tr><td></td><td>parent nodes are computed from the children.</td></tr>
</table>
<p>{{{noindent}}} Supported summary types are:</p>
<table>
  <tr><th>Type</th><th>Meaning</th></tr>
  <tr><td><code>+</code></td><td>Sum numbers in this column.</td></tr>
  <tr><td><code>+;%.1f</code></td><td>Like <code>+</code>, but format result with {{{samp(%.1f)}}}.</td></tr>
  <tr><td><code>$</code></td><td>Currency, short for {{{samp(+;%.2f)}}}.</td></tr>
  <tr><td><code>:</code></td><td>Sum times, HH:MM, plain numbers are hours.</td></tr>
  <tr><td><code>X</code></td><td>Checkbox status, {{{samp([X])}}} if all children are {{{samp([X])}}}.</td></tr>
  <tr><td><code>X/</code></td><td>Checkbox status, {{{samp([n/m])}}}.</td></tr>
  <tr><td><code>X%</code></td><td>Checkbox status, {{{samp([n%])}}}.</td></tr>
  <tr><td><code>min</code></td><td>Smallest number in column.</td></tr>
  <tr><td><code>max</code></td><td>Largest number.</td></tr>
  <tr><td><code>mean</code></td><td>Arithmetic mean of numbers.</td></tr>
  <tr><td><code>:min</code></td><td>Smallest time value in column.</td></tr>
  <tr><td><code>:max</code></td><td>Largest time value.</td></tr>
  <tr><td><code>:mean</code></td><td>Arithmetic mean of time values.</td></tr>
  <tr><td><code>@min</code></td><td>Minimum age (in days/hours/mins/seconds).</td></tr>
  <tr><td><code>@max</code></td><td>Maximum age (in days/hours/mins/seconds).</td></tr>
  <tr><td><code>@mean</code></td><td>Arithmetic mean of ages (in days/hours/mins/seconds).</td></tr>
  <tr><td><code>est+</code></td><td>Add low-high estimates.</td></tr>
</table>
<p>{{{noindent}}} Be aware that you can only have one summary type for
  any property you include. Subsequent columns referencing the same
  property will all display the same summary information.</p>
<p>The <code>est+</code> summary type requires further explanation. It is used for
  combining estimates, expressed as low-high ranges. For example,
  instead of estimating a particular task will take 5 days, you might
  estimate it as 5-6 days if you&#8217;re fairly confident you know how much
  work is required, or 1-10 days if you don&#8217;t really know what needs to
  be done. Both ranges average at 5.5 days, but the first represents a
  more predictable delivery.</p>
<p>When combining a set of such estimates, simply adding the lows and
  highs produces an unrealistically wide result. Instead, <code>est+</code> adds
  the statistical mean and variance of the sub-tasks, generating a final
  estimate from the sum. For example, suppose you had ten tasks, each of
  which was estimated at 0.5 to 2 days of work. Straight addition
  produces an estimate of 5 to 20 days, representing what to expect if
  everything goes either extremely well or extremely poorly. In
  contrast, <code>est+</code> estimates the full job more realistically, at 10-15
  days.</p>
<p>Here is an example for a complete columns definition, along with allowed
  values.<sup><a class="footref" name="fnr.58" href="#fn.58">58</a></sup></p>
<pre class="example">
:COLUMNS:  %25ITEM %9Approved(Approved?){X} %Owner %11Status \
                   %10Time_Estimate{:} %CLOCKSUM %CLOCKSUM_T
:Owner_ALL:    Tammy Mark Karl Lisa Don
:Status_ALL:   &quot;In progress&quot; &quot;Not started yet&quot; &quot;Finished&quot; &quot;&quot;
:Approved_ALL: &quot;[ ]&quot; &quot;[X]&quot;
</pre>
<p>{{{noindent}}} The first column, {{{samp(%25ITEM)}}}, means the first
  25 characters of the item itself, i.e., of the headline. You probably
  always should start the column definition with the {{{samp(ITEM)}}}
  specifier. The other specifiers create columns {{{samp(Owner)}}} with
  a list of names as allowed values, for {{{samp(Status)}}} with four
  different possible values, and for a checkbox field
  {{{samp(Approved)}}}. When no width is given after the {{{samp(%)}}}
  character, the column will be exactly as wide as it needs to be in
  order to fully display all values. The {{{samp(Approved)}}} column
  does have a modified title ({{{samp(Approved?)}}}, with a question
  mark). Summaries will be created for the {{{samp(Time_Estimate)}}}
  column by adding time duration expressions like HH:MM, and for the
  {{{samp(Approved)}}} column, by providing an {{{samp([X])}}} status if
  all children have been checked. The {{{samp(CLOCKSUM)}}} and
  {{{samp(CLOCKSUM_T)}}} columns are special, they lists the sums of
  CLOCK intervals in the subtree, either for all clocks or just for
  today.</p>
<h3><span class="heading-number heading-number-3">7.5.2</span> Using column view</h3>
<p>The following commands turn column view on or off:</p>
<dl>
  <dt>{{{kbd(C-c C-x C-c)}}}, <code>org-columns</code></dt><dd>
    {{{kindex(C-c C-x C-c)}}}
    {{{vindex(org-columns-default-format)}}}
    <p>Turn on column view. If the cursor is before the first headline in the
      file, column view is turned on for the entire file, using the
      <code>#+COLUMNS</code> definition. If the cursor is somewhere inside the outline,
      this command searches the hierarchy, up from point, for a <code>:COLUMNS:</code>
      property that defines a format. When one is found, the column view
      table is established for the tree starting at the entry that contains
      the <code>:COLUMNS:</code> property. If no such property is found, the format is
      taken from the <code>#+COLUMNS</code> line or from the variable
      <code>org-columns-default-format</code>, and column view is established for the
      current entry and its subtree.</p>
  </dd>
  <dt>{{{kbd(r)}}}, <code>org-columns-redo</code></dt><dd>
    {{{kindex(r)}}}
    <p>Recreate the column view, to include recent changes made in the
      buffer.</p>
  </dd>
  <dt>{{{kbd(g)}}}, <code>org-columns-redo</code></dt><dd>
    {{{kindex(g)}}}
    <p>Same as {{{kbd(r)}}}.</p>
  </dd>
  <dt>{{{kbd(q)}}}, <code>org-columns-quit</code></dt><dd>
    {{{kindex(q)}}}
    <p>Exit column view.</p>
  </dd>
</dl>
<p>The following commands let you edit information in column view:</p>
<dl>
  <dt>{{{key(left)}}} {{{key(right)}}} {{{key(up)}}} {{{key(down)}}}</dt><dd>
    <p>Move through the column view from field to field.</p>
  </dd>
  <dt>{{{kbdkey(S-,left)}}} {{{kbdkey(S-,right)}}}</dt><dd>
    {{{kindex(S-@key{left})}}}
    {{{kindex(S-@key{right})}}}
    <p>Switch to the next/previous allowed value of the field. For this, you
      have to have specified allowed values for a property.</p>
  </dd>
  <dt>{{{kbd(1..9,0)}}}</dt><dd>
    {{{kindex(1..9,0)}}}
    <p>Directly select the Nth allowed value, {{{kbd(0)}}} selects the 10th
      value.</p>
  </dd>
  <dt>{{{kbd(n)}}} {{{kbd(p)}}}, <code>org-columns-next-allowed-value</code> <code>org-columns-previous-allowed-value</code></dt><dd>
    {{{kindex(n)}}}
    <p>Same as {{{kbdkey(S-,left)}}} {{{kbdkey(S-,right)}}}</p>
  </dd>
  <dt>{{{kbd(e)}}}, <code>org-columns-edit-value</code></dt><dd>
    {{{kindex(e)}}}
    <p>Edit the property at point. For the special properties, this will
      invoke the same interface that you normally use to change that
      property. For example, when editing a TAGS property, the tag
      completion or fast selection interface will pop up.</p>
  </dd>
  <dt>{{{kbd(C-c C-c)}}}, <code>org-columns-set-tags-or-toggle</code></dt><dd>
    {{{kindex(C-c C-c)}}}
    <p>When there is a checkbox at point, toggle it.</p>
  </dd>
  <dt>{{{kbd(v)}}}, <code>org-columns-show-value</code></dt><dd>
    {{{kindex(v)}}}
    <p>View the full value of this property. This is useful if the width of
      the column is smaller than that of the value.</p>
  </dd>
  <dt>{{{kbd(a)}}}, <code>org-columns-edit-allowed</code></dt><dd>
    {{{kindex(a)}}}
    <p>Edit the list of allowed values for this property.  If the list is found
      in the hierarchy, the modified values is stored there.  If no list is
      found, the new value is stored in the first entry that is part of the
      current column view.</p>
  </dd>
</dl>
<p>The following commands modify column view on-the-fly:</p>
<dl>
  <dt>{{{kbd(<)}}} {{{kbd(>)}}}, <code>org-columns-narrow</code> <code>org-columns-widen</code></dt><dd>
    {{{kindex(<)}}}
    <p>Make the column narrower/wider by one character.</p>
  </dd>
  <dt>{{{kbdkey(S-M-,right)}}}, <code>org-columns-new</code></dt><dd>
    {{{kindex(S-M-@key{right})}}}
    <p>Insert a new column, to the left of the current column.</p>
  </dd>
  <dt>{{{kbdkey(S-M-,left)}}}, <code>org-columns-delete</code></dt><dd>
    {{{kindex(S-M-@key{left})}}}
    <p>Delete the current column.</p>
  </dd>
</dl>
<h3><span class="heading-number heading-number-3">7.5.3</span> Capturing column view</h3>
<p>Since column view is just an overlay over a buffer, it cannot be
  exported or printed directly. If you want to capture a column view,
  use a <code>columnview</code> dynamic block (see <a href="Dynamic blocks">Dynamic blocks</a>). The frame of
  this block looks like this:</p>
<p>{{{cindex(#+BEGIN&#92;\, columnview)}}}</p>
<pre class="example">
,* The column view
,#+BEGIN: columnview :hlines 1 :id &quot;label&quot;

,#+END:
</pre>
<p>{{{noindent}}} This dynamic block has the following parameters:</p>
<dl>
  <dt><code>:id</code></dt><dd>
    <p>This is the most important parameter. Column view is a feature that is
      often localized to a certain (sub)tree, and the capture block might be
      at a different location in the file. To identify the tree whose view
      to capture, you can use 4 values:</p>
    <p>{{{cindex(property&#92;\, ID)}}}</p>
    <table>
      <tr><th>Value</th><th>Meaning</th></tr>
      <tr><td>local</td><td>Use the tree in which the capture block is located.</td></tr>
      <tr><td>global</td><td>Make a global view, including all headings in the file.</td></tr>
      <tr><td>&#8220;file:PATH-TO-FILE&#8221;</td><td>Run column view at the top of this file.</td></tr>
      <tr><td>&#8220;ID&#8221;</td><td>Call column view in the tree that has an <code>:ID:</code></td></tr>
      <tr><td></td><td>property with the value <i>label</i>.  You can use</td></tr>
      <tr><td></td><td>{{{kbd(M-x org-id-copy)}}} to create a globally unique ID for</td></tr>
      <tr><td></td><td>the current entry and copy it to the kill-ring.</td></tr>
    </table>
    <dl>
      <dt>local</dt><dd>
        <p>Use the tree in which the capture block is located.</p>
      </dd>
      <dt>global</dt><dd>
        <p>Make a global view, including all headings in the file.</p>
      </dd>
      <dt>&#8220;file:PATH-TO-FILE&#8221;</dt><dd>
        <p>Run column view at the top of this file.</p>
      </dd>
      <dt>&#8220;ID&#8221;</dt><dd>
        <p>Call column view in the tree that has an <code>:ID:</code> property with the
          value <i>label</i>. You can use {{{kbd(M-x org-id-copy)}}} to
          create a globally unique ID for the current entry and copy
          it to the kill-ring.</p>
      </dd>
    </dl>
  </dd>
  <dt><code>:hlines</code></dt><dd>
    <p>When <code>t</code>, insert an hline after every line. When a number <code>N</code>,
      insert an hline before each headline with level <code>&lt;=</code>
      {{{var(N)}}}.</p>
  </dd>
  <dt><code>:vlines</code></dt><dd>
    <p>When set to <code>t</code>, force column groups to get vertical lines.</p>
  </dd>
  <dt><code>:maxlevel</code></dt><dd>
    <p>When set to a number, don&#8217;t capture entries below this level.</p>
  </dd>
  <dt><code>:skip-empty-rows</code></dt><dd>
    <p>When set to <code>t</code>, skip rows where the only non-empty specifier of the
      column view is <code>ITEM</code>.</p>
  </dd>
</dl>
<p>{{{noindent}}} The following commands insert or update the dynamic
  block:</p>
<dl>
  <dt>{{{kbd(C-c C-x i)}}}, <code>org-insert-columns-dblock</code></dt><dd>
    {{{kindex(C-c C-x i)}}}
    <p>Insert a dynamic block capturing a column view. You will be prompted
      for the scope or ID of the view.</p>
  </dd>
  <dt>{{{kbd(C-c C-c)}}} {{{kbd(C-c C-x C-u)}}}, <code>org-dblock-update</code></dt><dd>
    {{{kindex(C-c C-c)}}}
    <p>Update dynamic block at point. The cursor needs to be in the <code>#+BEGIN</code>
      line of the dynamic block.</p>
  </dd>
  <dt>{{{kbd(C-u C-c C-x C-u)}}}, <code>org-update-all-dblocks</code></dt><dd>
    {{{kindex(C-u C-c C-x C-u)}}}
    <p>Update all dynamic blocks (see <a href="Dynamic blocks">Dynamic blocks</a>). This is useful if you
      have several clock table blocks, column-capturing blocks or other
      dynamic blocks in a buffer.</p>
  </dd>
</dl>
<p>You can add formulas to the column view table and you may add plotting
  instructions in front of the table&#8212;these will survive an update of the
  block.  If there is a <code>#+TBLFM:</code> after the table, the table will
  actually be recalculated automatically after an update.</p>
<p>An alternative way to capture and process property values into a table
  is provided by Eric Schulte&#8217;s {{{file(org-collector.el)}}} which is a
  contributed package.<sup><a class="footref" name="fnr.59" href="#fn.59">59</a></sup> It provides a general API to collect
  properties from entries in a certain scope, and arbitrary Lisp
  expressions to process these values before inserting them into a table
  or a dynamic block.</p>
<h2><span class="heading-number heading-number-2">7.6</span> Property API</h2>{{{cindex(properties&#92;\, API)}}}
  {{{cindex(API&#92;\, for properties)}}}
<p>There is a full API for accessing and changing properties. This API
  can be used by Emacs Lisp programs to work with properties and to
  implement features based on them. For more information see @&lt;a href=&#8221;Using the
  property API&#8221;&gt;Using the
  property API</a>.</p>
<h1><span class="heading-number heading-number-1">8</span> Dates and times</h1>{{{cindex(dates)}}}
  {{{cindex(times)}}}
  {{{cindex(timestamp)}}}
  {{{cindex(date stamp)}}}
<p>To assist project planning, TODO items can be labeled with a date and/or
  a time.  The specially formatted string carrying the date and time
  information is called a <i>timestamp</i> in Org mode.  This may be a
  little confusing because timestamp is often used as indicating when
  something was created or last changed.  However, in Org mode this term
  is used in a much wider sense.</p>
<h2><span class="heading-number heading-number-2">8.1</span> Timestamps</h2>{{{cindex(timestamps)}}}
  {{{cindex(ranges&#92;\, time)}}}
  {{{cindex(date stamps)}}}
  {{{cindex(deadlines)}}}
  {{{cindex(scheduling)}}}
<p>A timestamp is a specification of a date (possibly with a time or a
  range of times) in a special format, either <code>&lt;2003-09-16 Tue&gt;</code> or
  <code>&lt;2003-09-16 Tue 09:39&gt;</code> or <code>&lt;2003-09-16 Tue 12:00-12:30&gt;</code>.<sup><a class="footref" name="fnr.60" href="#fn.60">60</a></sup> A
  timestamp can appear anywhere in the headline or body of an Org tree
  entry. Its presence causes entries to be shown on specific dates in
  the agenda (see <a href="Weekly/daily agenda">Weekly/daily agenda</a>). We distinguish:</p>
<dl>
  <dt>Plain timestamp; Event; Appointment</dt><dd>
    {{{cindex(timestamp)}}}
    {{{cindex(appointment)}}}
    <p>A simple timestamp just assigns a date/time to an item. This is just
      like writing down an appointment or event in a paper agenda. In the
      timeline and agenda displays, the headline of an entry associated with
      a plain timestamp will be shown exactly on that date.</p>
    <pre class="example">
,* Meet Peter at the movies
  &lt;2006-11-01 Wed 19:15&gt;
,* Discussion on climate change
  &lt;2006-11-02 Thu 20:00-22:00&gt;
    </pre>
  </dd>
  <dt>Timestamp with repeater interval</dt><dd>
    {{{cindex(timestamp&#92;\, with repeater interval)}}}
    <p>A timestamp may contain a <i>repeater interval</i>, indicating that it
      applies not only on the given date, but again and again after a
      certain interval of N days (d), weeks (w), months (m), or years (y).
      The following will show up in the agenda every Wednesday:</p>
    <pre class="example">
,* Pick up Sam at school
  &lt;2007-05-16 Wed 12:30 +1w&gt;
    </pre>
  </dd>
  <dt>Diary-style sexp entries</dt><dd>
    <p>For more complex date specifications, Org mode supports using the
      special sexp diary entries implemented in the Emacs calendar/diary
      package.<sup><a class="footref" name="fnr.61" href="#fn.61">61</a></sup> For example, with optional time:</p>
    <pre class="example">
,* 22:00-23:00 The nerd meeting on every 2nd Thursday of the month
  &lt;%%(org-float t 4 2)&gt;
    </pre>
  </dd>
  <dt>Time/Date range</dt><dd>
    {{{cindex(timerange)}}}
    {{{cindex(date range)}}}
    <p>Two timestamps connected by {{{samp(&#8211;)}}} denote a range.  The headline
      will be shown on the first and last day of the range, and on any dates
      that are displayed and fall in the range.  Here is an example:</p>
    <pre class="example">
,** Meeting in Amsterdam
   &lt;2004-08-23 Mon&gt;--&lt;2004-08-26 Thu&gt;
    </pre>
  </dd>
  <dt>Inactive timestamp</dt><dd>
    {{{cindex(timestamp&#92;\, inactive)}}}
    {{{cindex(inactive timestamp)}}}
    <p>Just like a plain timestamp, but with square brackets instead of
      angular ones.  These timestamps are inactive in the sense that they do
      <i>not</i> trigger an entry to show up in the agenda.</p>
    <pre class="example">
,* Gillian comes late for the fifth time
  [2006-11-01 Wed]
    </pre>
  </dd>
</dl>
<h2><span class="heading-number heading-number-2">8.2</span> Creating timestamps</h2>For Org mode to recognize timestamps, they need to be in the specific
  format. All commands listed below produce timestamps in the correct
  format.
<dl>
  <dt>{{{kbd(C-c .)}}}, <code>org-time-stamp</code></dt><dd>
    {{{kindex(C-c .)}}}
    <p>Prompt for a date and insert a corresponding timestamp. When the
      cursor is at an existing timestamp in the buffer, the command is used
      to modify this timestamp instead of inserting a new one. When this
      command is used twice in succession, a time range is inserted.</p>
  </dd>
  <dt>{{{kbd(C-c !)}}}, <code>org-time-stamp-inactive</code></dt><dd>
    {{{kindex(C-c !)}}}
    <p>Like {{{kbd(C-c .)}}}, but insert an inactive timestamp that will not
      cause an agenda entry.</p>
  </dd>
</dl>
<ul>
  <li>{{{kbd(C-u C-c .)}}} {{{kbd(C-u C-c !)}}}
    {{{kindex(C-u C-c .)}}}
    {{{kindex(C-u C-c .)}}}
    {{{kindex(C-u C-c !)}}}
    {{{vindex(org-time-stamp-rounding-minutes)}}}
    <p>Like {{{kbd(C-c .)}}} and {{{kbd(C-c !)}}}, but use the alternative
      format which contains date and time. The default time can be rounded
      to multiples of 5 minutes, see the option
      <code>org-time-stamp-rounding-minutes</code>.</p>
  </li>
</ul>
<dl>
  <dt>{{{kbd(C-c C-c)}}}</dt><dd>
    {{{kindex(C-c C-c)}}}
    <p>Normalize timestamp, insert/fix day name if missing or wrong.</p>
  </dd>
  <dt>{{{kbd(C-c <)}}}, <code>org-date-from-calendar</code></dt><dd>
    {{{kindex(C-c <)}}}
    <p>Insert a timestamp corresponding to the cursor date in the Calendar.</p>
  </dd>
  <dt>{{{kbd(C-c >)}}}, <code>org-goto-calendar</code></dt><dd>
    {{{kindex(C-c >)}}}
    <p>Access the Emacs calendar for the current date. If there is a
      timestamp in the current line, go to the corresponding date instead.</p>
  </dd>
  <dt>{{{kbd(C-c C-o)}}}, <code>org-open-at-point</code></dt><dd>
    {{{kindex(C-c C-o)}}}
    <p>Access the agenda for the date given by the timestamp or -range at
      point (see <a href="Weekly/daily agenda">Weekly/daily agenda</a>).</p>
  </dd>
  <dt>{{{kbdkey(S-,left)}}} {{{kbdkey(S-,right)}}}, <code>org-timestamp-down-day</code> <code>org-timestamp-up-day</code></dt><dd>
    {{{kindex(S-@key{left})}}}
    <p>Change date at cursor by one day.  These key bindings conflict with
      shift-selection and related modes (see <a href="Conflicts">Conflicts</a>).</p>
  </dd>
  <dt>{{{kbdkey(S-,up)}}} {{{kbdkey(S-,down)}}}, <code>org-timestamp-up</code> <code>org-timestamp-down-down</code></dt><dd>
    {{{kindex(S-@key{up})}}}
    <p>Change the item under the cursor in a timestamp. The cursor can be on
      a year, month, day, hour or minute. When the timestamp contains a time
      range like {{{samp(15:30-16:30)}}}, modifying the first time will also
      shift the second, shifting the time block with constant length. To
      change the length, modify the second time. Note that if the cursor is
      in a headline and not at a timestamp, these same keys modify the
      priority of an item. (see <a href="Priorities">Priorities</a>). The key bindings also conflict
      with shift-selection and related modes (see <a href="Conflicts">Conflicts</a>).</p>
  </dd>
  <dt>{{{kbd(C-c C-y)}}}, <code>org-evaluate-time-range</code></dt><dd>
    {{{kindex(C-c C-y)}}}
    {{{cindex(evaluate time range)}}}
    <p>Evaluate a time range by computing the difference between start and
      end. With a prefix argument, insert result after the time range (in a
      table: into the following column).</p>
  </dd>
</dl>
<h3><span class="heading-number heading-number-3">8.2.1</span> The date/time prompt</h3>{{{cindex(date&#92;\, reading in minibuffer)}}}
  {{{cindex(time&#92;\, reading in minibuffer)}}}
<p>{{{vindex(org-read-date-prefer-future)}}}</p>
<p>When Org mode prompts for a date/time, the default is shown in default
  date/time format, and the prompt therefore seems to ask for a specific
  format. But it will in fact accept date/time information in a variety
  of formats. Generally, the information should start at the beginning
  of the string. Org mode will find whatever information is in there and
  derive anything you have not specified from the <i>default date and
  time</i>. The default is usually the current date and time, but when
  modifying an existing timestamp, or when entering the second stamp of
  a range, it is taken from the stamp in the buffer. When filling in
  information, Org mode assumes that most of the time you will want to
  enter a date in the future: if you omit the month/year and the given
  day/month is <i>before</i> today, it will assume that you mean a future
  date.<sup><a class="footref" name="fnr.62" href="#fn.62">62</a></sup> If the date has been automatically shifted into the
  future, the time prompt will show this with {{{samp((=&gt;F))}}}.</p>
<p>For example, let&#8217;s assume that today is <b>June 13, 2006</b>. Here is how
  various inputs will be interpreted, the items filled in by Org mode
  are in <b>bold</b>.</p>
<table>
  <tr><th>Input</th><th>Interpretation</th></tr>
  <tr><td>3-2-5</td><td>{{{result}}} 2003-02-05</td></tr>
  <tr><td>2/5/3</td><td>{{{result}}} 2003-02-05</td></tr>
  <tr><td>14</td><td>{{{result}}} <b>2006</b>-*06*-14</td></tr>
  <tr><td>12</td><td>{{{result}}} <b>2006</b>-*07*-12</td></tr>
  <tr><td>2/5</td><td>{{{result}}} <b>2007</b>-02-05</td></tr>
  <tr><td>Fri</td><td>{{{result}}} nearest Friday (default date or later)</td></tr>
  <tr><td>sep 15</td><td>{{{result}}} <b>2006</b>-09-15</td></tr>
  <tr><td>feb 15</td><td>{{{result}}} <b>2007</b>-02-15</td></tr>
  <tr><td>sep 12 9</td><td>{{{result}}} 2009-09-12</td></tr>
  <tr><td>12:45</td><td>{{{result}}} <b>2006</b>-*06*-*13* 12:45</td></tr>
  <tr><td>22 sept 0:34</td><td>{{{result}}} <b>2006</b>-09-22 0:34</td></tr>
  <tr><td>w4</td><td>{{{result}}} ISO week for of the current year <b>2006</b></td></tr>
  <tr><td>2012 w4 fri</td><td>{{{result}}} Friday of ISO week 4 in 2012</td></tr>
  <tr><td>2012-w04-5</td><td>{{{result}}} Same as above</td></tr>
</table>
<p>Furthermore you can specify a relative date by giving, as the <i>first</i>
  thing in the input: a plus/minus sign, a number and a letter ([dwmy])
  to indicate change in days, weeks, months, or years. With a single
  plus or minus, the date is always relative to today. With a double
  plus or minus, it is relative to the default date. If instead of a
  single letter, you use the abbreviation of day name, the date will be
  the Nth such day, e.g.:</p>
<table>
  <tr><th>Input</th><th>Interpretation</th></tr>
  <tr><td>+0</td><td>{{{result}}} today</td></tr>
  <tr><td>.</td><td>{{{result}}} today</td></tr>
  <tr><td>+4d</td><td>{{{result}}} four days from today</td></tr>
  <tr><td>+4</td><td>{{{result}}} same as +4d</td></tr>
  <tr><td>+2w</td><td>{{{result}}} two weeks from today</td></tr>
  <tr><td>++5</td><td>{{{result}}} five days from default date</td></tr>
  <tr><td>+2tue</td><td>{{{result}}} second Tuesday from now</td></tr>
</table>
<p>{{{vindex(parse-time-months)}}}
  {{{vindex(parse-time-weekdays)}}}</p>
<p>The function understands English month and weekday abbreviations. If
  you want to use unabbreviated names and/or other languages, configure
  the variables <code>parse-time-months</code> and <code>parse-time-weekdays</code>.</p>
<p>{{{vindex(org-read-date-force-compatible-dates)}}}</p>
<p>Not all dates can be represented in a given Emacs implementation. By
  default Org mode forces dates into the compatibility range 1970&#8211;2037
  which works on all Emacs implementations. If you want to use dates
  outside of this range, read the docstring of the variable
  <code>org-read-date-force-compatible-dates</code>.</p>
<p>You can specify a time range by giving start and end times or by
  giving a start time and a duration (in HH:MM format). Use one or two
  dash(es) as the separator in the former case and use &#8216;+&#8217; as the
  separator in the latter case, e.g.:</p>
<table>
  <tr><th>Range</th><th>Result</th></tr>
  <tr><td>11am-1:15pm</td><td>{{{result}}} 11:00-13:15</td></tr>
  <tr><td>11am&#8211;1:15pm</td><td>{{{result}}} same as above</td></tr>
  <tr><td>11am+2:15</td><td>{{{result}}} same as above</td></tr>
</table>
<p>{{{cindex(calendar&#92;\, for selecting date)}}}
  {{{vindex(org-popup-calendar-for-date-prompt)}}}</p>
<p>Parallel to the minibuffer prompt, a calendar is popped up.<sup><a class="footref" name="fnr.63" href="#fn.63">63</a></sup>
  When you exit the date prompt, either by clicking on a date in the
  calendar, or by pressing {{{key(RET)}}}, the date selected in the
  calendar will be combined with the information entered at the prompt.
  You can control the calendar fully from the minibuffer:</p>
<p>{{{kindex(&lt;)}}}
  {{{kindex(&gt;)}}}
  {{{kindex(M-v)}}}
  {{{kindex(C-v)}}}
  {{{kindex(mouse-1)}}}
  {{{kindex(S-@key{right})}}}
  {{{kindex(S-@key{left})}}}
  {{{kindex(S-@key{down})}}}
  {{{kindex(S-@key{up})}}}
  {{{kindex(M-S-@key{right})}}}
  {{{kindex(M-S-@key{left})}}}
  {{{kindex(@key{RET})}}}</p>
<table>
  <tr><th>Key binding</th><th>Meaning</th></tr>
  <tr><td>{{{key(RET)}}}</td><td>Choose date at cursor in calendar.</td></tr>
  <tr><td>{{{key(mouse-1)}}}</td><td>Select date by clicking on it.</td></tr>
  <tr><td>{{{kbdkey(S-,right)}}}</td><td>One day forward.</td></tr>
  <tr><td>{{{kbdkey(S-,left)}}}</td><td>One day backward.</td></tr>
  <tr><td>{{{kbdkey(S-,down)}}}</td><td>One week forward.</td></tr>
  <tr><td>{{{kbdkey(S-,up)}}}</td><td>One week backward.</td></tr>
  <tr><td>{{{kbdkey(M-S-,right)}}}</td><td>One month forward.</td></tr>
  <tr><td>{{{kbdkey(M-S-,left)}}}</td><td>One month backward.</td></tr>
  <tr><td>{{{kbd(&gt;)}}}</td><td>Scroll calendar forward by one month.</td></tr>
  <tr><td>{{{kbd(&lt;)}}}</td><td>Scroll calendar backward by one month.</td></tr>
  <tr><td>{{{kbd(M-v)}}}</td><td>Scroll calendar forward by 3 months.</td></tr>
  <tr><td>{{{kbd(C-v)}}}</td><td>Scroll calendar backward by 3 months.</td></tr>
</table>
<p>{{{vindex(org-read-date-display-live)}}}</p>
<p>The actions of the date/time prompt may seem complex, but I assure you they
  will grow on you, and you will start getting annoyed by pretty much any other
  way of entering a date/time out there.  To help you understand what is going
  on, the current interpretation of your input will be displayed live in the
  minibuffer.<sup><a class="footref" name="fnr.64" href="#fn.64">64</a></sup></p>
<h3><span class="heading-number heading-number-3">8.2.2</span> Custom time format</h3>{{{cindex(custom date/time format)}}}
  {{{cindex(time format&#92;\, custom)}}}
  {{{cindex(date format&#92;\, custom)}}}
<p>{{{vindex(org-display-custom-times)}}}
  {{{vindex(org-time-stamp-custom-formats)}}}</p>
<p>Org mode uses the standard ISO notation for dates and times as it is
  defined in ISO 8601. If you cannot get used to this and require
  another representation of date and time to keep you happy, you can get
  it by customizing the variables <code>org-display-custom-times</code> and
  <code>org-time-stamp-custom-formats</code>.</p>
<dl>
  <dt>{{{kbd(C-c C-x C-t)}}}, <code>org-toggle-time-stamp-overlays</code></dt><dd>
    {{{kindex(C-c C-x C-t)}}}
    <p>Toggle the display of custom formats for dates and times.</p>
  </dd>
</dl>
<p>{{{noindent}}}
  Org mode needs the default format for scanning, so the custom date/time
  format does not <i>replace</i> the default format&#8212;instead it is put
  <i>over</i> the default format using text properties.  This has the
  following consequences:</p>
<ul>
  <li>You cannot place the cursor onto a timestamp anymore, only before or
    after.</li>
  <li>The {{{kbdkey(S-,up)}}} {{{kbdkey(S-,down)}}} keys can no longer be
    used to adjust each component of a timestamp. If the cursor is at
    the beginning of the stamp, {{{kbdkey(S-,up)}}}
    {{{kbdkey(S-,down)}}} will change the stamp by one day, just like
    {{{kbdkey(S-,left)}}} {{{kbdkey(S-,right)}}}. At the end of the
    stamp, the time will be changed by one minute.</li>
  <li>If the timestamp contains a range of clock times or a repeater,
    these will not be overlaid, but remain in the buffer as they were.</li>
  <li>When you delete a timestamp character-by-character, it will only
    disappear from the buffer after <i>all</i> (invisible) characters
    belonging to the ISO timestamp have been removed.</li>
  <li>If the custom timestamp format is longer than the default and you
    are using dates in tables, table alignment will be messed up.  If
    the custom format is shorter, things do work as expected.</li>
</ul>
<h2><span class="heading-number heading-number-2">8.3</span> Deadlines and scheduling</h2>
<p>A timestamp may be preceded by special keywords to facilitate planning:</p>
<dl>
  <dt><code>DEADLINE</code></dt><dd>
    {{{cindex(DEADLINE keyword)}}}
    <p>Meaning: the task (most likely a TODO item, though not necessarily) is
      supposed to be finished on that date.</p>
    <p>{{{vindex(org-deadline-warning-days)}}}</p>
    <p>On the deadline date, the task will be listed in the agenda. In
      addition, the agenda for <i>today</i> will carry a warning about the
      approaching or missed deadline, starting <code>org-deadline-warning-days</code>
      before the due date, and continuing until the entry is marked DONE. An
      example:</p>
    <pre class="example">
,*** TODO write article about the Earth for the Guide
    DEADLINE: &lt;2004-02-29 Sun&gt;
    The editor in charge is [[bbdb:Ford Prefect]]
    </pre>
    <p>You can specify a different lead time for warnings for a specific
      deadlines using the following syntax. Here is an example with a
      warning period of 5 days <code>DEADLINE: &lt;2004-02-29 Sun -5d&gt;</code>.</p>
  </dd>
  <dt><code>SCHEDULED</code></dt><dd>
    {{{cindex(SCHEDULED keyword)}}}
    <p>Meaning: you are planning to start working on that task on the given
      date.</p>
    <p>{{{vindex(org-agenda-skip-scheduled-if-done)}}}</p>
    <p>The headline will be listed under the given date.<sup><a class="footref" name="fnr.65" href="#fn.65">65</a></sup> In addition,
      a reminder that the scheduled date has passed will be present in the
      compilation for <i>today</i>, until the entry is marked DONE, i.e., the
      task will automatically be forwarded until completed.</p>
    <pre class="example">
,*** TODO Call Trillian for a date on New Years Eve.
    SCHEDULED: &lt;2004-12-25 Sat&gt;
    </pre>
    <p>{{{noindent}}}
      <b>Important:</b> Scheduling an item in Org mode should <i>not</i> be
      understood in the same way that we understand <i>scheduling a meeting</i>.
      Setting a date for a meeting is just a simple appointment, you should
      mark this entry with a simple plain timestamp, to get this item shown
      on the date where it applies.  This is a frequent misunderstanding by
      Org users.  In Org mode, <i>scheduling</i> means setting a date when you
      want to start working on an action item.</p>
  </dd>
</dl>
<p>You may use timestamps with repeaters in scheduling and deadline
  entries.  Org mode will issue early and late warnings based on the
  assumption that the timestamp represents the <i>nearest instance</i> of
  the repeater.  However, the use of diary sexp entries like</p>
<p><code>&lt;%%(org-float t 42)&gt;</code></p>
<p>in scheduling and deadline timestamps is limited.  Org mode does not
  know enough about the internals of each sexp function to issue early and
  late warnings.  However, it will show the item on each day where the
  sexp entry matches.</p>
<h3><span class="heading-number heading-number-3">8.3.1</span> Inserting deadline/schedule</h3>
<p>The following commands allow you to quickly insert a deadline or to schedule
  an item:<sup><a class="footref" name="fnr.66" href="#fn.66">66</a></sup></p>
<dl>
  <dt>{{{kbd(C-c C-d)}}}, <code>org-deadline</code></dt><dd>
    {{{kindex(C-c C-d)}}}
    <p>Insert {{{samp(DEADLINE)}}} keyword along with a stamp. The insertion
      will happen in the line directly following the headline. Any CLOSED
      timestamp will be removed. When called with a prefix arg, an existing
      deadline will be removed from the entry. Depending on the variable
      <code>org-log-redeadline</code>, a note will be taken when changing an existing
      deadline.<sup><a class="footref" name="fnr.67" href="#fn.67">67</a></sup></p>
  </dd>
  <dt>{{{kbd(C-c C-s)}}}, <code>org-schedule</code></dt><dd>
    {{{kindex(C-c C-s)}}}
    <p>Insert {{{samp(SCHEDULED)}}} keyword along with a stamp. The insertion
      will happen in the line directly following the headline. Any
      {{{samp(CLOSED)}}} timestamp will be removed. When called with a
      prefix argument, remove the scheduling date from the entry. Depending
      on the variable <code>org-log-reschedule</code>, a note will be taken when
      changing an existing scheduling time.<sup><a class="footref" name="fnr.68" href="#fn.68">68</a></sup></p>
  </dd>
  <dt>{{{kbd(C-c C-x C-k)}}}, <code>org-mark-entry-for-agenda-action</code></dt><dd>
    {{{kindex(C-c C-x C-k)}}}
    {{{kindex(k a)}}}
    {{{kindex(k s)}}}
    <p>Mark the current entry for agenda action. After you have marked the
      entry like this, you can open the agenda or the calendar to find an
      appropriate date. With the cursor on the selected date, press
      {{{kbd(k s)}}} or {{{kbd(k d)}}} to schedule the marked item.</p>
  </dd>
  <dt>{{{kbd(C-c / d)}}}, <code>org-check-deadlines</code></dt><dd>
    {{{kindex(C-c / d)}}}
    {{{cindex(sparse tree&#92;\, for deadlines)}}}
    {{{vindex(org-deadline-warning-days)}}}
    <p>Create a sparse tree with all deadlines that are either past-due, or
      which will become due within <code>org-deadline-warning-days</code>. With
      {{{kbd(C-u)}}} prefix, show all deadlines in the file. With a numeric
      prefix, check that many days. For example, {{{kbd(C-1 C-c / d)}}}
      shows all deadlines due tomorrow.</p>
  </dd>
  <dt>{{{kbd(C-c / b)}}}, <code>org-check-before-date</code></dt><dd>
    {{{kindex(C-c / b)}}}
    <p>Sparse tree for deadlines and scheduled items before a given date.</p>
  </dd>
  <dt>{{{kbd(C-c / a)}}}, <code>org-check-after-date</code></dt><dd>
    {{{kindex(C-c / a)}}}
    <p>Sparse tree for deadlines and scheduled items after a given date.</p>
  </dd>
</dl>
<p>Note that <code>org-schedule</code> and <code>org-deadline</code> supports setting the date
  by indicating a relative time: e.g. +1d will set the date to the next
  day after today, and &#8211;1w will set the date to the previous week
  before any current timestamp.</p>
<h3><span class="heading-number heading-number-3">8.3.2</span> Repeated tasks</h3>{{{cindex(tasks&#92;\, repeated)}}}
  {{{cindex(repeated tasks)}}}
<p>Some tasks need to be repeated again and again.  Org mode helps to
  organize such tasks using a so-called repeater in a DEADLINE, SCHEDULED,
  or plain timestamp.  In the following example:</p>
<pre class="example">
,** TODO Pay the rent
   DEADLINE: &lt;2005-10-01 Sat +1m&gt;
</pre>
<p>{{{noindent}}} the <code>+1m</code> is a repeater; the intended interpretation is
  that the task has a deadline on &lt;2005-10-01&gt; and repeats itself every
  (one) month starting from that time. You can use yearly, monthly,
  weekly, daily and hourly repeat cookies by using the <code>y/w/m/d/h</code>
  letters. If you need both a repeater and a special warning period in a
  deadline entry, the repeater should come first and the warning period
  last: <code>DEADLINE: &lt;2005-10-01 Sat +1m -3d&gt;</code>.</p>
<p>{{{vindex(org-todo-repeat-to-state)}}}</p>
<p>Deadlines and scheduled items produce entries in the agenda when they
  are over-due, so it is important to be able to mark such an entry as
  completed once you have done so. When you mark a DEADLINE or a
  SCHEDULE with the TODO keyword DONE, it will no longer produce entries
  in the agenda. The problem with this is, however, that then also the
  <i>next</i> instance of the repeated entry will not be active. Org mode
  deals with this in the following way: When you try to mark such an
  entry DONE (using {{{kbd(C-c C-t)}}}), it will shift the base date of
  the repeating timestamp by the repeater interval, and immediately set
  the entry state back to TODO.<sup><a class="footref" name="fnr.69" href="#fn.69">69</a></sup> In the example above, setting the
  state to DONE would actually switch the date like this:</p>
<pre class="example">
,** TODO Pay the rent
   DEADLINE: &lt;2005-11-01 Tue +1m&gt;
</pre>
<p>{{{vindex(org-log-repeat)}}}</p>
<p>A timestamp will be added under the deadline, to keep a record that
  you actually acted on the previous instance of this deadline.<sup><a class="footref" name="fnr.70" href="#fn.70">70</a></sup></p>
<p>As a consequence of shifting the base date, this entry will no longer be
  visible in the agenda when checking past dates, but all future instances
  will be visible.</p>
<p>With the {{{samp(+1m)}}} cookie, the date shift will always be exactly one
  month.  So if you have not paid the rent for three months, marking this
  entry DONE will still keep it as an overdue deadline.  Depending on the
  task, this may not be the best way to handle it.  For example, if you
  forgot to call your father for 3 weeks, it does not make sense to call
  him 3 times in a single day to make up for it.  Finally, there are tasks
  like changing batteries which should always repeat a certain time
  <i>after</i> the last time you did it.  For these tasks, Org mode has
  special repeaters  {{{samp(++)}}} and {{{samp(.+)}}}.  For example:</p>
<pre class="example">
,** TODO Call Father
   DEADLINE: &lt;2008-02-10 Sun ++1w&gt;
   Marking this DONE will shift the date by at least one week,
   but also by as many weeks as it takes to get this date into
   the future.  However, it stays on a Sunday, even if you called
   and marked it done on Saturday.
,** TODO Check the batteries in the smoke detectors
   DEADLINE: &lt;2005-11-01 Tue .+1m&gt;
   Marking this DONE will shift the date to one month after
   today.
</pre>
<p>You may have both scheduling and deadline information for a specific
  task&#8212;just make sure that the repeater intervals on both are the
  same.</p>
<p>An alternative to using a repeater is to create a number of copies of
  a task subtree, with dates shifted in each copy. The command
  {{{kbd(C-c C-x c)}}} was created for this purpose, it is described in
  <a href="Structure editing">Structure editing</a>.</p>
<h2><span class="heading-number heading-number-2">8.4</span> Clocking work time</h2>{{{cindex(clocking time)}}}
  {{{cindex(time clocking)}}}
<p>Org mode allows you to clock the time you spend on specific tasks in a
  project.  When you start working on an item, you can start the clock.  When
  you stop working on that task, or when you mark the task done, the clock is
  stopped and the corresponding time interval is recorded.  It also computes
  the total time spent on each subtree of a project.<sup><a class="footref" name="fnr.71" href="#fn.71">71</a></sup>  And it remembers a
  history or tasks recently clocked, to that you can jump quickly between a
  number of tasks absorbing your time.</p>
<p>To save the clock history across Emacs sessions, use:</p>
<pre class="src src-emacs-lisp">
(setq org-clock-persist 'history)
(org-clock-persistence-insinuate)
</pre>
<p>When you clock into a new task after resuming Emacs, the incomplete
  clock will be found (see <a href="Resolving idle time">Resolving idle time</a>) and you will be prompted
  about what to do with it.<sup><a class="footref" name="fnr.72" href="#fn.72">72</a></sup></p>
<h3><span class="heading-number heading-number-3">8.4.1</span> Clocking commands</h3>
<dl>
  <dt>{{{kbd(C-c C-x C-i)}}}, <code>org-clock-in</code></dt><dd>
    {{{kindex(C-c C-x C-i)}}}
    {{{vindex(org-clock-into-drawer)}}}
    {{{vindex(org-clock-continuously)}}}
    {{{cindex(property&#92;\, LOG_INTO_DRAWER)}}}
    <p>Start the clock on the current item (clock-in). This inserts the CLOCK
      keyword together with a timestamp. If this is not the first clocking
      of this item, the multiple CLOCK lines will be wrapped into a
      <code>:LOGBOOK:</code> drawer (see also the variable <code>org-clock-into-drawer</code>).
      You can also overrule the setting of this variable for a subtree by
      setting a <code>CLOCK_INTO_DRAWER</code> or <code>LOG_INTO_DRAWER</code> property. When
      called with a {{{kbd(C-u)}}} prefix argument, select the task from a
      list of recently clocked tasks. With two {{{kbd(C-u C-u)}}} prefixes,
      clock into the task at point and mark it as the default task; the
      default task will then always be available with letter {{{kbd(d)}}}
      when selecting a clocking task. With three {{{kbd(C-u C-u C-u)}}}
      prefixes, force continuous clocking by starting the clock when the
      last clock stopped.@*</p>
    <p>{{{cindex(property: CLOCK_MODELINE_TOTAL)}}}
      {{{cindex(property: LAST_REPEAT)}}}
      {{{vindex(org-clock-modeline-total)}}}</p>
    <p>While the clock is running, the current clocking time is shown in the
      mode line, along with the title of the task. The clock time shown will
      be all time ever clocked for this task and its children. If the task
      has an effort estimate (see <a href="Effort estimates">Effort estimates</a>), the mode line displays
      the current clocking time against it.<sup><a class="footref" name="fnr.73" href="#fn.73">73</a></sup> If the task is a
      repeating one (see <a href="Repeated tasks">Repeated tasks</a>), only the time since the last reset
      of the task will be shown.<sup><a class="footref" name="fnr.74" href="#fn.74">74</a></sup> More control over what time is shown
      can be exercised with the <code>CLOCK_MODELINE_TOTAL</code> property. It may have
      the values <code>current</code> to show only the current clocking instance,
      <code>today</code> to show all time clocked on this tasks today (see also the
      variable <code>org-extend-today-until</code>), <code>all</code> to include all time, or
      <code>auto</code> which is the default.<sup><a class="footref" name="fnr.75" href="#fn.75">75</a></sup>@* Clicking with {{{kbd(mouse-1)}}}
      onto the mode line entry will pop up a menu with clocking options.</p>
  </dd>
  <dt>{{{kbd(C-c C-x C-o)}}}, <code>org-clock-out</code></dt><dd>
    {{{kindex(C-c C-x C-o)}}}
    {{{vindex(org-log-note-clock-out)}}}
    <p>Stop the clock (clock-out).  This inserts another timestamp at the same
      location where the clock was last started.  It also directly computes
      the resulting time in inserts it after the time range as
      {{{samp(=&gt;HH:MM)}}}.  See the variable <code>org-log-note-clock-out</code> for the
      possibility to record an additional note together with the clock-out
      timestamp.<sup><a class="footref" name="fnr.76" href="#fn.76">76</a></sup></p>
  </dd>
  <dt>{{{kbd(C-c C-x C-x)}}}, <code>org-clock-in-last</code></dt><dd>
    {{{kindex(C-c C-x C-x)}}}</dd>
</dl>
<p>{{{vindex(org-clock-continuously)}}}</p>
<p>Reclock the last clocked task. With one {{{kbd(C-u)}}} prefix
  argument, select the task from the clock history. With two
  {{{kbd(C-u)}}} prefixes, force continuous clocking by starting the
  clock when the last clock stopped.</p>
<dl>
  <dt>{{{kbd(C-c C-x C-e)}}}, <code>org-clock-modify-effort-estimate</code></dt><dd>
    {{{kindex(C-c C-x C-e)}}}
    <p>Update the effort estimate for the current clock task.</p>
  </dd>
  <dt>{{{kbd(C-c C-c)}}} {{{kbd(C-c C-y)}}}, <code>org-evaluate-time-range</code></dt><dd>
    {{{kindex(C-c C-c)}}}
    {{{kindex(C-c C-y)}}}
    {{{kindex(C-c C-c)}}}
    <p>Recompute the time interval after changing one of the timestamps. This
      is only necessary if you edit the timestamps directly. If you change
      them with {{{kbdkey(S-,cursor)}}} keys, the update is automatic.</p>
  </dd>
  <dt>{{{kbdkey(C-S-,up)}}} {{{kbdkey(C-S-,down)}}}, <code>org-clock-timestamps-up/down</code></dt><dd>
    {{{kindex(C-S-@key{up/down})}}}
    <p>On <code>CLOCK</code> log lines, increase/decrease both timestamps so that the
      clock duration keeps the same.</p>
  </dd>
  <dt>{{{kbdkey(S-M-,up)}}} {{{kbdkey(S-M-,down)}}}, <code>org-timestamp-up/down</code></dt><dd>
    {{{kindex(S-M-@key{up/down})}}}
    <p>On <code>CLOCK</code> log lines, increase/decrease the timestamp at point and the
      one of the previous (or the next clock) timestamp by the same
      duration. For example, if you hit {{{kbdkey(S-M-,up)}}} to increase a
      clocked-out timestamp by five minutes, then the clocked-in timestamp
      of the next clock will be increased by five minutes.</p>
  </dd>
  <dt>{{{kbd(C-c C-t)}}}, <code>org-todo</code></dt><dd>
    {{{kindex(C-c C-t)}}}
    <p>Changing the TODO state of an item to DONE automatically stops the
      clock if it is running in this same item.</p>
  </dd>
  <dt>{{{kbd(C-c C-x C-q)}}}, <code>org-clock-cancel</code></dt><dd>
    {{{kindex(C-c C-x C-q)}}}
    <p>Cancel the current clock. This is useful if a clock was started by
      mistake, or if you ended up working on something else.</p>
  </dd>
  <dt>{{{kbd(C-c C-x C-j)}}}, <code>org-clock-goto</code></dt><dd>
    {{{kindex(C-c C-x C-j)}}}
    <p>Jump to the headline of the currently clocked in task. With a
      {{{kbd(C-u)}}} prefix arg, select the target task from a list of
      recently clocked tasks.</p>
  </dd>
  <dt>{{{kbd(C-c C-x C-d)}}}, <code>org-clock-display</code></dt><dd>
    {{{kindex(C-c C-x C-d)}}}
    {{{vindex(org-remove-highlights-with-change)}}}
    <p>Display time summaries for each subtree in the current buffer. This
      puts overlays at the end of each headline, showing the total time
      recorded under that heading, including the time of any subheadings.
      You can use visibility cycling to study the tree, but the overlays
      disappear when you change the buffer (see variable
      <code>org-remove-highlights-with-change</code>) or press {{{kbd(C-c C-c)}}}.</p>
  </dd>
</dl>
<p>The {{{kbd(l)}}} key may be used in the timeline (see @&lt;a href=&#8221;Timeline for a
  single file&#8221;&gt;Timeline for a
  single file</a>) and in the agenda (see <a href="Weekly/daily agenda">Weekly/daily agenda</a>) to show which
  tasks have been worked on or closed during a day.</p>
<p><b>Important:</b> note that both <code>org-clock-out</code> and <code>org-clock-in-last</code>
  can have a global keybinding and will not modify the window
  disposition.</p>
<h3><span class="heading-number heading-number-3">8.4.2</span> The clock table</h3>{{{cindex(clocktable&#92;\, dynamic block)}}}
  {{{cindex(report&#92;\, of clocked time)}}}
<p>Org mode can produce quite complex reports based on the time clocking
  information.  Such a report is called a <i>clock table</i>, because it is
  formatted as one or several Org tables.</p>
<dl>
  <dt>{{{kbd(C-c C-x C-r)}}}, <code>org-clock-report</code></dt><dd>
    {{{kindex(C-c C-x C-r)}}}
    <p>Insert a dynamic block (see <a href="Dynamic blocks">Dynamic blocks</a>) containing a clock report
      as an Org mode table into the current file. When the cursor is at an
      existing clock table, just update it. When called with a prefix
      argument, jump to the first clock report in the current document and
      update it. The clock table always includes also trees with <code>:ARCHIVE:</code>
      tag.</p>
  </dd>
  <dt>{{{kbd(C-c C-c)}}} {{{kbd(C-c C-x C-u)}}}, <code>org-dblock-update</code></dt><dd>
    {{{kindex(C-c C-c)}}}
    <p>Update dynamic block at point.  The cursor needs to be in the
      <code>#+BEGIN</code> line of the dynamic block.</p>
  </dd>
  <dt>{{{kbd(C-u C-c C-x C-u)}}}</dt><dd>
    {{{kindex(C-u C-c C-x C-u)}}}
    <p>Update all dynamic blocks (see <a href="Dynamic blocks">Dynamic blocks</a>). This is useful if you
      have several clock table blocks in a buffer.</p>
  </dd>
  <dt>{{{kbdkey(S-,left)}}} {{{kbdkey(S-,right)}}}, <code>org-clocktable-try-shift</code></dt><dd>
    <p>Shift the current <code>:block</code> interval and update the table. The cursor
      needs to be in the <code>#+BEGIN: clocktable</code> line for this command. If
      <code>:block</code> is <code>today</code>, it will be shifted to <code>today-1</code> etc.</p>
  </dd>
</dl>
<p>Here is an example of the frame for a clock table as it is inserted
  into the buffer with the {{{kbd(C-c C-x C-r)}}} command:</p>
<p>{{{cindex(#+BEGIN&#92;\, clocktable)}}}</p>
<pre class="example">
,#+BEGIN: clocktable :maxlevel 2 :emphasize nil :scope file
,#+END: clocktable
</pre>
<p>{{{noindent}}}
  {{{vindex(org-clocktable-defaults)}}}
  The {{{samp(BEGIN)}}} line and specify a number of options to define the scope,
  structure, and formatting of the report.  Defaults for all these options can
  be configured in the variable <code>org-clocktable-defaults</code>.</p>
<p>{{{noindent}}} First there are options that determine which clock entries are to
  be selected:</p>
<dl>
  <dt>:maxlevel</dt><dd>
    <p>Maximum level depth to which times are listed in the table. Clocks at
      deeper levels will be summed into the upper level.</p>
  </dd>
  <dt>:scope</dt><dd>
    <p>The scope to consider.  This can be any of the following:</p>
    <dl>
      <dt>nil</dt><dd>the current buffer or narrowed region</dd>
      <dt>file</dt><dd>the full current buffer</dd>
      <dt>subtree</dt><dd>the subtree where the clocktable is located</dd>
      <dt>tree {{{var(N)}}}</dt><dd>the surrounding level {{{var(N)}}} tree, for example <code>tree3</code></dd>
      <dt>tree</dt><dd>the surrounding level 1 tree</dd>
      <dt>agenda</dt><dd>all agenda files</dd>
      <dt>(&#8220;file&#8221;..)</dt><dd>scan these files</dd>
      <dt>file-with-archives</dt><dd>current file and its archives</dd>
      <dt>agenda-with-archives</dt><dd>all agenda files, including archives</dd>
    </dl>
  </dd>
  <dt>:block</dt><dd>
    <p>The time block to consider. This block is specified either absolute,
      or relative to the current time and may be any of these formats:</p>
    <dl>
      <dt>2007-12-31</dt><dd>New year eve 2007</dd>
      <dt>2007-12</dt><dd>December 2007</dd>
      <dt>2007-W50</dt><dd>ISO-week 50 in 2007</dd>
      <dt>2007-Q2</dt><dd>2nd quarter in 2007</dd>
      <dt>2007</dt><dd>the year 2007</dd>
      <dt>today, yesterday, today-{{{var(N)}}}</dt><dd>a relative day</dd>
      <dt>thisweek, lastweek, thisweek-{{{var(N)}}}</dt><dd>a relative week</dd>
      <dt>thismonth, lastmonth, thismonth-{{{var(N)}}}</dt><dd>a relative month</dd>
      <dt>thisyear, lastyear, thisyear-{{{var(N)}}}</dt><dd>a relative year</dd>
    </dl>
    <p>Use {{{kbdkey(S-,left)}}} or {{{kbdkey(S-,right)}}} to shift the
      time interval.</p>
  </dd>
  <dt>:tstart</dt><dd>
    <p>A time string specifying when to start considering times.</p>
  </dd>
  <dt>:tend</dt><dd>
    <p>A time string specifying when to stop considering times.</p>
  </dd>
  <dt>:step</dt><dd>
    <p>Set to <code>week</code> or <code>day</code> to split the table into chunks. To use this,
      <code>:block</code> or <code>:tstart</code>, <code>:tend</code> are needed.</p>
  </dd>
  <dt>:stepskip0</dt><dd>
    <p>Do not show steps that have zero time.</p>
  </dd>
  <dt>:fileskip0</dt><dd>
    <p>Do not show table sections from files which did not contribute.</p>
  </dd>
  <dt>:tags</dt><dd>
    <p>A tags match to select entries that should contribute. See @&lt;a href=&#8221;Matching
      tags and properties&#8221;&gt;Matching
      tags and properties</a> for the match syntax.</p>
  </dd>
</dl>
<p>Then there are options which determine the formatting of the table.  There
  options are interpreted by the function <code>org-clocktable-write-default</code>,
  but you can specify your own function using the <code>:formatter</code> parameter.</p>
<dl>
  <dt>:emphasize</dt><dd>
    <p>When <code>t</code>, emphasize level one and level two items.</p>
  </dd>
  <dt>:lang</dt><dd>
    <p>Language to use for descriptive cells like &#8220;Task&#8221;.<sup><a class="footref" name="fnr.77" href="#fn.77">77</a></sup></p>
  </dd>
  <dt>:link</dt><dd>
    <p>Link the item headlines in the table to their origins.</p>
  </dd>
  <dt>:narrow</dt><dd>
    <p>An integer to limit the width of the headline column in the org table.
      If you write it like {{{samp(50!)}}}, then the headline will also be
      shortened in export.</p>
  </dd>
  <dt>:indent</dt><dd>
    <p>Indent each headline field according to its level.</p>
  </dd>
  <dt>:tcolumns</dt><dd>
    <p>Number of columns to be used for times. If this is smaller than
      <code>:maxlevel</code>, lower levels will be lumped into one column.</p>
  </dd>
  <dt>:level</dt><dd>
    <p>Should a level number column be included?</p>
  </dd>
  <dt>:compact</dt><dd>
    <p>Abbreviation for <code>:level nil :indent t :narrow 40! :tcolumns 1</code>. All
      are overwritten except if there is an explicit <code>:narrow</code>.</p>
  </dd>
  <dt>:timestamp</dt><dd>
    <p>A timestamp for the entry, when available. Look for SCHEDULED,
      DEADLINE, TIMESTAMP and TIMESTAMP_IA, in this order.</p>
  </dd>
  <dt>:properties</dt><dd>
    <p>List of properties that should be shown in the table. Each property
      will get its own column.</p>
  </dd>
  <dt>:inherit-props</dt><dd>
    <p>When this flag is <code>t</code>, the values for <code>:properties</code> will be inherited.</p>
  </dd>
  <dt>:formula</dt><dd>
    <p>Content of a <code>#+TBLFM</code> line to be added and evaluated. As a special
      case, {{{samp(:formula %)}}} adds a column with % time. If you do not
      specify a formula here, any existing formula below the clock table
      will survive updates and be evaluated.</p>
  </dd>
  <dt>:formatter</dt><dd>
    <p>A function to format clock data and insert it into the buffer.</p>
  </dd>
</dl>
<p>To get a clock summary of the current level 1 tree, for the current
  day, you could write:</p>
<pre class="example">
,#+BEGIN: clocktable :maxlevel 2 :block today :scope tree1 :link t
,#+END: clocktable
</pre>
<p>{{{noindent}}} To use a specific time range you could write:<sup><a class="footref" name="fnr.78" href="#fn.78">78</a></sup></p>
<pre class="example">
,#+BEGIN: clocktable :tstart &quot;&lt;2006-08-10 Thu 10:00&gt;&quot;
                    :tend &quot;&lt;2006-08-10 Thu 12:00&gt;&quot;
,#+END: clocktable
</pre>
<p>A summary of the current subtree with % times would be:</p>
<pre class="example">
,#+BEGIN: clocktable :scope subtree :link t :formula %
,#+END: clocktable
</pre>
<p>A horizontally compact representation of everything clocked during
  last week would be:</p>
<pre class="example">
,#+BEGIN: clocktable :scope agenda :block lastweek :compact t
,#+END: clocktable
</pre>
<h3><span class="heading-number heading-number-3">8.4.3</span> Resolving idle time</h3>
<p>{{{cindex(resolve idle time)}}}
  {{{cindex(idle&#92;\, resolve&#92;\, dangling)}}}</p>
<p>If you clock in on a work item, and then walk away from your
  computer&#8212;perhaps to take a phone call&#8212;you often need to
  &#8220;resolve&#8221; the time you were away by either subtracting it from the
  current clock, or applying it to another one.</p>
<p>{{{vindex(org-clock-idle-time)}}}</p>
<p>By customizing the variable <code>org-clock-idle-time</code> to some integer,
  such as 10 or 15, Emacs can alert you when you get back to your
  computer after being idle for that many minutes, and ask what you want
  to do with the idle time.<sup><a class="footref" name="fnr.79" href="#fn.79">79</a></sup> There will be a question waiting for you
  when you get back, indicating how much idle time has passed
  (constantly updated with the current amount), as well as a set of
  choices to correct the discrepancy:</p>
<dl>
  <dt>{{{kbd(k)}}}</dt><dd>
    {{{kindex(k)}}}
    <p>To keep some or all of the minutes and stay clocked in, press
      {{{kbd(k)}}}. Org will ask how many of the minutes to keep. Press
      {{{key(RET)}}} to keep them all, effectively changing nothing, or
      enter a number to keep that many minutes.</p>
  </dd>
  <dt>{{{kbd(K)}}}</dt><dd>
    {{{kindex(K)}}}
    <p>If you use the shift key and press {{{kbd(K)}}}, it will keep however
      many minutes you request and then immediately clock out of that task.
      If you keep all of the minutes, this is the same as just clocking out
      of the current task.</p>
  </dd>
  <dt>{{{kbd(s)}}}</dt><dd>
    {{{kindex(s)}}}
    <p>To keep none of the minutes, use {{{kbd(s)}}} to subtract all the away
      time from the clock, and then check back in from the moment you
      returned.</p>
  </dd>
  <dt>{{{kbd(S)}}}</dt><dd>
    {{{kindex(S)}}}
    <p>To keep none of the minutes and just clock out at the start of the
      away time, use the shift key and press {{{kbd(S)}}}. Remember that
      using shift will always leave you clocked out, no matter which option
      you choose.</p>
  </dd>
  <dt>{{{kbd(C)}}}</dt><dd>
    {{{kindex(C)}}}
    <p>To cancel the clock altogether, use {{{kbd(C)}}}. Note that if instead
      of canceling you subtract the away time, and the resulting clock
      amount is less than a minute, the clock will still be canceled rather
      than clutter up the log with an empty entry.</p>
  </dd>
</dl>
<p>What if you subtracted those away minutes from the current clock, and
  now want to apply them to a new clock? Simply clock in to any task
  immediately after the subtraction. Org will notice that you have
  subtracted time &#8220;on the books&#8221;, so to speak, and will ask if you
  want to apply those minutes to the next task you clock in on.</p>
<p>There is one other instance when this clock resolution magic occurs.
  Say you were clocked in and hacking away, and suddenly your cat chased
  a mouse who scared a hamster that crashed into your UPS&#8217;s power
  button! You suddenly lose all your buffers, but thanks to auto-save
  you still have your recent Org mode changes, including your last clock
  in.</p>
<p>If you restart Emacs and clock into any task, Org will notice that you
  have a dangling clock which was never clocked out from your last
  session. Using that clock&#8217;s starting time as the beginning of the
  unaccounted-for period, Org will ask how you want to resolve that
  time. The logic and behavior is identical to dealing with away time
  due to idleness; it is just happening due to a recovery event rather
  than a set amount of idle time.</p>
<p>You can also check all the files visited by your Org agenda for
  dangling clocks at any time using {{{kbd(M-x org-resolve-clocks RET)}}}
  (or {{{kbd(C-c C-x C-z)}}}).</p>
<h3><span class="heading-number heading-number-3">8.4.4</span> Continuous clocking</h3>
<p>{{{cindex(continuous clocking)}}}
  {{{vindex(org-clock-continuously)}}}</p>
<p>You may want to start clocking from the time when you clocked out the
  previous task. To enable this systematically, set
  <code>org-clock-continuously</code> to <code>t</code>. Each time you clock in, Org retrieves
  the clock-out time of the last clocked entry for this session, and
  start the new clock from there.</p>
<p>If you only want this from time to time, use three universal prefix
  arguments with <code>org-clock-in</code> and two {{{kbd(C-u C-u)}}} with
  <code>org-clock-in-last</code>.</p>
<h2><span class="heading-number heading-number-2">8.5</span> Effort estimates</h2>{{{cindex(effort estimates)}}}
  {{{cindex(property&#92;\, Effort)}}}
  {{{vindex(org-effort-property)}}}
<p>If you want to plan your work in a very detailed way, or if you need
  to produce offers with quotations of the estimated work effort, you
  may want to assign effort estimates to entries. If you are also
  clocking your work, you may later want to compare the planned effort
  with the actual working time, a great way to improve planning
  estimates. Effort estimates are stored in a special property
  {{{samp(Effort)}}}.<sup><a class="footref" name="fnr.80" href="#fn.80">80</a></sup> You can set the effort for an entry with
  the following commands:</p>
<dl>
  <dt>{{{kbd(C-c C-x e)}}}, <code>org-set-effort</code></dt><dd>
    {{{kindex(C-c C-x e)}}}
    <p>Set the effort estimate for the current entry. With a numeric prefix
      argument, set it to the Nth allowed value (see below). This command is
      also accessible from the agenda with the {{{kbd(e)}}} key.</p>
  </dd>
  <dt>{{{kbd(C-c C-x C-e)}}}, <code>org-clock-modify-effort-estimate</code></dt><dd>
    {{{kindex(C-c C-x C-e)}}}
    <p>Modify the effort estimate of the item currently being clocked.</p>
  </dd>
</dl>
<p>Clearly the best way to work with effort estimates is through column
  view (see <a href="Column view">Column view</a>). You should start by setting up discrete values
  for effort estimates, and a <code>COLUMNS</code> format that displays these
  values together with clock sums (if you want to clock your time). For
  a specific buffer you can use:</p>
<pre class="example">
,#+PROPERTY: Effort_ALL 0 0:10 0:30 1:00 2:00 3:00 4:00 5:00 6:00 7:00
,#+COLUMNS: %40ITEM(Task) %17Effort(Estimated Effort){:} %CLOCKSUM
</pre>
<p>{{{vindex(org-global-properties)}}}
  {{{vindex(org-columns-default-format)}}}</p>
<p>{{{noindent}}} or, even better, you can set up these values globally
  by customizing the variables <code>org-global-properties</code> and
  <code>org-columns-default-format</code>. In particular if you want to use this
  setup also in the agenda, a global setup may be advised.</p>
<p>The way to assign estimates to individual items is then to switch to
  column mode, and to use {{{kbdkey(S-,right)}}} and
  {{{kbdkey(S-,left)}}} to change the value. The values you enter will
  immediately be summed up in the hierarchy. In the column next to it,
  any clocked time will be displayed.</p>
<p>{{{vindex(org-agenda-columns-add-appointments-to-effort-sum)}}}</p>
<p>If you switch to column view in the daily/weekly agenda, the effort column
  will summarize the estimated work effort for each day, and you can use this to find space in your schedule.  To get
  an overview of the entire part of the day that is committed, you can set the
  option <code>org-agenda-columns-add-appointments-to-effort-sum</code>.<sup><a class="footref" name="fnr.179" href="#fn.179">179</a></sup> The
  appointments on a day that take place over a specified time interval will
  then also be added to the load estimate of the day.</p>
<p>Effort estimates can be used in secondary agenda filtering that is
  triggered with the {{{kbd(/)}}} key in the agenda (see @&lt;a href=&#8221;Agenda
  commands&#8221;&gt;Agenda
  commands</a>). If you have these estimates defined consistently, two or
  three key presses will narrow down the list to stuff that fits into an
  available time slot.</p>
<h2><span class="heading-number heading-number-2">8.6</span> Relative timer</h2>{{{cindex(relative timer)}}}
<p>When taking notes during, for example, a meeting or a video viewing, it can
  be useful to have access to times relative to a starting time.  Org provides
  such a relative timer and make it easy to create timed notes.</p>
<dl>
  <dt>{{{kbd(C-c C-x .)}}}, <code>org-timer</code></dt><dd>
    {{{kindex(C-c C-x .)}}}
    <p>Insert a relative time into the buffer.  The first time you use this, the
      timer will be started.  When called with a prefix argument, the timer is
      restarted.</p>
  </dd>
  <dt>{{{kbd(C-c C-x -)}}}, <code>org-timer-item</code></dt><dd>
    {{{kindex(C-c C-x -)}}}
    <p>Insert a description list item with the current relative time.  With a prefix
      argument, first reset the timer to 0.</p>
  </dd>
  <dt>{{{kbdkey(M-,RET)}}}, <code>org-insert-heading</code></dt><dd>
    {{{kindex(M-@key{RET})}}}
    <p>Once the timer list is started, you can also use {{{kbdkey(M-,RET)}}}
      to insert new timer items.</p>
  </dd>
  <dt>{{{kbd(C-c C-x ,)}}}</dt><dd>
    {{{kindex(C-c C-x ,)}}}
    {{{kindex(C-c C-x ,)}}}
    <p>Pause the timer, or continue it if it is already paused
      ({{{command(org-timer-pause-or-continue)}}}).</p>
  </dd>
  <dt>{{{kbd(C-u C-c C-x ,)}}}</dt><dd>
    {{{kindex(C-u C-c C-x ,)}}}
    {{{kindex(C-u C-c C-x ,)}}}
    <p>Stop the timer. After this, you can only start a new timer, not
      continue the old one. This command also removes the timer from the
      mode line.</p>
  </dd>
  <dt>{{{kbd(C-c C-x 0)}}}, <code>org-timer-start</code></dt><dd>
    {{{kindex(C-c C-x 0)}}}
    <p>Reset the timer without inserting anything into the buffer. By
      default, the timer is reset to 0. When called with a {{{kbd(C-u)}}}
      prefix, reset the timer to specific starting offset. The user is
      prompted for the offset, with a default taken from a timer string at
      point, if any, So this can be used to restart taking notes after a
      break in the process. When called with a double prefix argument
      {{{kbd(C-u C-u)}}}, change all timer strings in the active region by a
      certain amount. This can be used to fix timer strings if the timer was
      not started at exactly the right moment.</p>
  </dd>
</dl>
<h2><span class="heading-number heading-number-2">8.7</span> Countdown timer</h2>{{{cindex(Countdown timer)}}}
  {{{kindex(C-c C-x ;)}}}
  {{{kindex(;)}}}
<p>Calling <code>org-timer-set-timer</code> from an Org mode buffer runs a countdown
  timer. Use {{{kbd(;)}}} from agenda buffers, {{{key(C-c C-x ;)}}}
  everywhere else.</p>
<p><code>org-timer-set-timer</code> prompts the user for a duration and displays a
  countdown timer in the modeline.  <code>org-timer-default-timer</code> sets the
  default countdown value.  Giving a prefix numeric argument overrides this
  default value.</p>
<h1><span class="heading-number heading-number-1">9</span> Capture - Refile - Archive</h1>{{{cindex(capture)}}}
<p>An important part of any organization system is the ability to quickly
  capture new ideas and tasks, and to associate reference material with
  them. Org does this using a process called <i>capture</i>. It also can
  store files related to a task (<i>attachments</i>) in a special directory.
  Once in the system, tasks and projects need to be moved around. Moving
  completed project trees to an archive file keeps the system compact
  and fast.</p>
<h2><span class="heading-number heading-number-2">9.1</span> Capture</h2>{{{cindex(capture)}}}
<p>Org&#8217;s method for capturing new items is heavily inspired by John
  Wiegley excellent remember package. Up to version 6.36 Org used a
  special setup for {{{file(remember.el)}}}.  The file {{{file(org-remember.el)}}}
  is still part of Org mode for backward compatibility with existing
  setups. You can find the documentation for org-remember at
  <a href="http://orgmode.org/org-remember.pdf">http://orgmode.org/org-remember.pdf</a>.</p>
<p>The new capturing setup described here is preferred and should be used by new
  users.  To convert your <code>org-remember-templates</code>, run the following command:
  {{{kbdspckey(M-x org-capture-import-remember-templates,RET)}}}</p>
<p>{{{noindent}}} and then customize the new variable with
  {{{kbd(M-x customize-variable org-capture-templates)}}}, check the result, and
  save the customization. You can then use both remember and capture
  until you are familiar with the new mechanism.</p>
<p>Capture lets you quickly store notes with little interruption of your work
  flow.  The basic process of capturing is very similar to remember, but Org
  does enhance it with templates and more.</p>
<h3><span class="heading-number heading-number-3">9.1.1</span> Setting up capture</h3>
<p>The following customization sets a default target file for notes, and defines
  a global key for capturing new material.<sup><a class="footref" name="fnr.81" href="#fn.81">81</a></sup></p>
<p>{{{vindex(org-default-notes-file)}}}</p>
<pre class="src src-emacs-lisp">
(setq org-default-notes-file (concat org-directory &quot;/notes.org&quot;))
(define-key global-map &quot;\C-cc&quot; 'org-capture)
</pre>
<h3><span class="heading-number heading-number-3">9.1.2</span> Using capture</h3>
<dl>
  <dt>{{{kbd(C-c c)}}}, <code>org-capture</code></dt><dd>
    {{{kindex(C-c c)}}}
    {{{cindex(date tree)}}}
    <p>Call the command <code>org-capture</code>. Note that this keybinding is global
      and not active by default - you need to install it. If you have
      templates defined (see <a href="Capture templates">Capture templates</a>, it will offer these
      templates for selection or use a new Org outline node as the default
      template. It will insert the template into the target file and switch
      to an indirect buffer narrowed to this new node. You may then insert
      the information you want.</p>
  </dd>
  <dt>{{{kbd(C-c C-c)}}}, <code>org-capture-finalize</code></dt><dd>
    {{{kindex(C-c C-c)}}}
    <p>Once you have finished entering information into the capture buffer,
      {{{kbd(C-c C-c)}}} will return you to the window configuration before
      the capture process, so that you can resume your work without further
      distraction. When called with a prefix argument, finalize and then
      jump to the captured item.</p>
  </dd>
  <dt>{{{kbd(C-c C-w)}}}, <code>org-capture-refile</code></dt><dd>
    {{{kindex(C-c C-w)}}}
    <p>Finalize the capture process by refiling the note to a different place
      (see <a href="Refile and copy">Refile and copy</a>). Please realize that this is a normal refiling
      command that will be executed&#8212;so the cursor position at the moment
      you run this command is important. If you have inserted a tree with a
      parent and children, first move the cursor back to the parent. Any
      prefix argument given to this command will be passed on to the
      <code>org-refile</code> command.</p>
  </dd>
  <dt>{{{kbd(C-c C-k)}}}, <code>org-capture-kill</code></dt><dd>
    {{{kindex(C-c C-k)}}}
    <p>Abort the capture process and return to the previous state.</p>
  </dd>
</dl>
<p>You can also call <code>org-capture</code> in a special way from the agenda,
  using the {{{kbd(k c)}}} key combination. With this access, timestamps
  inserted by the selected capture template will default to the cursor
  date in the agenda, rather than to the current date.</p>
<p>To find the locations of the last stored capture, use <code>org-capture</code> with
  prefix commands:</p>
<dl>
  <dt>{{{kbd(C-u C-c c)}}}</dt><dd>
    {{{kindex(C-u C-c c)}}}
    <p>Visit the target location of a capture template. You get to select the
      template in the usual way.</p>
  </dd>
  <dt>{{{kbd(C-u C-u C-c c)}}}</dt><dd>
    {{{kindex(C-u C-u C-c c)}}}
    <p>Visit the last stored capture item in its buffer.</p>
  </dd>
</dl>
<p>{{{vindex(org-capture-bookmark)}}}
  {{{cindex(org-capture-last-stored)}}}</p>
<p>You can also jump to the bookmark <code>org-capture-last-stored</code>, which
  will automatically be created unless you set <code>org-capture-bookmark</code> to
  <code>nil</code>.</p>
<p>To insert the capture at point in an Org buffer, call <code>org-capture</code>
  with a <code>C-0</code> prefix argument.</p>
<h3><span class="heading-number heading-number-3">9.1.3</span> Capture templates</h3>{{{cindex(templates&#92;\, for Capture)}}}
<p>You can use templates for different types of capture items, and for
  different target locations. The easiest way to create such templates
  is through the customize interface.</p>
<dl>
  <dt>{{{kbd(C-c c C)}}}</dt><dd>
    {{{kindex(C-c c C)}}}
    <p>Customize the variable <code>org-capture-templates</code>.</p>
  </dd>
</dl>
<p>Before we give the formal description of template definitions, let&#8217;s
  look at an example. Say you would like to use one template to create
  general TODO entries, and you want to put these entries under the
  heading {{{samp(Tasks)}}} in your file {{{file(~/org/gtd.org)}}}.
  Also, a date tree in the file {{{file(journal.org)}}} should capture
  journal entries. A possible configuration would look like:</p>
<pre class="src src-emacs-lisp">
(setq org-capture-templates
 '((&quot;t&quot; &quot;Todo&quot; entry (file+headline &quot;~/org/gtd.org&quot; &quot;Tasks&quot;)
        &quot;* TODO %?\n  %i\n  %a&quot;)
   (&quot;j&quot; &quot;Journal&quot; entry (file+datetree &quot;~/org/journal.org&quot;)
        &quot;* %?\nEntered on %U\n  %i\n  %a&quot;)))
</pre>
<p>{{{noindent}}} If you then press {{{kbd(C-c c t)}}}, Org will prepare
  the template for you like this:</p>
<pre class="example">
,* TODO
  [[file:link to where you initiated capture]]
</pre>
<p>{{{noindent}}} During expansion of the template, <code>%a</code> has been
  replaced by a link to the location from where you called the capture
  command. This can be extremely useful for deriving tasks from emails,
  for example. You fill in the task definition, press <code>C-c C-c</code> and Org
  returns you to the same place where you started the capture process.</p>
<p>To define special keys to capture to a particular template without
  going through the interactive template selection, you can create your
  key binding like this:</p>
<pre class="src src-emacs-lisp">
(define-key global-map &quot;\C-cx&quot;
   (lambda () (interactive) (org-capture nil &quot;x&quot;)))
</pre>
<h4><span class="heading-number heading-number-4">9.1.3.1</span> Template elements</h4>
<p>Now lets look at the elements of a template definition.  Each entry in
  <code>org-capture-templates</code> is a list with the following items:</p>
<dl>
  <dt><code>keys</code></dt><dd>
    <p>The keys that will select the template, as a string, characters
      only, for example &#8220;a&#8221; for a template to be selected with a
      single key, or &#8220;BTW&#8221; for selection with two keys.  When using
      several keys, keys using the same prefix key must be sequential
      in the list and preceded by a 2-element entry explaining the
      prefix key, for example:</p>
    <pre class="src src-emacs-lisp">
(&quot;b&quot; &quot;Templates for marking stuff to buy&quot;)
    </pre>
    <p>{{{noindent}}} If you do not define a template for the {{{kbd(C)}}}
      key, this key will be used to open the customize buffer for this
      complex variable.</p>
  </dd>
  <dt><code>description</code></dt><dd>
    <p>A short string describing the template, which will be shown during
      selection.</p>
  </dd>
  <dt><code>type</code></dt><dd>
    <p>The type of entry, a symbol.  Valid values are:</p>
    <dl>
      <dt><code>entry</code></dt><dd>
        <p>An Org mode node, with a headline. Will be filed as the child of the
          target entry or as a top-level entry. The target file should be an Org
          mode file.</p>
      </dd>
      <dt><code>item</code></dt><dd>
        <p>A plain list item, placed in the first plain list at the target
          location. Again the target file should be an Org file.</p>
      </dd>
      <dt><code>checkitem</code></dt><dd>
        <p>A checkbox item. This only differs from the plain list item by the
          default template.</p>
      </dd>
      <dt><code>table-line</code></dt><dd>
        <p>A new line in the first table at the target location. Where exactly
          the line will be inserted depends on the properties <code>:prepend</code> and
          <code>:table-line-pos</code> (see below).</p>
      </dd>
      <dt>plain</dt><dd>
        <p>Text to be inserted as it is.</p>
      </dd>
    </dl>
  </dd>
  <dt>target</dt><dd>
    {{{vindex(org-default-notes-file)}}}
    <p>Specification of where the captured item should be placed.  In Org mode
      files, targets usually define a node.  Entries will become children of this
      node.  Other types will be added to the table or list in the body of this
      node.  Most target specifications contain a file name.  If that file name is
      the empty string, it defaults to <code>org-default-notes-file</code>.  A file can
      also be given as a variable, function, or Emacs Lisp form.</p>
    <p>Valid values are:</p>
    <dl>
      <dt><code>(file &quot;path/to/file&quot;)</code></dt><dd>
        <p>Text will be placed at the beginning or end of that file.</p>
      </dd>
      <dt><code>(id &quot;id of existing org entry&quot;)</code></dt><dd>
        <p>Filing as child of this entry, or in the body of the entry.</p>
      </dd>
      <dt><code>(file+headline &quot;path/to/file&quot; &quot;node headline&quot;)</code></dt><dd>
        <p>Fast configuration if the target heading is unique in the file.</p>
      </dd>
      <dt><code>(file+olp &quot;path/to/file&quot; &quot;Level 1 heading&quot; &quot;Level 2&quot; ...)</code></dt><dd>
        <p>For non-unique headings, the full path is safer.</p>
      </dd>
      <dt><code>(file+regexp  &quot;path/to/file&quot; &quot;regexp to find location&quot;)</code></dt><dd>
        <p>Use a regular expression to position the cursor.</p>
      </dd>
      <dt><code>(file+datetree &quot;path/to/file&quot;)</code></dt><dd>
        <p>Will create a heading in a date tree for today&#8217;s date.</p>
      </dd>
      <dt><code>(file+datetree+prompt &quot;path/to/file&quot;)</code></dt><dd>
        <p>Will create a heading in a date tree, but will prompt for the date.</p>
      </dd>
      <dt><code>(file+function &quot;path/to/file&quot; function-finding-location)</code></dt><dd>
        <p>A function to find the right location in the file.</p>
      </dd>
      <dt><code>(clock)</code></dt><dd>
        <p>File to the entry that is currently being clocked.</p>
      </dd>
      <dt><code>(function function-finding-location)</code></dt><dd>
        <p>Most general way, write your own function to find both
          file and location.</p>
      </dd>
    </dl>
  </dd>
  <dt><code>template</code></dt><dd>
    <p>The template for creating the capture item. If you leave this empty,
      an appropriate default template will be used. Otherwise this is a
      string with escape codes, which will be replaced depending on time and
      context of the capture call. The string with escapes may be loaded
      from a template file, using the special syntax
      <code>(file &quot;path/to/template&quot;)</code>. See below for more details.</p>
  </dd>
  <dt><code>properties</code></dt><dd>
    <p>The rest of the entry is a property list of additional options.
      Recognized properties are:</p>
    <dl>
      <dt><code>:prepend</code></dt><dd>
        <p>Normally new captured information will be appended at the target
          location (last child, last table line, last list item, &#8230;). Setting
          this property will change that.</p>
      </dd>
      <dt><code>:immediate-finish</code></dt><dd>
        <p>When set, do not offer to edit the information, just file it away
          immediately. This makes sense if the template only needs information
          that can be added automatically.</p>
      </dd>
      <dt><code>:empty-lines</code></dt><dd>
        <p>Set this to the number of lines to insert before and after the new
          item. The default is 0, and the only other common value is 1.</p>
      </dd>
      <dt><code>:clock-in</code></dt><dd>
        <p>Start the clock in this item.</p>
      </dd>
      <dt><code>:clock-keep</code></dt><dd>
        <p>Keep the clock running when filing the captured entry.</p>
      </dd>
      <dt><code>:clock-resume</code></dt><dd>
        <p>If starting the capture interrupted a clock, restart that clock when
          finished with the capture. Note that <code>:clock-keep</code> has precedence over
          <code>:clock-resume</code>. When setting both to <code>t</code>, the current clock will run
          and the previous one will not be resumed.</p>
      </dd>
      <dt><code>:unnarrowed</code></dt><dd>
        <p>Do not narrow the target buffer, simply show the full buffer. Default
          is to narrow it so that you only see the new material.</p>
      </dd>
      <dt><code>:table-line-pos</code></dt><dd>
        <p>Specification of the location in the table where the new line should
          be inserted. It should be a string like &#8220;II-3&#8221; meaning that the new
          line should become the third line before the second horizontal
          separator line.</p>
      </dd>
      <dt><code>:kill-buffer</code></dt><dd>
        <p>If the target file was not yet visited when capture was invoked, kill
          the buffer again after capture is completed.</p>
      </dd>
    </dl>
  </dd>
</dl>
<h4><span class="heading-number heading-number-4">9.1.3.2</span> Template expansion</h4>
<p>In the template itself, special {{{kbd(%)}}}-escapes allow dynamic
  insertion of content.<sup><a class="footref" name="fnr.82" href="#fn.82">82</a></sup> The templates are expanded in the order given
  here:</p>
<dl>
  <dt>%[{{{var(file)}}}]</dt><dd>
    <p>Insert the contents of the file given by {{{var(file)}}}.</p>
  </dd>
  <dt>%({{{var(sexp)}}})</dt><dd>
    <p>Evaluate Elisp {{{var(sexp)}}} and replace with the result. The
      {{{var(sexp)}}} must return a string.</p>
  </dd>
  <dt>%<...></dt><dd>
    <p>The result of format-time-string on the &#8230; format specification.</p>
  </dd>
  <dt>%t</dt><dd>
    <p>Timestamp, date only.</p>
  </dd>
  <dt>%T</dt><dd>
    <p>Timestamp, with date and time.</p>
  </dd>
  <dt>%u, %U</dt><dd>
    <p>Like <code>%t</code>, <code>%T</code> above, but inactive timestamps.</p>
  </dd>
  <dt>%i</dt><dd>
    <p>Initial content, the region when capture is called while the region is
      active. The entire text will be indented like <code>%i</code> itself.</p>
  </dd>
  <dt>%a</dt><dd>
    <p>Annotation, normally the link created with <code>org-store-link</code>.</p>
  </dd>
  <dt>%A</dt><dd>
    <p>Like <code>%a</code>, but prompt for the description part.</p>
  </dd>
  <dt>%l</dt><dd>
    <p>Like <code>%a</code>, but only insert the literal link.</p>
  </dd>
  <dt>%c</dt><dd>
    <p>Current kill ring head.</p>
  </dd>
  <dt>%x</dt><dd>
    <p>Content of the X clipboard.</p>
  </dd>
  <dt>%k</dt><dd>
    <p>Title of the currently clocked task.</p>
  </dd>
  <dt>%K</dt><dd>
    <p>Link to the currently clocked task.</p>
  </dd>
  <dt>%n</dt><dd>
    <p>User name (taken from <code>user-full-name</code>).</p>
  </dd>
  <dt>%f</dt><dd>
    <p>File visited by current buffer when org-capture was called.</p>
  </dd>
  <dt>%F</dt><dd>
    <p>Full path of the file or directory visited by current buffer.</p>
  </dd>
  <dt>%:keyword</dt><dd>
    <p>Specific information for certain link types, see below.</p>
  </dd>
  <dt>%^g</dt><dd>
    <p>Prompt for tags, with completion on tags in target file.</p>
  </dd>
  <dt>%^G</dt><dd>
    <p>Prompt for tags, with completion all tags in all agenda files.</p>
  </dd>
  <dt>%^t</dt><dd>
    <p>Like <code>%t</code>, but prompt for date. Similarly <code>%^T</code>, <code>%^u</code>, <code>%^U</code>. You may
      define a prompt like <code>%^{Birthday}t</code>.</p>
  </dd>
  <dt>%^C</dt><dd>
    <p>Interactive selection of which kill or clip to use.</p>
  </dd>
  <dt>%^L</dt><dd>
    <p>Like <code>%^C</code>, but insert as link.</p>
  </dd>
  <dt>%^{PROP}p</dt><dd>
    <p>Prompt the user for a value for property {{{var(prop)}}}.</p>
  </dd>
  <dt>%^{PROMPT}</dt><dd>
    <p>Prompt the user for a string and replace this sequence with it. You
      may specify a default value and a completion table with
      <code>%^{prompt|default|completion2|completion3...}</code>. The arrow keys access
      a prompt-specific history.</p>
  </dd>
  <dt>%\n</dt><dd>
    <p>Insert the text entered at the nth %^{PROMPT}, where <code>n</code> is
      a number, starting from 1.</p>
  </dd>
  <dt>%?</dt><dd>
    <p>After completing the template, position cursor here.</p>
  </dd>
</dl>
<p>{{{noindent}}} For specific link types, the following keywords will be
  defined:<sup><a class="footref" name="fnr.83" href="#fn.83">83</a></sup></p>
<p>{{{vindex(org-from-is-user-regexp)}}}</p>
<dl>
  <dt>bbdb</dt><dd><code>%:name %:company</code></dd>
  <dt>irc</dt><dd><code>%:server %:port %:nick</code></dd>
  <dt>vm vm-imap wl mh mew rmail</dt><dd>
    <code>%:type %:subject %:message-id</code>
    <code>%:from %:fromname %:fromaddress</code>
    <code>%:to %:toname %:toaddress</code>
    <code>%:date</code> (message date header field)
    <code>%:date-timestamp</code> (date as active timestamp)
    <code>%:date-timestamp-inactive</code> (date as inactive timestamp)
    <code>%:fromto</code> (either &#8220;to NAME&#8221; or &#8220;from NAME&#8221;)@<sup>@<a class="footref" name="fnr.84" href="#fn.84">84@</a>@</sup></dd>
  <dt>gnus</dt><dd><code>%:group</code>, for messages also all email fields</dd>
  <dt>w3 w3m</dt><dd><code>%:url</code></dd>
  <dt>info</dt><dd><code>%:file %:node</code></dd>
  <dt>calendar</dt><dd><code>%:date</code></dd>
</dl>
<p>{{{noindent}}} To place the cursor after template expansion use:</p>
<pre class="example">
%?          After completing the template, position cursor here.
</pre>
<h4><span class="heading-number heading-number-4">9.1.3.3</span> Templates in contexts</h4>
<p>{{{vindex(org-capture-templates-contexts)}}}</p>
<p>To control whether a capture template should be accessible from a
  specific context, you can customize <code>org-capture-templates-contexts</code>.
  Let&#8217;s say, for example, that you have a capture template &#8220;p&#8221; for
  storing Gnus emails containing patches. Then you would configure this
  option like this:</p>
<pre class="src src-emacs-lisp">
(setq org-capture-templates-contexts
      '((&quot;p&quot; (in-mode . &quot;message-mode&quot;))))
</pre>
<p>You can also tell that the command key &#8220;p&#8221; should refer to another
  template.  In that case, add this command key like this:</p>
<pre class="src src-emacs-lisp">
(setq org-capture-templates-contexts
      '((&quot;p&quot; &quot;q&quot; (in-mode . &quot;message-mode&quot;))))
</pre>
<p>See the docstring of the variable <code>org-capture-templates-contexts</code> for
  more information.</p>
<h2><span class="heading-number heading-number-2">9.2</span> Attachments</h2>{{{cindex(attachments)}}}
  {{{vindex(org-attach-directory)}}}
<p>It is often useful to associate reference material with an outline
  node/task. Small chunks of plain text can simply be stored in the
  subtree of a project. Hyperlinks (see <a href="Hyperlinks">Hyperlinks</a>) can establish
  associations with files that live elsewhere on your computer or in the
  cloud, like emails or source code files belonging to a project.
  Another method is <i>attachments</i>, which are files located in a
  directory belonging to an outline node. Org uses directories named by
  the unique ID of each entry. These directories are located in the
  {{{file(data)}}} directory which lives in the same directory where
  your Org file lives.<sup><a class="footref" name="fnr.85" href="#fn.85">85</a></sup> If you initialize this directory with
  <code>git init</code>, Org will automatically commit changes when it sees them.
  The attachment system has been contributed to Org by John Wiegley.</p>
<p>In cases where it seems better to do so, you can also attach a
  directory of your choice to an entry. You can also make children
  inherit the attachment directory from a parent, so that an entire
  subtree uses the same attached directory.</p>
<p>{{{noindent}}} The following commands deal with attachments:</p>
<dl>
  <dt>{{{kbd(C-c C-a)}}}, <code>org-attach</code></dt><dd>
    {{{kindex(C-c C-a)}}}
    <p>The dispatcher for commands related to the attachment system. After
      these keys, a list of commands is displayed and you must press an
      additional key to select a command:</p>
    <dl>
      <dt>{{{kbd(a)}}}, <code>org-attach-attach</code></dt><dd>
        {{{kindex(C-c C-a a)}}}
        {{{vindex(org-attach-method)}}}
        <p>Select a file and move it into the task&#8217;s attachment directory. The
          file will be copied, moved, or linked, depending on
          <code>org-attach-method</code>. Note that hard links are not supported on all
          systems.</p>
      </dd>
      <dt>{{{kbd(c)}}}/{{{kbd(m)}}}/{{{kbd(l)}}}</dt><dd>
        {{{kindex(C-c C-a c)}}}
        {{{kindex(C-c C-a m)}}}
        {{{kindex(C-c C-a l)}}}
        <p>Attach a file using the copy/move/link method. Note that hard links
          are not supported on all systems.</p>
      </dd>
      <dt>{{{kbd(n)}}}, <code>org-attach-new</code></dt><dd>
        {{{kindex(C-c C-a n)}}}
        <p>Create a new attachment as an Emacs buffer.</p>
      </dd>
      <dt>{{{kbd(z)}}}, <code>org-attach-sync</code></dt><dd>
        {{{kindex(C-c C-a z)}}}
        <p>Synchronize the current task with its attachment directory, in case
          you added attachments yourself.</p>
      </dd>
      <dt>{{{kbd(o)}}}, <code>org-attach-open</code></dt><dd>
        {{{kindex(C-c C-a o)}}}
        {{{vindex(org-file-apps)}}}
        <p>Open current task&#8217;s attachment. If there is more than one, prompt for
          a file name first. Opening will follow the rules set by
          <code>org-file-apps</code>. For more details, see the information on following
          hyperlinks (see <a href="Handling links">Handling links</a>).</p>
      </dd>
      <dt>{{{kbd(O)}}}, <code>org-attach-open-in-emacs</code></dt><dd>
        {{{kindex(C-c C-a O)}}}
        <p>Also open the attachment, but force opening the file in Emacs.</p>
      </dd>
      <dt>{{{kbd(f)}}}, <code>org-attach-reveal</code></dt><dd>
        {{{kindex(C-c C-a f)}}}
        <p>Open the current task&#8217;s attachment directory.</p>
      </dd>
      <dt>{{{kbd(F)}}}, <code>org-attach-reveal-in-emacs</code></dt><dd>
        {{{kindex(C-c C-a F)}}}
        <p>Also open the directory, but force using @command{dired} in Emacs.</p>
      </dd>
      <dt>{{{kbd(d)}}}, <code>org-attach-delete-one</code></dt><dd>
        {{{kindex(C-c C-a d)}}}
        <p>Select and delete a single attachment.</p>
      </dd>
      <dt>{{{kbd(D)}}}, <code>org-attach-delete-all</code></dt><dd>
        {{{kindex(C-c C-a D)}}}
        <p>Delete all of a task&#8217;s attachments. A safer way is to open the
          directory in {{{command(dired)}}} and delete from there.</p>
      </dd>
      <dt>{{{kbd(s)}}}, <code>org-attach-set-directory</code></dt><dd>
        {{{kindex(C-c C-a s)}}}
        {{{cindex(property&#92;\, ATTACH_DIR)}}}
        <p>Set a specific directory as the entry&#8217;s attachment directory. This
          works by putting the directory path into the <code>ATTACH_DIR</code> property.</p>
      </dd>
      <dt>{{{kbd(i)}}}, <code>org-attach-set-inherit</code></dt><dd>
        {{{kindex(C-c C-a i)}}}
        {{{cindex(property&#92;\, ATTACH_DIR_INHERIT)}}}
        <p>Set the <code>ATTACH_DIR_INHERIT</code> property, so that children will use the
          same directory for attachments as the parent does.</p>
      </dd>
    </dl>
  </dd>
</dl>
<h2><span class="heading-number heading-number-2">9.3</span> RSS feeds</h2>{{{cindex(RSS feeds)}}}
  {{{cindex(Atom feeds)}}}
<p>Org can add and change entries based on information found in RSS feeds and
  Atom feeds.  You could use this to make a task out of each new podcast in a
  podcast feed.  Or you could use a phone-based note-creating service on the
  web to import tasks into Org.  To access feeds, configure the variable
  <code>org-feed-alist</code>.  The docstring of this variable has detailed
  information.  Here is an example:</p>
<pre class="src src-emacs-lisp">
(setq org-feed-alist
     '((&quot;Slashdot&quot;
         &quot;http://rss.slashdot.org/Slashdot/slashdot&quot;
         &quot;~/txt/org/feeds.org&quot; &quot;Slashdot Entries&quot;)))
</pre>
<p>{{{noindent}}} will configure that new items from the feed provided by
  <code>rss.slashdot.org</code> will result in new entries in the file
  {{{file(<code>/org/feeds.org)}}} under the heading ~Slashdot Entries</code>,
  whenever the following command is used:</p>
<dl>
  <dt>{{{kbd(C-c C-x g)}}}, <code>org-feed-update-all</code></dt><dd>
    {{{kindex(C-c C-x g)}}}
    <p>Collect items from the feeds configured in <code>org-feed-alist</code> and act
      upon them.</p>
  </dd>
  <dt>{{{kbd(C-c C-x G)}}}, <code>org-feed-goto-inbox</code></dt><dd>
    {{{kindex(C-c C-x G)}}}
    <p>Prompt for a feed name and go to the inbox configured for this feed.</p>
  </dd>
</dl>
<p>Under the same headline, Org will create a drawer
  {{{samp(FEEDSTATUS)}}} in which it will store information about the
  status of items in the feed, to avoid adding the same item several
  times. You should add {{{samp(FEEDSTATUS)}}} to the list of drawers in
  that file:</p>
<pre class="example">
,#+DRAWERS: LOGBOOK PROPERTIES FEEDSTATUS
</pre>
<p>For more information, including how to read atom feeds, see
  {{{file(org-feed.el)}}} and the docstring of <code>org-feed-alist</code>.</p>
<h2><span class="heading-number heading-number-2">9.4</span> Protocols</h2>
<p>{{{cindex(protocols&#92;\, for external access)}}}
  {{{cindex(emacsserver)}}}</p>
<p>You can set up Org for handling protocol calls from outside
  applications that are passed to Emacs through the
  {{{file(emacsserver)}}}. For example, you can configure bookmarks in
  your web browser to send a link to the current page to Org and create
  a note from it using capture (see <a href="Capture">Capture</a>). Or you could create a
  bookmark that will tell Emacs to open the local source file of a
  remote website you are looking at with the browser. See
  <a href="http://orgmode.org/worg/org-contrib/org-protocol.php">http://orgmode.org/worg/org-contrib/org-protocol.php</a> for detailed
  documentation and setup instructions.</p>
<h2><span class="heading-number heading-number-2">9.5</span> Refile and copy</h2>{{{cindex(refiling notes)}}}
  {{{cindex(copying notes)}}}
<p>When reviewing the captured data, you may want to refile or to copy some of
  the entries into a different list, for example into a project.  Cutting,
  finding the right location, and then pasting the note is cumbersome.  To
  simplify this process, you can use the following special command:</p>
<dl>
  <dt>{{{kbd(C-c M-w)}}}, <code>org-copy</code></dt><dd>
    {{{kindex(C-c M-w)}}}
    {{{findex(org-copy)}}}
    <p>Copying works like refiling, except that the original note is not deleted.</p>
  </dd>
  <dt>{{{kbd(C-c C-w)}}}, <code>org-refile</code></dt><dd>
    {{{kindex(C-c C-w)}}}
    {{{findex(org-refile)}}}
    {{{vindex(org-reverse-note-order)}}}
    {{{vindex(org-refile-targets)}}}
    {{{vindex(org-refile-use-outline-path)}}}
    {{{vindex(org-outline-path-complete-in-steps)}}}
    {{{vindex(org-refile-allow-creating-parent-nodes)}}}
    {{{vindex(org-log-refile)}}}
    {{{vindex(org-refile-use-cache)}}}
    <p>Refile the entry or region at point. This command offers possible
      locations for refiling the entry and lets you select one with
      completion. The item (or all items in the region) is filed below the
      target heading as a subitem. Depending on <code>org-reverse-note-order</code>, it
      will be either the first or last subitem.</p>
    <p>By default, all level 1 headlines in the current buffer are considered
      to be targets, but you can have more complex definitions across a
      number of files. See the variable <code>org-refile-targets</code> for details. If
      you would like to select a location via a file-path-like completion
      along the outline path, see the variables
      <code>org-refile-use-outline-path</code> and
      <code>org-outline-path-complete-in-steps</code>. If you would like to be able to
      create new nodes as new parents for refiling on the fly, check the
      variable <code>org-refile-allow-creating-parent-nodes</code>. When the variable
      <code>org-log-refile</code> is set, a timestamp or a note will be recorded when
      an entry has been refiled.<sup><a class="footref" name="fnr.86" href="#fn.86">86</a></sup></p>
  </dd>
  <dt>{{{kbd(C-u C-c C-w)}}}</dt><dd>
    {{{kindex(C-u C-c C-w)}}}
    <p>Use the refile interface to jump to a heading.</p>
  </dd>
  <dt>{{{kbd(C-u C-u C-c C-w)}}}, <code>org-refile-goto-last-stored</code></dt><dd>
    {{{kindex(C-u C-u C-c C-w)}}}
    <p>Jump to the location where <code>org-refile</code> last moved a tree to.</p>
  </dd>
  <dt>{{{kbd(C-2 C-c C-w)}}}</dt><dd>
    {{{kindex(C-2 C-c C-w)}}}
    <p>Refile as the child of the item currently being clocked.</p>
  </dd>
  <dt>{{{kbd(C-0 C-c C-w)}}} or {{{kbd(C-u C-u C-u C-c C-w)}}}, <code>org-refile-cache-clear</code></dt><dd>
    {{{kindex(C-u C-u C-u C-c C-w)}}}
    {{{kindex(C-0 C-c C-w)}}}
    <p>Clear the target cache.  Caching of refile targets can be turned on by
      setting <code>org-refile-use-cache</code>.  To make the command see new possible
      targets, you have to clear the cache with this command.</p>
  </dd>
</dl>
<h2><span class="heading-number heading-number-2">9.6</span> Archiving</h2>{{{cindex(archiving)}}}
<p>When a project represented by a (sub)tree is finished, you may want to
  move the tree out of the way and to stop it from contributing to the
  agenda. Archiving is important to keep your working files compact and
  global searches like the construction of agenda views fast.</p>
<dl>
  <dt>{{{kbd(C-c C-x C-a)}}}, <code>org-archive-subtree-default</code></dt><dd>
    {{{kindex(C-c C-x C-a)}}}
    {{{vindex(org-archive-default-command)}}}
    <p>Archive the current entry using the command specified in the variable
      <code>org-archive-default-command</code>.</p>
  </dd>
</dl>
<h3><span class="heading-number heading-number-3">9.6.1</span> Moving subtrees</h3>{{{cindex(external archiving)}}}
<p>The most common archiving action is to move a project tree to another file,
  the archive file.</p>
<dl>
  <dt>{{{kbd(C-c C-x C-s)}}} or short {{{kbd(C-c $)}}}, <code>org-archive-subtree</code></dt><dd>
    {{{kindex(C-c C-x C-s)}}}
    {{{kindex(C-c $)}}}
    {{{vindex(org-archive-location)}}}
    <p>Archive the subtree starting at the cursor position to the location
      given by <code>org-archive-location</code>.</p>
  </dd>
  <dt>{{{Kbd(C-u C-c C-x C-s)}}}</dt><dd>
    {{{kindex(C-u C-c C-x C-s)}}}
    <p>Check if any direct children of the current headline could be moved to
      the archive. To do this, each subtree is checked for open TODO
      entries. If none are found, the command offers to move it to the
      archive location. If the cursor is <i>not</i> on a headline when this
      command is invoked, the level 1 trees will be checked.</p>
  </dd>
</dl>
<p>{{{cindex(archive locations)}}}</p>
<p>The default archive location is a file in the same directory as the
  current file, with the name derived by appending {{{file(_archive)}}}
  to the current file name. You can also choose what heading to file
  archived items under, with the possibility to add them to a datetree
  in a file. For information and examples on how to specify the file and
  the heading, see the documentation string of the variable
  <code>org-archive-location</code>.</p>
<p>There is also an in-buffer option for setting this variable, for
  example:<sup><a class="footref" name="fnr.87" href="#fn.87">87</a></sup></p>
<p>{{{cindex(#+ARCHIVE)}}}</p>
<pre class="example">
,#+ARCHIVE: %s_done::
</pre>
<p>{{{cindex(property&#92;\, ARCHIVE)}}}</p>
<p>{{{noindent}}} If you would like to have a special ARCHIVE location
  for a single entry or a (sub)tree, give the entry an <code>:ARCHIVE:</code>
  property with the location as the value (see <a href="Properties and columns">Properties and columns</a>).</p>
<p>{{{vindex(org-archive-save-context-info)}}}</p>
<p>When a subtree is moved, it receives a number of special properties
  that record context information like the file from where the entry
  came, its outline path the archiving time etc. Configure the variable
  <code>org-archive-save-context-info</code> to adjust the amount of information
  added.</p>
<h3><span class="heading-number heading-number-3">9.6.2</span> Internal archiving</h3>
<p>If you want to just switch off (for agenda views) certain subtrees
  without moving them to a different file, you can use the <code>ARCHIVE
  tag</code>.</p>
<p>A headline that is marked with the ARCHIVE tag (see <a href="Tags">Tags</a>) stays at
  its location in the outline tree, but behaves in the following way:</p>
<ul>
  <li>It does not open when you attempt to do so with a visibility cycling
    command (see <a href="Visibility cycling">Visibility cycling</a>). You can force cycling archived
    subtrees with {{{kbdkey(C-,TAB)}}}, or by setting the option
    <code>org-cycle-open-archived-trees</code>. Also normal outline commands like
    <code>show-all</code> will open archived subtrees.
    <p>{{{vindex(org-cycle-open-archived-trees)}}}</p>
  </li>
  <li>During sparse tree construction (see <a href="Sparse trees">Sparse trees</a>), matches in
    archived subtrees are not exposed, unless you configure the option
    <code>org-sparse-tree-open-archived-trees</code>.
    <p>{{{vindex(org-sparse-tree-open-archived-trees)}}}</p>
  </li>
  <li>During agenda view construction (see <a href="Agenda views">Agenda views</a>), the content of
    archived trees is ignored unless you configure the option
    <code>org-agenda-skip-archived-trees</code>, in which case these trees will
    always be included.  In the agenda you can press {{{kbd(v a)}}} to
    get archives temporarily included.
    <p>{{{vindex(org-agenda-skip-archived-trees)}}}</p>
  </li>
  <li>Archived trees are not exported (see <a href="Exporting">Exporting</a>), only the headline
    is. Configure the details using the variable
    <code>org-export-with-archived-trees</code>.
    <p>{{{vindex(org-export-with-archived-trees)}}}</p>
  </li>
  <li>Archived trees are excluded from column view unless the variable
    <code>org-columns-skip-archived-trees</code> is configured to <code>nil</code>.
    <p>{{{vindex(org-columns-skip-archived-trees)}}}</p>
  </li>
</ul>
<p>The following commands help manage the ARCHIVE tag:</p>
<dl>
  <dt>{{{kbd(C-c C-x a)}}}, <code>org-toggle-archive-tag</code></dt><dd>
    {{{kindex(C-c C-x a)}}}
    <p>Toggle the ARCHIVE tag for the current headline. When the tag is set,
      the headline changes to a shadowed face, and the subtree below it is
      hidden.</p>
  </dd>
  <dt>{{{kbd(C-u C-c C-x a)}}}</dt><dd>
    {{{kindex(C-u C-c C-x a)}}}
    <p>Check if any direct children of the current headline should be
      archived. To do this, each subtree is checked for open TODO entries.
      If none are found, the command offers to set the ARCHIVE tag for the
      child. If the cursor is <i>not</i> on a headline when this command is
      invoked, the level 1 trees will be checked.</p>
  </dd>
  <dt>{{{kbdkey(C-,TAB)}}}, <code>org-force-cycle-archived</code></dt><dd>
    <p>Cycle a tree even if it is tagged with ARCHIVE.</p>
  </dd>
  <dt>{{{kbd(C-c C-x A)}}}, <code>org-archive-to-archive-sibling</code></dt><dd>
    {{{kindex(C-c C-x A)}}}
    <p>Move the current entry to the <i>Archive Sibling</i>. This is a sibling of
      the entry with the heading {{{samp(Archive)}}} and the tag
      {{{samp(ARCHIVE)}}}. The entry becomes a child of that sibling and in
      this way retains a lot of its original context, including inherited
      tags and approximate position in the outline.</p>
  </dd>
</dl>
<h1><span class="heading-number heading-number-1">10</span> Agenda views</h1>
<p>Due to the way Org works, TODO items, time-stamped items, and tagged
  headlines can be scattered throughout a file or even a number of
  files. To get an overview of open action items, or of events that are
  important for a particular date, this information must be collected,
  sorted and displayed in an organized way.</p>
<p>Org can select items based on various criteria and display them
  in a separate buffer.  Seven different view types are provided:</p>
<ul>
  <li>an <i>agenda</i> that is like a calendar and shows information for
    specific dates,</li>
  <li>a <i>TODO list</i> that covers all unfinished action items,</li>
  <li>a <i>match view</i>, showings headlines based on the tags, properties,
    and TODO state associated with them,</li>
  <li>a <i>timeline view</i> that shows all events in a single Org file, in
    time-sorted view,</li>
  <li>a <i>text search view</i> that shows all entries from multiple files that
    contain specified keywords,</li>
  <li>a <i>stuck projects view</i> showing projects that currently don&#8217;t move
    along, and</li>
  <li><i>custom views</i> that are special searches and combinations of
    different views.</li>
</ul>
<p>{{{noindent}}} The extracted information is displayed in a special
  <i>agenda buffer</i>. This buffer is read-only, but provides commands to
  visit the corresponding locations in the original Org files, and even
  to edit these files remotely.</p>
<p>{{{vindex(org-agenda-window-setup)}}}
  {{{vindex(org-agenda-restore-windows-after-quit)}}}</p>
<p>Two variables control how the agenda buffer is displayed and whether
  the window configuration is restored when the agenda exits:
  <code>org-agenda-window-setup</code> and <code>org-agenda-restore-windows-after-quit</code>.</p>
<h2><span class="heading-number heading-number-2">10.1</span> Agenda files</h2>{{{cindex(agenda files)}}}
  {{{cindex(files for agenda)}}}
  {{{vindex(org-agenda-files)}}}
<p>The information to be shown is normally collected from all <i>agenda
  files</i>, the files listed in the variable <code>org-agenda-files</code>.<sup><a class="footref" name="fnr.180" href="#fn.180">180</a></sup> If
  a directory is part of this list, all files with the extension
  {{{file(.org)}}} in this directory will be part of the list.</p>
<p>Thus, even if you only work with a single Org file, that file should
  be put into the list.<sup><a class="footref" name="fnr.88" href="#fn.88">88</a></sup>  You can customize <code>org-agenda-files</code>, but
  the easiest way to maintain it is through the following commands</p>
<p>{{{cindex(files&#92;\, adding to agenda list)}}}</p>
<dl>
  <dt>{{{kbd(C-c [)}}}, <code>org-agenda-file-to-front</code></dt><dd>
    {{{kindex(C-c [)}}}
    <p>Add current file to the list of agenda files. The file is added to the
      front of the list. If it was already in the list, it is moved to the
      front. With a prefix argument, file is added/moved to the end.</p>
  </dd>
  <dt>{{{kbd(C-c ])}}}, <code>org-remove-file</code></dt><dd>
    {{{kindex(C-c ])}}}
    <p>Remove current file from the list of agenda files.</p>
  </dd>
  <dt>{{{kbd(C-&#8216;)}}} {{{kbd(C-)}}}, <code>org-cycle-agenda-files</code></dt><dd>
    {{{kindex(C-&#8216;)}}}
    {{{kindex(C-,)}}}
    {{{cindex(cycling&#92;\, of agenda files)}}}
    <p>Cycle through agenda file list, visiting one file after the other.</p>
  </dd>
  <dt>{{{kbd(M-x org-iswitchb)}}}</dt><dd>
    {{{findex(org-iswitchb)}}}
    <p>Command to use an <code>iswitchb</code>-like interface to switch to and between
      Org buffers.</p>
  </dd>
</dl>
<p>{{{noindent}}} The Org menu contains the current list of files and can
  be used to visit any of them.</p>
<p>If you would like to focus the agenda temporarily on a file not in
  this list, or on just one file in the list, or even on only a subtree
  in a file, then this can be done in different ways. For a single
  agenda command, you may press {{{kbd(&lt;)}}} once or several times in
  the dispatcher (see <a href="Agenda dispatcher">Agenda dispatcher</a>). To restrict the agenda scope
  for an extended period, use the following commands:</p>
<dl>
  <dt>{{{kbd(C-c C-x <)}}}, <code>org-agenda-set-restriction-lock</code></dt><dd>
    {{{kindex(C-c C-x <)}}}
    <p>Permanently restrict the agenda to the current subtree. When with a
      prefix argument, or with the cursor before the first headline in a
      file, the agenda scope is set to the entire file. This restriction
      remains in effect until removed with {{{kbd(C-c C-x &gt;)}}}, or by
      typing either {{{kbd(&lt;)}}} or {{{kbd(&gt;)}}} in the agenda dispatcher.
      If there is a window displaying an agenda view, the new restriction
      takes effect immediately.</p>
  </dd>
  <dt>{{{kbd(C-c C-x >)}}}, <code>org-agenda-remove-restriction-lock</code></dt><dd>
    {{{kindex(C-c C-x >)}}}
    <p>Remove the permanent restriction created by {{{kbd(C-c C-x &lt;)}}}.</p>
  </dd>
</dl>
<p>{{{noindent}}} When working with {{{file(speedbar.el)}}}, you can use
  the following commands in the Speedbar frame:</p>
<dl>
  <dt>{{{kbd(<)}}} in the speedbar frame <code>org-speedbar-set-agenda-restriction</code></dt><dd>
    {{{kindex(<)}}}
    <p>Permanently restrict the agenda to the item&#8212;either an Org file or a
      subtree in such a file&#8212;at the cursor in the Speedbar frame. If there
      is a window displaying an agenda view, the new restriction takes
      effect immediately.</p>
  </dd>
  <dt>{{{kbd(>)}}} in the speedbar frame <code>org-agenda-remove-restriction-lock</code></dt><dd>
    {{{kindex(>)}}}
    <p>Lift the restriction.</p>
  </dd>
</dl>
<h2><span class="heading-number heading-number-2">10.2</span> Agenda dispatcher</h2>{{{cindex(agenda dispatcher)}}}
  {{{cindex(dispatching agenda commands)}}}
<p>The views are created through a dispatcher, which should be bound to a
  global key&#8212;for example {{{kbd(C-c a)}}} (see <a href="Activation">Activation</a>). In the
  following we will assume that {{{kbd(C-c a)}}} is indeed how the
  dispatcher is accessed and list keyboard access to commands
  accordingly. After pressing {{{kbd(C-c a)}}}, an additional letter is
  required to execute a command. The dispatcher offers the following
  default commands:</p>
<dl>
  <dt>{{{kbd(a)}}}</dt><dd>
    {{{kindex(C-c a a)}}}
    <p>Create the calendar-like agenda (see <a href="Weekly/daily agenda">Weekly/daily agenda</a>).</p>
  </dd>
  <dt>{{{kbd(t)}}} or {{{kbd(T)}}}</dt><dd>
    {{{kindex(C-c a t)}}}
    {{{kindex(C-c a T)}}}
    <p>Create a list of all TODO items (see <a href="Global TODO list">Global TODO list</a>).</p>
  </dd>
  <dt>{{{kbd(m)}}} or {{{kbd(M)}}}</dt><dd>
    {{{kindex(C-c a m)}}}
    {{{kindex(C-c a M)}}}
    <p>Create a list of headlines matching a TAGS expression (see <a href="Matching tags and properties">Matching tags and properties</a>).</p>
  </dd>
  <dt>{{{kbd(L)}}}</dt><dd>
    {{{kindex(C-c a L)}}}
    <p>Create the timeline view for the current buffer
      (see <a href="Timeline for a single file">Timeline for a single file</a>).</p>
  </dd>
  <dt>{{{kbd(s)}}}</dt><dd>
    {{{kindex(C-c a s)}}}
    <p>Create a list of entries selected by a boolean expression of keywords
      and/or regular expressions that must or must not occur in the entry.</p>
  </dd>
  <dt>{{{kbd(/)}}}</dt><dd>
    {{{kindex(C-c a /)}}}
    {{{vindex(org-agenda-text-search-extra-files)}}}
    <p>Search for a regular expression in all agenda files and additionally
      in the files listed in <code>org-agenda-text-search-extra-files</code>. This uses
      the Emacs command <code>multi-occur</code>. A prefix argument can be used to
      specify the number of context lines for each match, default is
      1.</p>
  </dd>
  <dt>{{{kbd(#)}}} or {{{kbd(!)}}}</dt><dd>
    {{{kindex(C-c a #)}}}
    {{{kindex(C-c a !)}}}
    Create a list of stuck projects (see @<a href="Stuck projects">Stuck projects@</a>).</dd>
  <dt>{{{kbd(<)}}}</dt><dd>
    {{{kindex(C-c a <)}}}
    <p>Restrict an agenda command to the current buffer.<sup><a class="footref" name="fnr.89" href="#fn.89">89</a></sup> After
      pressing {{{kbd(&lt;)}}}, you still need to press the character selecting
      the command.</p>
  </dd>
  <dt>{{{kbd(< <)}}}</dt><dd>
    {{{kindex(C-c a < <)}}}
    <p>If there is an active region, restrict the following agenda command to
      the region. Otherwise, restrict it to the current subtree.<sup><a class="footref" name="fnr.90" href="#fn.90">90</a></sup>
      After pressing {{{kbd(&lt; &lt;)}}}, you still need to press the character
      selecting the command.</p>
  </dd>
  <dt>{{{kbd(*)}}}</dt><dd>
    {{{kindex(C-c a *)}}}
    {{{vindex(org-agenda-sticky)}}}
    <p>Toggle sticky agenda views. By default, Org maintains only a single
      agenda buffer and rebuilds it each time you change the view, to make
      sure everything is always up to date. If you switch between views
      often and the build time bothers you, you can turn on sticky agenda
      buffers (make this the default by customizing the variable
      <code>org-agenda-sticky</code>). With sticky agendas, the dispatcher only
      switches to the selected view, you need to update it by hand with
      {{{kbd(r)}}} or {{{kbd(g)}}}. You can toggle sticky agenda view any
      time with <code>org-toggle-sticky-agenda</code>.</p>
  </dd>
</dl>
<p>You can also define custom commands that will be accessible through
  the dispatcher, just like the default commands. This includes the
  possibility to create extended agenda buffers that contain several
  blocks together, for example the weekly agenda, the global TODO list
  and a number of special tags matches. See <a href="Custom agenda views">Custom agenda views</a>.</p>
<h2><span class="heading-number heading-number-2">10.3</span> Built-in agenda views</h2>In this section we describe the built-in views.
<h3><span class="heading-number heading-number-3">10.3.1</span> Weekly/daily agenda</h3>{{{cindex(agenda)}}}
  {{{cindex(weekly agenda)}}}
  {{{cindex(daily agenda)}}}
<p>The purpose of the weekly/daily <i>agenda</i> is to act like a page of a
  paper agenda, showing all the tasks for the current week or day.</p>
<dl>
  <dt>{{{kbd(C-c a a)}}}, <code>org-agenda-list</code></dt><dd>
    {{{cindex(org-agenda, command)}}}
    <p>Compile an agenda for the current week from a list of Org files. The
      agenda shows the entries for each day. With a numeric prefix (like
      {{{kbd(C-u 2 1 C-c a a)}}}) you may set the number of days to be
      displayed.<sup><a class="footref" name="fnr.91" href="#fn.91">91</a></sup></p>
  </dd>
</dl>
<p>{{{vindex(org-agenda-span)}}}
  {{{vindex(org-agenda-ndays)}}}
  The default number of days displayed in the agenda is set by the variable
  <code>org-agenda-span</code> (or the obsolete <code>org-agenda-ndays</code>).  This
  variable can be set to any number of days you want to see by default in the
  agenda, or to a span name, such a <code>day</code>, <code>week</code>, <code>month</code> or
  <code>year</code>.</p>
<p>Remote editing from the agenda buffer means, for example, that you can
  change the dates of deadlines and appointments from the agenda buffer.
  The commands available in the Agenda buffer are listed in @&lt;a href=&#8221;Agenda
  commands&#8221;&gt;Agenda
  commands</a>.</p>
<h4><span class="heading-number heading-number-4">10.3.1.1</span> Calendar/Diary integration</h4>{{{cindex(calendar integration)}}}
  {{{cindex(diary integration)}}}
  {{{cindex(Reingold&#92;\, Edward M.)}}}
<p>Emacs contains the calendar and diary by Edward M. Reingold.  The
  calendar displays a three-month calendar with holidays from different
  countries and cultures.  The diary allows you to keep track of
  anniversaries, lunar phases, sunrise/set, recurrent appointments
  (weekly, monthly) and more.  In this way, it is quite complementary to
  Org.  It can be very useful to combine output from Org with
  the diary.</p>
<p>In order to include entries from the Emacs diary into Org mode&#8217;s
  agenda, you only need to customize the variable</p>
<pre class="src src-emacs-lisp">
(setq org-agenda-include-diary t)
</pre>
<p>{{{noindent}}} After that, everything will happen automatically.  All diary
  entries including holidays, anniversaries, etc., will be included in the
  agenda buffer created by Org mode.  {{{key(SPC)}}}, {{{key(TAB)}}}, and
  {{{key(RET)}}} can be used from the agenda buffer to jump to the diary
  file in order to edit existing diary entries.  The {{{kbd(i)}}} command to
  insert new entries for the current date works in the agenda buffer, as
  well as the commands {{{kbd(S)}}}, {{{kbd(M)}}}, and {{{kbd(C)}}} to display
  Sunrise/Sunset times, show lunar phases and to convert to other
  calendars, respectively.  {{{kbd(c)}}} can be used to switch back and forth
  between calendar and agenda.</p>
<p>If you are using the diary only for sexp entries and holidays, it is
  faster to not use the above setting, but instead to copy or even move
  the entries into an Org file.  Org mode evaluates diary-style sexp
  entries, and does it faster because there is no overhead for first
  creating the diary display.  Note that the sexp entries must start at
  the left margin, no whitespace is allowed before them.  For example,
  the following segment of an Org file will be processed and entries
  will be made in the agenda:<sup><a class="footref" name="fnr.181" href="#fn.181">181</a></sup></p>
<pre class="example">
,* Birthdays and similar stuff
,#+CATEGORY: Holiday
%%(org-calendar-holiday)   ; special function for holiday names
,#+CATEGORY: Ann
%%(org-anniversary 1956  5 14) Arthur Dent is %d years old
%%(org-anniversary 1869 10  2) Mahatma Gandhi would be %d years old
</pre>
<h4><span class="heading-number heading-number-4">10.3.1.2</span> Anniversaries from BBDB</h4>
<p>{{{cindex(BBDB, anniversaries)}}}
  {{{cindex(anniversaries, from BBDB)}}}</p>
<p>If you are using the Big Brothers Database to store your contacts, you will
  very likely prefer to store anniversaries in BBDB rather than in a
  separate Org or diary file.  Org supports this and will show BBDB
  anniversaries as part of the agenda.  All you need to do is to add the
  following to one of your agenda files:</p>
<pre class="example">
,* Anniversaries
,  :PROPERTIES:
,  :CATEGORY: Anniv
,  :END:
,%%(org-bbdb-anniversaries)
</pre>
<p>You can then go ahead and define anniversaries for a BBDB record.
  Basically, you need to press {{{kbdspckey(C-o anniversary,RET)}}} with
  the cursor in a BBDB record and then add the date in the format
  <code>YYYY-MM-DD</code> or <code>MM-DD</code>, followed by a space and the class of the
  anniversary ({{{samp(birthday)}}} or {{{samp(wedding)}}}, or a format
  string). If you omit the class, it will default to
  {{{samp(birthday)}}}. Here are a few examples, the header for the file
  {{{file(org-bbdb.el)}}} contains more detailed information.</p>
<pre class="example">
1973-06-22
06-22
1955-08-02 wedding
2008-04-14 %s released version 6.01 of org mode, %d years ago
</pre>
<p>After a change to BBDB, or for the first agenda display during an
  Emacs session, the agenda display will suffer a short delay as Org
  updates its hash with anniversaries. However, from then on things will
  be very fast&#8212;much faster in fact than a long list of
  {{{samp(%%(diary-anniversary))}}} entries in an Org or Diary file.</p>
<h4><span class="heading-number heading-number-4">10.3.1.3</span> Appointment reminders</h4>{{{cindex(@file{appt.el})}}}
  {{{cindex(appointment reminders)}}}
  {{{cindex(appointment)}}}
  {{{cindex(reminders)}}}
<p>Org can interact with Emacs appointments notification facility.  To add the
  appointments of your agenda files, use the command <code>org-agenda-to-appt</code>.
  This command lets you filter through the list of your appointments and add
  only those belonging to a specific category or matching a regular expression.
  It also reads a <code>APPT_WARNTIME</code> property which will then override the
  value of <code>appt-message-warning-time</code> for this appointment.  See the
  docstring for details.</p>
<h3><span class="heading-number heading-number-3">10.3.2</span> Global TODO list</h3>{{{cindex(global TODO list)}}}
  {{{cindex(TODO list, global)}}}
<p>The global TODO list contains all unfinished TODO items formatted and
  collected into a single place.</p>
<dl>
  <dt>{{{kbd(C-c a t)}}}, <code>org-todo-list</code></dt><dd>
    <p>Show the global TODO list. This collects the TODO items from all
      agenda files (see <a href="Agenda views">Agenda views</a>) into a single buffer. By default, this
      lists items with a state the is not a DONE state. The buffer is in
      <code>agenda-mode</code>, so there are commands to examine and manipulate the
      TODO entries directly from that buffer (see <a href="Agenda commands">Agenda commands</a>).</p>
  </dd>
  <dt>{{{kbd(C-c a T)}}}, <code>org-todo-list</code></dt><dd>
    <p>{{{cindex(TODO keyword matching)}}}
      {{{vindex(org-todo-keywords)}}}</p>
    <p>Like the above, but allows selection of a specific TODO keyword. You
      can also do this by specifying a prefix argument to {{{kbd(C-c a
      t)}}}. You are prompted for a keyword, and you may also specify
      several keywords by separating them with {{{samp(|)}}} as the boolean
      OR operator. With a numeric prefix, the Nth keyword in
      <code>org-todo-keywords</code> is selected.</p>
    <p>{{{kindex(r)}}}</p>
    <p>The {{{kbd(r)}}} key in the agenda buffer regenerates it, and you can give
      a prefix argument to this command to change the selected TODO keyword,
      for example {{{kbd(3 r)}}}.  If you often need a search for a specific
      keyword, define a custom command for it (see <a href="Agenda dispatcher">Agenda dispatcher</a>).</p>
    <p>Matching specific TODO keywords can also be done as part of a tags
      search (see <a href="Tag searches">Tag searches</a>).</p>
  </dd>
</dl>
<p>Remote editing of TODO items means that you can change the state of a
  TODO entry with a single key press.  The commands available in the
  TODO list are described in <a href="Agenda commands">Agenda commands</a>.</p>
<p>{{{cindex(sublevels, inclusion into TODO list)}}}</p>
<p>Normally the global TODO list simply shows all headlines with TODO
  keywords.  This list can become very long.  There are two ways to keep
  it more compact:</p>
<ul>
  <li>Some people view a TODO item that has been <i>scheduled</i> for execution
    or have a <i>deadline</i> (see <a href="Timestamps">Timestamps</a>) as no longer <i>open</i>. Configure
    the variables <code>org-agenda-todo-ignore-scheduled</code>,
    <code>org-agenda-todo-ignore-deadlines</code>,
    <code>org-agenda-todo-ignore-timestamp</code> and/or
    <code>org-agenda-todo-ignore-with-date</code> to exclude such items from the
    global TODO list.
    <p>{{{vindex(org-agenda-todo-ignore-scheduled)}}}
      {{{vindex(org-agenda-todo-ignore-deadlines)}}}
      {{{vindex(org-agenda-todo-ignore-timestamp)}}}
      {{{vindex(org-agenda-todo-ignore-with-date)}}}</p>
  </li>
  <li>TODO items may have sublevels to break up the task into subtasks. In
    such cases it may be enough to list only the highest level TODO
    headline and omit the sublevels from the global list. Configure the
    variable <code>org-agenda-todo-list-sublevels</code> to get this behavior.
    <p>{{{vindex(org-agenda-todo-list-sublevels)}}}</p>
  </li>
</ul>
<h3><span class="heading-number heading-number-3">10.3.3</span> Matching tags and properties</h3>{{{cindex(matching, of tags)}}}
  {{{cindex(matching, of properties)}}}
  {{{cindex(tags view)}}}
  {{{cindex(match view)}}}
<p>If headlines in the agenda files are marked with <i>tags</i> (see <a href="Tags">Tags</a>), or
  have properties (see <a href="Properties and columns">Properties and columns</a>), you can select headlines
  based on this metadata and collect them into an agenda buffer. The
  match syntax described here also applies when creating sparse trees
  with {{{kbd(C-c / m)}}}.</p>
<dl>
  <dt>{{{kbd(C-c a m)}}}, <code>org-tags-view</code></dt><dd>
    <p>Produce a list of all headlines that match a given set of tags. The
      command prompts for a selection criterion, which is a boolean logic
      expression with tags, like {{{samp(+work+urgent-withboss)}}} or
      {{{samp(work|home)}}} (see <a href="Tags">Tags</a>). If you often need a specific search,
      define a custom command for it (see <a href="Agenda dispatcher">Agenda dispatcher</a>).</p>
  </dd>
  <dt>{{{kbd(C-c a M)}}}, <code>org-tags-view</code></dt><dd>
    <p>{{{vindex(org-tags-match-list-sublevels)}}}
      {{{vindex(org-agenda-tags-todo-honor-ignore-options)}}}</p>
    <p>Like {{{kbd(C-c a m)}}}, but only select headlines that are also TODO
      items in a not-DONE state and force checking subitems (see the variable
      <code>org-tags-match-list-sublevels</code>). To exclude scheduled/deadline items,
      see the variable <code>org-agenda-tags-todo-honor-ignore-options</code>. Matching
      specific TODO keywords together with a tags match is also possible,
      see <a href="Tag searches">Tag searches</a>.</p>
  </dd>
</dl>
<p>The commands available in the tags list are described in @&lt;a href=&#8221;Agenda
  commands&#8221;&gt;Agenda
  commands</a>.</p>
<p>{{{cindex(Boolean logic&#92;\, for tag or property searches)}}}</p>
<p>A search string can use Boolean operators {{{samp(&amp;)}}} for AND and
  {{{samp(|)}}} for OR. {{{samp(&amp;)}}} binds more strongly than
  {{{samp(|)}}}. Parentheses are currently not implemented. Each element
  in the search is either a tag, a regular expression matching tags, or
  an expression like <code>PROPERTY OPERATOR VALUE</code> with a comparison
  operator, accessing a property value. Each element may be preceded by
  {{{samp(-)}}}, to select against it, and {{{samp(+)}}} is syntactic
  sugar for positive selection. The AND operator {{{samp(&amp;)}}} is
  optional when {{{samp(+)}}} or {{{samp(-)}}} is present. Here are some
  examples, using only tags.</p>
<dl>
  <dt>+work-boss</dt><dd>
    <p>Select headlines tagged {{{samp(:work:)}}}, but discard those also
      tagged {{{samp(:boss:)}}}.</p>
  </dd>
  <dt>work|laptop</dt><dd>
    <p>Selects lines tagged {{{samp(:work:)}}} or {{{samp(:laptop:)}}}.</p>
  </dd>
  <dt>work|laptop+night</dt><dd>
    <p>Like before, but require the {{{samp(:laptop:)}}} lines to be tagged
      also {{{samp(:night:)}}}.</p>
  </dd>
</dl>
<p>{{{cindex(regular expressions, with tags search)}}}</p>
<p>Instead of a tag, you may also specify a regular expression enclosed
  in curly braces. For example, {{{samp(work+{^boss.*})}}} matches
  headlines that contain the tag {{{samp(:work:)}}} and any tag
  <i>starting</i> with {{{samp(boss)}}}.</p>
<p>{{{cindex(TODO keyword matching, with tags search)}}}
  {{{cindex(level&#92;\, require for tags/property match)}}}
  {{{cindex(category&#92;\, require for tags/property match)}}}
  {{{vindex(org-odd-levels-only)}}}</p>
<p>You may also test for properties (see <a href="Properties and columns">Properties and columns</a>) at the
  same time as matching tags. The properties may be real properties, or
  special properties that represent other metadata (see @&lt;a href=&#8221;Special
  properties&#8221;&gt;Special
  properties</a>). For example, the &#8220;property&#8221; <code>TODO</code> represents the TODO
  keyword of the entry. Or, the &#8220;property&#8221; <code>LEVEL</code> represents the
  level of an entry. So a search {{{samp(+LEVEL=3+boss-TODO=&#8221;DONE&#8221;)}}}
  lists all level three headlines that have the tag {{{samp(boss)}}} and
  are <i>not</i> marked with the TODO keyword DONE. In buffers with
  <code>org-odd-levels-only</code> set, {{{samp(LEVEL)}}} does not count the number
  of stars, but {{{samp(LEVEL=2)}}} will correspond to 3 stars etc. The
  ITEM special property cannot currently be used in tags/property
  searches.<sup><a class="footref" name="fnr.92" href="#fn.92">92</a></sup></p>
<p>Here are more examples:</p>
<dl>
  <dt>work+TODO=&#8221;WAITING&#8221;</dt><dd>
    <p>Select {{{samp(:work:)}}}-tagged TODO lines with the specific TODO
      keyword {{{samp(WAITING)}}}.</p>
  </dd>
  <dt>work+TODO=&#8221;WAITING&#8221;|home+TODO=&#8221;WAITING&#8221;</dt><dd>
    <p>Waiting tasks both at work and at home.</p>
  </dd>
</dl>
<p>When matching properties, a number of different operators can be used to test
  the value of a property.  Here is a complex example:</p>
<pre class="example">
+work-boss+PRIORITY=&quot;A&quot;+Coffee=&quot;unlimited&quot;+Effort&lt;2         
         +With={Sarah|Denny}+SCHEDULED&gt;=&quot;&lt;2008-10-11&gt;&quot;
</pre>
<p>{{{noindent}}} The type of comparison will depend on how the
  comparison value is written:</p>
<ul>
  <li>If the comparison value is a plain number, a numerical comparison is
    done, and the allowed operators are <code>&lt;</code>, <code>=</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&gt;=</code>, and
    <code>&lt;&gt;</code>.</li>
  <li>If the comparison value is enclosed in double-quotes, a string
    comparison is done, and the same operators are allowed.</li>
  <li>If the comparison value is enclosed in double-quotes <i>and</i> angular
    brackets (like {{{samp(DEADLINE&lt;=&#8221;&lt;2008-12-24 18:30&gt;&#8221;)}}}), both
    values are assumed to be date/time specifications in the standard
    Org way, and the comparison will be done accordingly. Special values
    that will be recognized are ~&#8221;&lt;now&gt;&#8221;~ for now (including time), and
    ~&#8221;&lt;today&gt;&#8221;~, and ~&#8221;&lt;tomorrow&gt;&#8221;~ for these days at 0:00 hours, i.e.@:
    without a time specification. Also strings like ~&#8221;&lt;+5d&gt;&#8221;~ or
    ~&#8221;&lt;-2m&gt;&#8221;~ with units <code>d</code>, <code>w</code>, <code>m</code>, and <code>y</code> for day, week, month,
    and year, respectively, can be used.</li>
  <li>If the comparison value is enclosed in curly braces, a regexp match
    is performed, with {{{samp(=)}}} meaning that the regexp matches the
    property value, and <code>&lt;&gt;</code> meaning that it does not match.</li>
</ul>
<p>So the search string in the example finds entries tagged
  {{{samp(:work:)}}} but not {{{samp(:boss:)}}}, which also have a
  priority value {{{samp(A)}}}, a {{{samp(:Coffee:)}}} property with the
  value {{{samp(unlimited)}}}, an {{{samp(Effort)}}} property that is
  numerically smaller than 2, a {{{samp(:With:)}}} property that is
  matched by the regular expression {{{samp(Sarah|Denny)}}}, and that
  are scheduled on or after October 11, 2008.</p>
<p>Accessing TODO, LEVEL, and CATEGORY during a search is fast. Accessing
  any other properties will slow down the search. However, once you have
  paid the price by accessing one property, testing additional
  properties is cheap again.</p>
<p>You can configure Org mode to use property inheritance during a
  search, but beware that this can slow down searches considerably. See
  <a href="Property inheritance">Property inheritance</a>, for details.</p>
<p>For backward compatibility, and also for typing speed, there is also a
  different way to test TODO states in a search. For this, terminate the
  tags/property part of the search string (which may include several
  terms connected with {{{samp(|)}}}) with a {{{samp(/)}}} and then
  specify a Boolean expression just for TODO keywords. The syntax is
  then similar to that for tags, but should be applied with care: for
  example, a positive selection on several TODO keywords cannot
  meaningfully be combined with boolean AND. However, <i>negative
  selection</i> combined with AND can be meaningful. To make sure that only
  lines are checked that actually have any TODO keyword (resulting in a
  speed-up), use {{{kbd(C-c a M)}}}, or equivalently start the TODO part
  after the slash with {{{samp(!)}}}. Using {{{kbd(C-c a M)}}} or
  {{{samp(/!)}}} will not match TODO keywords in a DONE state. Examples:</p>
<dl>
  <dt>work/WAITING</dt><dd>
    <p>Same as {{{samp(work+TODO=&#8221;WAITING&#8221;)}}}</p>
  </dd>
  <dt>work/!-WAITING-NEXT</dt><dd>
    <p>Select {{{samp(:work:)}}}-tagged TODO lines that are neither {{{samp(WAITING)}}}
      nor {{{samp(NEXT)}}}</p>
  </dd>
  <dt>work/!+WAITING|+NEXT</dt><dd>
    <p>Select {{{samp(:work:)}}}-tagged TODO lines that are either
      {{{samp(WAITING)}}} or {{{samp(NEXT)}}}.</p>
  </dd>
</dl>
<h3><span class="heading-number heading-number-3">10.3.4</span> Timeline for a single file</h3>
<p>{{{cindex(timeline&#92;\, single file)}}}
  {{{cindex(time-sorted view)}}}</p>
<p>The timeline summarizes all time-stamped items from a single Org mode
  file in a <i>time-sorted view</i>.  The main purpose of this command is
  to give an overview over events in a project.</p>
<dl>
  <dt>{{{kbd(C-c a L)}}}, <code>org-timeline</code></dt><dd>
    <p>Show a time-sorted view of the Org file, with all time-stamped items.
      When called with a {{{kbd(C-u)}}} prefix, all unfinished TODO entries
      (scheduled or not) are also listed under the current date.</p>
  </dd>
</dl>
<p>{{{noindent}}} The commands available in the timeline buffer are
  listed in <a href="Agenda commands">Agenda commands</a>.</p>
<h3><span class="heading-number heading-number-3">10.3.5</span> Search view</h3>{{{cindex(search view)}}}
  {{{cindex(text search)}}}
  {{{cindex(searching, for text)}}}
<p>This agenda view is a general text search facility for Org mode entries.
  It is particularly useful to find notes.</p>
<dl>
  <dt>{{{kbd(C-c a s)}}}, <code>org-search-view</code></dt><dd>
    <p>This is a special search that lets you select entries by matching a
      substring or specific words using a boolean logic.</p>
  </dd>
</dl>
<p>For example, the search string {{{samp(computer equipment)}}} will
  find entries that contain {{{samp(computer equipment)}}} as a
  substring. If the two words are separated by more space or a line
  break, the search will still match. Search view can also search for
  specific keywords in the entry, using Boolean logic. The search string
  {{{samp(+computer +wifi -ethernet -{8.11[bg]})}}} will search for
  note entries that contain the keywords <code>computer</code> and <code>wifi</code>, but not
  the keyword <code>ethernet</code>, and which are also not matched by the regular
  expression <code>8.11[bg]</code>, meaning to exclude both 8.11b and 8.11g. The
  first {{{samp(<del>)}}} is necessary to turn on word search, other
  {{{samp(</del>)}}} characters are optional. For more details, see the
  docstring of the command <code>org-search-view</code>.</p>
<p>{{{vindex(org-agenda-text-search-extra-files)}}}</p>
<p>Note that in addition to the agenda files, this command will also
  search the files listed in <code>org-agenda-text-search-extra-files</code>.</p>
<h3><span class="heading-number heading-number-3">10.3.6</span> Stuck projects</h3>{{{pindex(GTD&#92;\, Getting Things Done)}}}
<p>If you are following a system like David Allen&#8217;s GTD to organize your
  work, one of the &#8220;duties&#8221; you have is a regular review to make sure
  that all projects move along. A <i>stuck</i> project is a project that has
  no defined next actions, so it will never show up in the TODO lists
  Org mode produces. During the review, you need to identify such
  projects and define next actions for them.</p>
<dl>
  <dt>{{{kbd(C-c a #)}}}, <code>org-agenda-list-stuck-projects</code></dt><dd>
    <p>List projects that are stuck.</p>
  </dd>
  <dt>{{{kbd(C-c a !)}}}</dt><dd>
    <p>{{{vindex(org-stuck-projects)}}}
      {{{kindex(C-c a !)}}}</p>
    <p>Customize the variable <code>org-stuck-projects</code> to define what a stuck
      project is and how to find it.</p>
  </dd>
</dl>
<p>You almost certainly will have to configure this view before it will
  work for you.  The built-in default assumes that all your projects are
  level-2 headlines, and that a project is not stuck if it has at least
  one entry marked with a TODO keyword TODO or NEXT or NEXTACTION.</p>
<p>Let&#8217;s assume that you, in your own way of using Org mode, identify
  projects with a tag PROJECT, and that you use a TODO keyword MAYBE to
  indicate a project that should not be considered yet. Let&#8217;s further
  assume that the TODO keyword DONE marks finished projects, and that
  NEXT and TODO indicate next actions. The tag @SHOP indicates shopping
  and is a next action even without the NEXT tag. Finally, if the
  project contains the special word IGNORE anywhere, it should not be
  listed either. In this case you would start by identifying eligible
  projects with a tags/todo match (see <a href="Tag searches">Tag searches</a>).
  {{{samp(+PROJECT/-MAYBE-DONE)}}}, and then check for TODO, NEXT,
  @SHOP, and IGNORE in the subtree to identify projects that are not
  stuck. The correct customization for this is:</p>
<pre class="src src-emacs-lisp">
(setq org-stuck-projects
      '(&quot;+PROJECT/-MAYBE-DONE&quot; (&quot;NEXT&quot; &quot;TODO&quot;) (&quot;@@SHOP&quot;)
                               &quot;\\&lt;IGNORE\\&gt;&quot;))
</pre>
<p>Note that if a project is identified as non-stuck, the subtree of this entry
  will still be searched for stuck projects.</p>
<h2><span class="heading-number heading-number-2">10.4</span> Presentation and sorting</h2>{{{cindex(presentation&#92;\, of agenda items)}}}
  {{{vindex(org-agenda-prefix-format)}}}
  {{{vindex(org-agenda-tags-column)}}}
<p>Before displaying items in an agenda view, Org mode visually prepares
  the items and sorts them. Each item occupies a single line. The line
  starts with a <i>prefix</i> that contains the <i>category</i> (see <a href="Categories">Categories</a>)
  of the item and other important information. You can customize in
  which column tags will be displayed through <code>org-agenda-tags-column</code>.
  You can also customize the prefix using the option
  <code>org-agenda-prefix-format</code>. This prefix is followed by a cleaned-up
  version of the outline headline associated with the item.</p>
<h3><span class="heading-number heading-number-3">10.4.1</span> Categories</h3>
<p>{{{cindex(category)}}}
  {{{cindex(#+CATEGORY)}}}</p>
<p>The category is a broad label assigned to each agenda item. By
  default, the category is simply derived from the file name, but you
  can also specify it with a special line in the buffer, like
  this:<sup><a class="footref" name="fnr.93" href="#fn.93">93</a></sup></p>
<pre class="example">
,#+CATEGORY: Thesis
</pre>
<p>{{{noindent}}}
  {{{cindex(property&#92;\, CATEGORY)}}}</p>
<p>If you would like to have a special CATEGORY for a single entry or a
  (sub)tree, give the entry a <code>:CATEGORY:</code> property with the special
  category you want to apply as the value.</p>
<p>{{{noindent}}} The display in the agenda buffer looks best if the
  category is not longer than 10 characters.</p>
<p>{{{noindent}}} You can set up icons for category by customizing the
  <code>org-agenda-category-icon-alist</code> variable.
  {{{vindex(org-agenda-category-icon-alist)}}}</p>
<h3><span class="heading-number heading-number-3">10.4.2</span> Time-of-day specifications</h3>{{{cindex(time-of-day specification)}}}
<p>Org mode checks each agenda item for a time-of-day specification.  The
  time can be part of the timestamp that triggered inclusion into the
  agenda, for example as in <code>&lt;2005-05-10 Tue 19:00&gt;</code>.  Time
  ranges can be specified with two timestamps, like:</p>
<p><code>&lt;2005-05-10 Tue 20:30&gt;--&lt;2005-05-10 Tue 22:15&gt;</code>.</p>
<p>In the headline of the entry itself, a time(range) may also appear as
  plain text (like {{{samp(12:45)}}} or a {{{samp(8:30-1pm)}}}). If the
  agenda integrates the Emacs diary (see <a href="Weekly/daily agenda">Weekly/daily agenda</a>), time
  specifications in diary entries are recognized as well.</p>
<p>For agenda display, Org mode extracts the time and displays it in a
  standard 24 hour format as part of the prefix.  The example times in
  the previous paragraphs would end up in the agenda like this:</p>
<pre class="example">
 8:30-13:00 Arthur Dent lies in front of the bulldozer
12:45...... Ford Prefect arrives and takes Arthur to the pub
19:00...... The Vogon reads his poem
20:30-22:15 Marvin escorts the Hitchhikers to the bridge
</pre>
<p>{{{cindex(time grid)}}}</p>
<p>If the agenda is in single-day mode, or for the display of today, the
  timed entries are embedded in a time grid, like</p>
<pre class="example">
 8:00...... ------------------
 8:30-13:00 Arthur Dent lies in front of the bulldozer
10:00...... ------------------
12:00...... ------------------
12:45...... Ford Prefect arrives and takes Arthur to the pub
14:00...... ------------------
16:00...... ------------------
18:00...... ------------------
19:00...... The Vogon reads his poem
20:00...... ------------------
20:30-22:15 Marvin escorts the Hitchhikers to the bridge
</pre>
<p>{{{vindex(org-agenda-use-time-grid)}}}
  {{{vindex(org-agenda-time-grid)}}}</p>
<p>The time grid can be turned on and off with the variable
  <code>org-agenda-use-time-grid</code>, and can be configured with
  <code>org-agenda-time-grid</code>.</p>
<h3><span class="heading-number heading-number-3">10.4.3</span> Sorting of agenda items</h3>{{{cindex(sorting&#92;\, of agenda items)}}}
  {{{cindex(priorities&#92;\, of agenda items)}}}
<p>Before being inserted into a view, the items are sorted.  How this is
  done depends on the type of view.</p>
<ul>
  <li>For the daily/weekly agenda, the items for each day are sorted.  The
    default order is to first collect all items containing an explicit
    time-of-day specification.  These entries will be shown at the
    beginning of the list, as a <i>schedule</i> for the day.  After that,
    items remain grouped in categories, in the sequence given by
    <code>org-agenda-files</code>. Within each category, items are sorted by
    priority (see <a href="Priorities">Priorities</a>), which is composed of the base priority
    (2000 for priority {{{samp(A)}}}, 1000 for {{{samp(B)}}}, and 0 for
    {{{samp(C)}}}), plus additional increments for overdue scheduled or deadline items.
    <p>{{{vindex(org-agenda-files)}}}</p>
  </li>
  <li>For the TODO list, items remain in the order of categories, but
    within each category, sorting takes place according to priority (see
    <a href="Priorities">Priorities</a>).  The priority used for sorting derives from the
    priority cookie, with additions depending on how close an item is to
    its due or scheduled date.</li>
  <li>For tags matches, items are not sorted at all, but just appear in
    the sequence in which they are found in the agenda files.</li>
</ul>
<p>{{{vindex(org-agenda-sorting-strategy)}}}</p>
<p>Sorting can be customized using the variable
  <code>org-agenda-sorting-strategy</code>, and may also include criteria based on
  the estimated effort of an entry (see <a href="Effort estimates">Effort estimates</a>).</p>
<h2><span class="heading-number heading-number-2">10.5</span> Agenda commands</h2>{{{cindex(commands&#92;\, in agenda buffer)}}}
<p>Entries in the agenda buffer are linked back to the Org file or diary
  file where they originate.  You are not allowed to edit the agenda
  buffer itself, but commands are provided to show and jump to the
  original entry location, and to edit the Org files &#8220;remotely&#8221; from
  the agenda buffer.  In this way, all information is stored only once,
  removing the risk that your agenda and note files may diverge.</p>
<p>Some commands can be executed with mouse clicks on agenda lines.  For
  the other commands, the cursor needs to be in the desired line.</p>
<h3><span class="heading-number heading-number-3">10.5.1</span> Motion2</h3>
<p>{{{cindex(motion commands in agenda)}}}</p>
<dl>
  <dt>{{{kbd(n)}}}, <code>org-agenda-next-line</code></dt><dd>
    {{{kindex(n)}}}
    <p>Next line (same as {{{key(down)}}} and {{{kbd(C-n)}}}).</p>
  </dd>
  <dt>{{{kbd(p)}}}, <code>org-agenda-previous-line</code></dt><dd>
    {{{kindex(p)}}}
    <p>Previous line (same as {{{key(up)}}} and {{{kbd(C-p)}}}).</p>
  </dd>
</dl>
<h3><span class="heading-number heading-number-3">10.5.2</span> View/Go to Org file</h3>
<p>{{{cindex(view file commands in agenda)}}}</p>
<dl>
  <dt>{{{key(SPC)}}} or {{{key(mouse-3)}}}, <code>org-agenda-show-and-scroll-up</code></dt><dd>
    {{{kindex(@key{SPC})}}}
    {{{kindex(mouse-3)}}}
    <p>Display the original location of the item in another window. With
      prefix arg, make sure that the entire entry is made visible in the
      outline, not only the heading.</p>
  </dd>
  <dt>{{{kbd(L)}}}, <code>org-agenda-recenter</code></dt><dd>
    {{{kindex(L)}}}
    <p>Display original location and recenter that window.</p>
  </dd>
  <dt>{{{key(TAB)}}} or {{{key(mouse-2)}}}, <code>org-agenda-goto</code></dt><dd>
    {{{kindex(@key{TAB})}}}
    {{{kindex(mouse-2)}}}
    <p>Go to the original location of the item in another window.</p>
  </dd>
  <dt>{{{key(RET)}}}, <code>org-agenda-switch-to</code></dt><dd>
    {{{kindex(@key{RET})}}}
    <p>Go to the original location of the item and delete other windows.</p>
  </dd>
  <dt>{{{kbd(F)}}}, <code>org-agenda-follow-mode</code></dt><dd>
    {{{kindex(F)}}}
    {{{vindex(org-agenda-start-with-follow-mode)}}}
    <p>Toggle Follow mode. In Follow mode, as you move the cursor through the
      agenda buffer, the other window always shows the corresponding
      location in the Org file. The initial setting for this mode in new
      agenda buffers can be set with the variable
      <code>org-agenda-start-with-follow-mode</code>.</p>
  </dd>
  <dt>{{{kbd(C-c C-x b)}}}, <code>org-agenda-tree-to-indirect-buffer</code></dt><dd>
    {{{kindex(C-c C-x b)}}}
    <p>Display the entire subtree of the current item in an indirect buffer.
      With a numeric prefix argument N, go up to level N and then take that
      tree. If N is negative, go up that many levels. With a {{{kbd(C-u)}}}
      prefix, do not remove the previously used indirect buffer.</p>
  </dd>
  <dt>{{{kbd(C-c C-o)}}}, <code>org-agenda-open-link</code></dt><dd>
    {{{kindex(C-c C-o)}}}
    <p>Follow a link in the entry. This will offer a selection of any links
      in the text belonging to the referenced Org node. If there is only one
      link, it will be followed without a selection prompt.</p>
  </dd>
</dl>
<h3><span class="heading-number heading-number-3">10.5.3</span> Change display</h3>
<p>{{{cindex(change agenda display)}}}</p>
<dl>
  <dt>{{{kbd(A)}}}</dt><dd>
    {{{kindex(A)}}}
    {{{cindex(display changing&#92;\, in agenda)}}}
    <p>Interactively select another agenda view and append it to the current
      view.</p>
  </dd>
  <dt>{{{kbd(o)}}}</dt><dd>
    {{{kindex(o)}}}
    <p>Delete other windows.</p>
  </dd>
  <dt>{{{kbd(v d)}}} or short {{{kbd(d)}}}, <code>org-agenda-day-view</code></dt><dd>
    {{{kindex(v d)}}}
    {{{kindex(d)}}}
    {{{vindex(org-agenda-span)}}}
    <p>Switch to day view. When switching to day view, this setting becomes
      the default for subsequent agenda refreshes. A numeric prefix argument
      may be used to jump directly to a specific day of the year. For
      example, {{{kbd(32 d)}}} jumps to February 1st. When setting day view,
      a year may be encoded in the prefix argument as well. For example,
      {{{kbd(200712 d)}}} will jump to January 12, 2007. If such a year
      specification has only one or two digits, it will be mapped to the
      interval 1938-2037.</p>
  </dd>
  <dt>{{{kbd(v w)}}} or short {{{kbd(w)}}}, <code>org-agenda-week-view</code></dt><dd>
    {{{kindex(v w)}}}
    {{{kindex(w)}}}
    {{{vindex(org-agenda-span)}}}
    <p>Switch to week view. When switching week view, this setting becomes
      the default for subsequent agenda refreshes. A numeric prefix argument
      may be used to jump directly to a specific day of the ISO week. For
      example {{{kbd(9 w)}}} to ISO week number 9. When setting week view, a
      year may be encoded in the prefix argument as well. For example,
      {{{kbd(200712 w)}}} will jump to week 12 in 2007. If such a year
      specification has only one or two digits, it will be mapped to the
      interval 1938-2037.</p>
  </dd>
  <dt>{{{kbd(v m)}}}, <code>org-agenda-month-view</code></dt><dd>
    {{{kindex(v m)}}}
    {{{vindex(org-agenda-span)}}}
    <p>Switch to month view. Because month views are slow to create, they do
      not become the default for subsequent agenda refreshes. A numeric
      prefix argument may be used to jump directly to a specific day of the
      month. When setting month view, a year may be encoded in the prefix
      argument as well. For example, {{{kbd(200712 m)}}} will jump to
      December, 2007. If such a year specification has only one or two
      digits, it will be mapped to the interval 1938-2037.</p>
  </dd>
  <dt>{{{kbd(v y)}}}, <code>org-agenda-year-view</code></dt><dd>
    {{{kindex(v y)}}}
    {{{vindex(org-agenda-span)}}}
    <p>Switch to year view. Because year views are slow to create, they do
      not become the default for subsequent agenda refreshes. A numeric
      prefix argument may be used to jump directly to a specific day of the
      year.</p>
  </dd>
  <dt>{{{kbdspckey(v,SPC)}}}, <code>org-agenda-reset-view</code></dt><dd>
    {{{kindex(v @key{SPC})}}}
    {{{vindex(org-agenda-span)}}}
    <p>Reset <code>org-agenda-span</code> to the current span.</p>
  </dd>
  <dt>{{{kbd(f)}}}, <code>org-agenda-later</code></dt><dd>
    {{{kindex(f)}}}
    <p>Go forward in time to display the following <code>org-agenda-current-span</code>
      days. For example, if the display covers a week, switch to the
      following week. With prefix arg, go forward that many times
      <code>org-agenda-current-span</code> days.</p>
  </dd>
  <dt>{{{kbd(b)}}}, <code>org-agenda-earlier</code></dt><dd>
    {{{kindex(b)}}}
    <p>Go backward in time to display earlier dates.</p>
  </dd>
  <dt>{{{kbd(.)}}}, <code>org-agenda-goto-today</code></dt><dd>
    {{{kindex(.)}}}
    <p>Go to today.</p>
  </dd>
  <dt>{{{kbd(j)}}}, <code>org-agenda-goto-date</code></dt><dd>
    {{{kindex(j)}}}
    <p>Prompt for a date and go there.</p>
  </dd>
  <dt>{{{kbd(J)}}}, <code>org-agenda-clock-goto</code></dt><dd>
    {{{kindex(J)}}}
    <p>Go to the currently clocked-in task <i>in the agenda buffer</i>.</p>
  </dd>
  <dt>{{{kbd(D)}}}, <code>org-agenda-toggle-diary</code></dt><dd>
    {{{kindex(D)}}}
    <p>Toggle the inclusion of diary entries.  See <a href="Weekly/daily agenda">Weekly/daily agenda</a>.</p>
  </dd>
  <dt>{{{kbd(v l)}}} or {{{kbd(v L)}}} or short {{{kbd(l)}}}, <code>org-agenda-log-mode</code></dt><dd>
    {{{kindex(v l)}}}
    {{{kindex(l)}}}
    {{{kindex(v L)}}}
    {{{vindex(org-log-done)}}}
    {{{vindex(org-agenda-log-mode-items)}}}
    <p>Toggle Logbook mode. In Logbook mode, entries that were marked DONE
      while logging was on (see the variable <code>org-log-done</code>) are shown in
      the agenda, as are entries that have been clocked on that day. You can
      configure the entry types that should be included in log mode using
      the variable <code>org-agenda-log-mode-items</code>. When called with a
      {{{kbd(C-u)}}} prefix, show all possible logbook entries, including
      state changes. When called with two prefix args {{{kbd(C-u C-u)}}},
      show only logging information, nothing else. {{{kbd(v L)}}} is
      equivalent to {{{kbd(C-u v l)}}}.</p>
  </dd>
  <dt>{{{kbd(v [)}}} or short {{{kbd([)}}}, <code>org-agenda-manipulate-query-add</code></dt><dd>
    {{{kindex(v [)}}}
    {{{kindex([)}}}
    <p>Include inactive timestamps into the current view. Only for
      weekly/daily agenda and timeline views.</p>
  </dd>
  <dt>{{{kbd(v a)}}}, <code>org-agenda-archives-mode</code></dt><dd>
    {{{kindex(v a)}}}
    <p>Toggle Archives mode. In Archives mode, trees that are marked
      <code>ARCHIVED</code> are also scanned when producing the agenda. To exit
      archives mode, press {{{kbd(v a)}}} again.</p>
  </dd>
  <dt>{{{kbd(v A)}}}, <code>org-agenda-archives-mode 'files</code></dt><dd>
    <p>Toggle Archives mode. In Archives mode, trees that are marked
      <code>ARCHIVED</code> are also scanned when producing the agenda, including all
      archive files. To exit archives mode, press {{{kbd(v a)}}}.</p>
  </dd>
  <dt>{{{kbd(v R)}}} or short {{{kbd(R)}}}, <code>org-agenda-clockreport-mode</code></dt><dd>
    {{{kindex(v R)}}}
    {{{kindex(R)}}}
    {{{vindex(org-agenda-start-with-clockreport-mode)}}}
    {{{vindex(org-clock-report-include-clocking-task)}}}
    <p>Toggle Clockreport mode. In Clockreport mode, the daily/weekly agenda
      will always show a table with the clocked times for the timespan and
      file scope covered by the current agenda view. The initial setting for
      this mode in new agenda buffers can be set with the variable
      <code>org-agenda-start-with-clockreport-mode</code>. By using a prefix argument
      when toggling this mode (i.e., {{{kbd(C-u R)}}}), the clock table will
      not show contributions from entries that are hidden by agenda
      filtering.<sup><a class="footref" name="fnr.94" href="#fn.94">94</a></sup> See also the variable
      <code>org-clock-report-include-clocking-task</code>.</p>
  </dd>
  <dt>{{{kbd(v c)}}}</dt><dd>
    {{{kindex(v c)}}}
    {{{vindex(org-agenda-clock-consistency-checks)}}}
    <p>Show overlapping clock entries, clocking gaps, and other clocking
      problems in the current agenda range. You can then visit clocking
      lines and fix them manually. See the variable
      <code>org-agenda-clock-consistency-checks</code> for information on how to
      customize the definition of what constituted a clocking problem. To
      return to normal agenda display, press {{{kbd(l)}}} to exit Logbook
      mode.</p>
  </dd>
  <dt>{{{kbd(v E)}}} or short {{{kbd(E)}}}, <code>org-agenda-entry-text-mode</code></dt><dd>
    {{{kindex(v E)}}}
    {{{kindex(E)}}}
    {{{vindex(org-agenda-start-with-entry-text-mode)}}}
    {{{vindex(org-agenda-entry-text-maxlines)}}}
    <p>Toggle entry text mode. In entry text mode, a number of lines from the
      Org outline node referenced by an agenda line will be displayed below
      the line. The maximum number of lines is given by the variable
      <code>org-agenda-entry-text-maxlines</code>. Calling this command with a numeric
      prefix argument will temporarily modify that number to the prefix
      value.</p>
  </dd>
  <dt>{{{kbd(G)}}}, <code>org-agenda-toggle-time-grid</code></dt><dd>
    {{{kindex(G)}}}
    {{{vindex(org-agenda-use-time-grid)}}}
    {{{vindex(org-agenda-time-grid)}}}
    <p>Toggle the time grid on and off. See also the variables
      <code>org-agenda-use-time-grid</code> and <code>org-agenda-time-grid</code>.</p>
  </dd>
  <dt>{{{kbd(r)}}}, <code>org-agenda-redo</code></dt><dd>
    {{{kindex(r)}}}
    <p>Recreate the agenda buffer, for example to reflect the changes after
      modification of the timestamps of items with {{{kbdkey(S-,left)}}} and
      {{{kbdkey(S-,right)}}}.  When the buffer is the global TODO list, a prefix
      argument is interpreted to create a selective list for a specific TODO
      keyword.</p>
  </dd>
  <dt>{{{kbd(g)}}}, <code>org-agenda-redo</code></dt><dd>
    {{{kindex(g)}}}
    <p>Same as {{{kbd(r)}}}.</p>
  </dd>
  <dt>{{{kbd(C-x C-s)}}} or short {{{kbd(s)}}}, <code>org-save-all-org-buffers</code></dt><dd>
    {{{kindex(C-x C-s)}}}
    {{{kindex(s)}}}
    <p>Save all Org buffers in the current Emacs session, and also the
      locations of IDs.</p>
  </dd>
  <dt>{{{kbd(C-c C-x C-c)}}}, <code>org-agenda-columns</code></dt><dd>
    {{{kindex(C-c C-x C-c)}}}
    {{{vindex(org-columns-default-format)}}}
    <p>Invoke column view (see <a href="Column view">Column view</a>) in the agenda buffer. The column
      view format is taken from the entry at point, or (if there is no entry
      at point), from the first entry in the agenda view. So whatever the
      format for that entry would be in the original buffer (taken from a
      property, from a <code>#+COLUMNS</code> line, or from the default variable
      <code>org-columns-default-format</code>), will be used in the agenda.</p>
  </dd>
  <dt>{{{kbd(C-c C-x >)}}}, <code>org-agenda-remove-restriction-lock</code></dt><dd>
    {{{kindex(C-c C-x >)}}}
    <p>Remove the restriction lock on the agenda, if it is currently
      restricted to a file or subtree (see <a href="Agenda files">Agenda files</a>).</p>
  </dd>
</dl>
<h3><span class="heading-number heading-number-3">10.5.4</span> Secondary filtering and query editing</h3>
<p>{{{cindex(filtering, by tag category and effort&#92;\, in agenda)}}}
  {{{cindex(tag filtering&#92;\, in agenda)}}}
  {{{cindex(category filtering&#92;\, in agenda)}}}
  {{{cindex(effort filtering&#92;\, in agenda)}}}
  {{{cindex(query editing&#92;\, in agenda)}}}</p>
<dl>
  <dt>{{{kbd(<)}}}, <code>org-agenda-filter-by-category</code></dt><dd>
    {{{kindex(<)}}}
    {{{vindex(org-agenda-category-filter-preset)}}}
    <p>Filter the current agenda view with respect to the category of the
      item at point. Pressing {{{kbd(&lt;)}}} another time will remove this
      filter. You can add a filter preset through the option
      <code>org-agenda-category-filter-preset</code> (see below).</p>
  </dd>
  <dt>{{{kbd(/)}}}, <code>org-agenda-filter-by-tag</code></dt><dd>
    {{{kindex(/)}}}
    {{{vindex(org-agenda-tag-filter-preset)}}}
    <p>Filter the current agenda view with respect to a tag and/or effort
      estimates. The difference between this and a custom agenda command is
      that filtering is very fast, so that you can switch quickly between
      different filters without having to recreate the
      agenda.<sup><a class="footref" name="fnr.95" href="#fn.95">95</a></sup></p>
    <p>You will be prompted for a tag selection letter; {{{key(SPC)}}} will
      mean any tag at all. Pressing {{{key(TAB)}}} at that prompt will offer
      use completion to select a tag (including any tags that do not have a
      selection character). The command then hides all entries that do not
      contain or inherit this tag. When called with prefix arg, remove the
      entries that <i>do</i> have the tag. A second {{{kbd(/)}}} at the prompt
      will turn off the filter and unhide any hidden entries. If the first
      key you press is either {{{kbd(+)}}} or {{{kbd(-)}}}, the previous
      filter will be narrowed by requiring or forbidding the selected
      additional tag. Instead of pressing {{{kbd(+)}}} or {{{kbd(-)}}} after
      {{{kbd(/)}}}, you can also immediately use the <code>\</code> command.</p>
    <p>{{{vindex(org-sort-agenda-noeffort-is-high)}}}</p>
    <p>In order to filter for effort estimates, you should set up allowed
      efforts globally, for example:</p>
    <pre class="src src-emacs-lisp">
(setq org-global-properties
    '((&quot;Effort_ALL&quot;. &quot;0 0:10 0:30 1:00 2:00 3:00 4:00&quot;)))
    </pre>
    <p>You can then filter for an effort by first typing an operator, one of
      {{{kbd(&lt;)}}}, {{{kbd(&gt;)}}}, and {{{kbd(=)}}}, and then the one-digit
      index of an effort estimate in your array of allowed values, where
      {{{kbd(0)}}} means the 10th value. The filter will then restrict to
      entries with effort smaller-or-equal, equal, or larger-or-equal than
      the selected value. If the digits 0-9 are not used as fast access keys
      to tags, you can also simply press the index digit directly without an
      operator. In this case, {{{kbd(&lt;)}}} will be assumed. For application
      of the operator, entries without a defined effort will be treated
      according to the value of <code>org-sort-agenda-noeffort-is-high</code>. To
      filter for tasks without effort definition, press {{{kbd(?)}}} as the
      operator.</p>
    <p>Org also supports automatic, context-aware tag filtering. If the
      variable <code>org-agenda-auto-exclude-function</code> is set to a user-defined
      function, that function can decide which tags should be excluded from
      the agenda automatically. Once this is set, the {{{kbd(/)}}} command
      then accepts {{{kbd(RET)}}} as a sub-option key and runs the auto
      exclusion logic. For example, let&#8217;s say you use a <code>Net</code> tag to
      identify tasks which need network access, an <code>Errand</code> tag for errands
      in town, and a <code>Call</code> tag for making phone calls. You could
      auto-exclude these tags based on the availability of the Internet, and
      outside of business hours, with something like this:</p>
    <pre class="src src-emacs-lisp">
(defun org-my-auto-exclude-function (tag)
  (and (cond
        ((string= tag &quot;Net&quot;)
         (/= 0 (call-process &quot;/sbin/ping&quot; nil nil nil
                             &quot;-c1&quot; &quot;-q&quot; &quot;-t1&quot; &quot;mail.gnu.org&quot;)))
        ((or (string= tag &quot;Errand&quot;) (string= tag &quot;Call&quot;))
         (let ((hour (nth 2 (decode-time))))
           (or (&lt; hour 8) (&gt; hour 21)))))
       (concat &quot;-&quot; tag)))
(setq org-agenda-auto-exclude-function 'org-my-auto-exclude-function)
    </pre>
  </dd>
  <dt><code>\</code> <code>org-agenda-filter-by-tag-refine</code></dt><dd>
    {{{kindex(XXX)}}}
    <p>Narrow the current agenda filter by an additional condition. When
      called with prefix arg, remove the entries that <i>do</i> have the tag, or
      that do match the effort criterion. You can achieve the same effect by
      pressing {{{kbd(+)}}} or {{{kbd(-)}}} as the first key after the
      {{{kbd(/)}}} command.</p>
  </dd>
  <dt>{{{kbd([)}}} {{{kbd(])}}} {{{kbd({)}}} {{{kbd(})}}} in search view</dt><dd>
    {{{kindex([)}}}
    {{{kindex(])}}}
    {{{kindex(@{)}}}
    {{{kindex(@})}}}
    <p>Add new search words ({{{kbd([)}}} and {{{kbd(])}}}) or new regular
      expressions ({{{kbd({)}}} and {{{kbd(})}}}) to the query string. The
      opening bracket/brace will add a positive search term prefixed by
      {{{samp(+)}}}, indicating that this search term <i>must</i> occur/match in
      the entry. The closing bracket/brace will add a negative search term
      which <i>must not</i> occur/match in the entry for it to be selected.</p>
  </dd>
</dl>
<h3><span class="heading-number heading-number-3">10.5.5</span> Remote editing</h3>
<p>{{{cindex(remote editing&#92;\, from agenda)}}}</p>
<dl>
  <dt>{{{kbd(0&#8211;9)}}}</dt><dd>
    <p>Digit argument.</p>
  </dd>
  <dt>{{{kbd(C-_)}}}, <code>org-agenda-undo</code></dt><dd>
    {{{kindex(C-_)}}}
    {{{cindex(undoing remote-editing events)}}}
    {{{cindex(remote editing&#92;\, undo)}}}
    <p>Undo a change due to a remote editing command. The change is undone
      both in the agenda buffer and in the remote buffer.</p>
  </dd>
  <dt>{{{kbd(t)}}}, <code>org-agenda-todo</code></dt><dd>
    {{{kindex(t)}}}
    <p>Change the TODO state of the item, both in the agenda and in the
      original org file.</p>
  </dd>
  <dt>{{{kbdkey(C-S-,right)}}}, <code>org-agenda-todo-nextset</code></dt><dd>
    {{{kindex(C-S-@key{right})}}}
    <p>Switch to the next set of TODO keywords.</p>
  </dd>
  <dt>{{{kbdkey(C-S-,left)}}}, <code>org-agenda-todo-previousset</code></dt><dd>
    {{{kindex(C-S-@key{left})}}}
    <p>Switch to the previous set of TODO keywords.</p>
  </dd>
  <dt>{{{kbd(C-k)}}}, <code>org-agenda-kill</code></dt><dd>
    {{{kindex(C-k)}}}
    {{{vindex(org-agenda-confirm-kill)}}}
    <p>Delete the current agenda item along with the entire subtree belonging
      to it in the original Org file. If the text to be deleted remotely is
      longer than one line, the kill needs to be confirmed by the user. See
      variable <code>org-agenda-confirm-kill</code>.</p>
  </dd>
  <dt>{{{kbd(C-c C-w)}}}, <code>org-agenda-refile</code></dt><dd>
    {{{kindex(C-c C-w)}}}
    <p>Refile the entry at point.</p>
  </dd>
  <dt>{{{kbd(C-c C-x C-a)}}} or short {{{kbd(a)}}}, <code>org-agenda-archive-default-with-confirmation</code></dt><dd>
    {{{kindex(C-c C-x C-a)}}}
    {{{kindex(a)}}}
    {{{vindex(org-archive-default-command)}}}
    <p>Archive the subtree corresponding to the entry at point using the
      default archiving command set in <code>org-archive-default-command</code>. When
      using the <code>a</code> key, confirmation will be required.</p>
  </dd>
  <dt>{{{kbd(C-c C-x a)}}}, <code>org-agenda-toggle-archive-tag</code></dt><dd>
    {{{kindex(C-c C-x a)}}}
    <p>Toggle the ARCHIVE tag for the current headline.</p>
  </dd>
  <dt>{{{kbd(C-c C-x A)}}}, <code>org-agenda-archive-to-archive-sibling</code></dt><dd>
    {{{kindex(C-c C-x A)}}}
    <p>Move the subtree corresponding to the current entry to its <i>archive
      sibling</i>.</p>
  </dd>
  <dt>{{{kbd(C-c C-x C-s)}}} or short {{{kbd($)}}}, <code>org-agenda-archive</code></dt><dd>
    {{{kindex(C-c C-x C-s)}}}
    {{{kindex($)}}}
    <p>Archive the subtree corresponding to the current headline. This means
      the entry will be moved to the configured archive location, most
      likely a different file.</p>
  </dd>
  <dt>{{{kbd(T)}}}, <code>org-agenda-show-tags</code></dt><dd>
    {{{kindex(T)}}}
    {{{vindex(org-agenda-show-inherited-tags)}}}
    <p>Show all tags associated with the current item. This is useful if you
      have turned off <code>org-agenda-show-inherited-tags</code>, but still want to
      see all tags of a headline occasionally.</p>
  </dd>
  <dt>{{{kbd(:)}}}, <code>org-agenda-set-tags</code></dt><dd>
    {{{kindex(:)}}}
    <p>Set tags for the current headline. If there is an active region in the
      agenda, change a tag for all headings in the region.</p>
  </dd>
  <dt>{{{kbd(,)}}}</dt><dd>
    {{{kindex(XXX)}}}
    <p>Set the priority for the current item (<code>org-agenda-priority</code>). Org
      mode prompts for the priority character. If you reply with
      {{{key(SPC)}}}, the priority cookie is removed from the entry.</p>
  </dd>
  <dt>{{{kbd(P)}}}, <code>org-agenda-show-priority</code></dt><dd>
    {{{kindex(P)}}}
    <p>Display weighted priority of current item.</p>
  </dd>
  <dt>{{{kbd(+)}}} {{{kbdkey(S-,up)}}}, <code>org-agenda-priority-up</code></dt><dd>
    {{{kindex(+)}}}
    <p>Increase the priority of the current item. The priority is changed in
      the original buffer, but the agenda is not resorted. Use the
      {{{kbd(r)}}} key for this.</p>
  </dd>
  <dt>{{{kbd(-)}}} {{{kbdkey(S-,down)}}}, <code>org-agenda-priority-down</code></dt><dd>
    {{{kindex(-)}}}
    <p>Decrease the priority of the current item.</p>
  </dd>
  <dt>{{{kbd(z)}}} {{{kbd(C-c C-z)}}}, <code>org-agenda-add-note</code></dt><dd>
    {{{kindex(z)}}}
    {{{vindex(org-log-into-drawer)}}}
    <p>Add a note to the entry. This note will be recorded, and then filed to
      the same location where state change notes are put. Depending on
      <code>org-log-into-drawer</code>, this may be inside a drawer.</p>
  </dd>
  <dt>{{{kbd(C-c C-a)}}}, <code>org-attach</code></dt><dd>
    {{{kindex(C-c C-a)}}}
    <p>Dispatcher for all command related to attachments.</p>
  </dd>
  <dt>{{{kbd(C-c C-s)}}}, <code>org-agenda-schedule</code></dt><dd>
    {{{kindex(C-c C-s)}}}
    <p>Schedule this item.  With prefix arg remove the scheduling timestamp</p>
  </dd>
  <dt>{{{kbd(C-c C-d)}}}, <code>org-agenda-deadline</code></dt><dd>
    {{{kindex(C-c C-d)}}}
    <p>Set a deadline for this item.  With prefix arg remove the deadline.</p>
  </dd>
  <dt>{{{kbdkey(S-,right)}}}, <code>org-agenda-do-date-later</code></dt><dd>
    {{{kindex(S-@key{right})}}}
    <p>Change the timestamp associated with the current line by one day into
      the future. If the date is in the past, the first call to this command
      will move it to today. With a numeric prefix argument, change it by
      that many days. For example, {{{kbdkey(3 6 5 S-,right)}}} will change
      it by a year. With a {{{kbd(C-u)}}} prefix, change the time by one
      hour. If you immediately repeat the command, it will continue to
      change hours even without the prefix arg. With a double
      {{{kbd(C-u C-u)}}} prefix, do the same for changing minutes. The stamp is changed
      in the original Org file, but the change is not directly reflected in
      the agenda buffer. Use {{{kbd(r)}}} or {{{kbd(g)}}} to update the
      buffer.</p>
  </dd>
  <dt>{{{kbdkey(S-,left)}}}, <code>org-agenda-do-date-earlier</code></dt><dd>
    {{{kindex(S-@key{left})}}}
    <p>Change the timestamp associated with the current line by one day
      into the past.</p>
  </dd>
  <dt>{{{kbd(>)}}}, <code>org-agenda-date-prompt</code></dt><dd>
    {{{kindex(>)}}}
    <p>Change the timestamp associated with the current line. The key
      {{{kbd(&gt;)}}} has been chosen, because it is the same as {{{kbd(S-.)}}}
      on my keyboard.</p>
  </dd>
  <dt>{{{kbd(I)}}}, <code>org-agenda-clock-in</code></dt><dd>
    {{{kindex(I)}}}
    <p>Start the clock on the current item. If a clock is running already, it
      is stopped first.</p>
  </dd>
  <dt>{{{kbd(O)}}}, <code>org-agenda-clock-out</code></dt><dd>
    {{{kindex(O)}}}
    <p>Stop the previously started clock.</p>
  </dd>
  <dt>{{{kbd(X)}}}, <code>org-agenda-clock-cancel</code></dt><dd>
    {{{kindex(X)}}}
    <p>Cancel the currently running clock.</p>
  </dd>
  <dt>{{{kbd(J)}}}, <code>org-agenda-clock-goto</code></dt><dd>
    {{{kindex(J)}}}
    <p>Jump to the running clock in another window.</p>
  </dd>
  <dt>{{{kbd(k)}}}, <code>org-agenda-capture</code></dt><dd>
    {{{kindex(k)}}}
    {{{cindex(capturing&#92;\, from agenda)}}}
    {{{vindex(org-capture-use-agenda-date)}}}
    <p>Like <code>org-capture</code>, but use the date at point as the default date for
      the capture template.  See <code>org-capture-use-agenda-date</code> to make this
      the default behavior of <code>org-capture</code>.</p>
  </dd>
</dl>
<h3><span class="heading-number heading-number-3">10.5.6</span> Bulk remote editing selected entries</h3>
<p>{{{cindex(remote editing&#92;\, bulk&#92;\, from agenda)}}}
  {{{vindex(org-agenda-bulk-persistent-marks)}}}
  {{{vindex(org-agenda-bulk-custom-functions)}}}</p>
<dl>
  <dt>{{{kbd(m)}}}, <code>org-agenda-bulk-mark</code></dt><dd>
    {{{kindex(m)}}}
    <p>Mark the entry at point for bulk action. With prefix arg, mark that
      many successive entries.</p>
  </dd>
  <dt>{{{kbd(%)}}}, <code>org-agenda-bulk-mark-regexp</code></dt><dd>
    {{{kindex(%)}}}
    <p>Mark entries matching a regular expression for bulk action.</p>
  </dd>
  <dt>{{{kbd(u)}}}, <code>org-agenda-bulk-unmark</code></dt><dd>
    {{{kindex(u)}}}
    <p>Unmark entry for bulk action.</p>
  </dd>
  <dt>{{{kbd(U)}}}, <code>org-agenda-bulk-remove-all-marks</code></dt><dd>
    {{{kindex(U)}}}
    <p>Unmark all marked entries for bulk action.</p>
  </dd>
  <dt>{{{kbd(B)}}}, <code>org-agenda-bulk-action</code></dt><dd>
    {{{kindex(B)}}}
    <p>Bulk action: act on all marked entries in the agenda. This will prompt
      for another key to select the action to be applied. The prefix arg to
      {{{kbd(B)}}} will be passed through to the {{{kbd(s)}}} and
      {{{kbd(d)}}} commands, to bulk-remove these special timestamps. By
      default, marks are removed after the bulk. If you want them to
      persist, set <code>org-agenda-bulk-persistent-marks</code> to <code>t</code> or hit
      {{{kbd(p)}}} at the prompt.</p>
    <dl>
      <dt>{{{kbd(*)}}}</dt><dd>
        <p>Toggle persistent marks.</p>
      </dd>
      <dt>{{{kbd($)}}}</dt><dd>
        <p>Archive all selected entries.</p>
      </dd>
      <dt>{{{kbd(A)}}}</dt><dd>
        <p>Archive entries by moving them to their respective archive siblings.</p>
      </dd>
      <dt>{{{kbd(t)}}}</dt><dd>
        <p>Change TODO state. This prompts for a single TODO keyword and changes
          the state of all selected entries, bypassing blocking and suppressing
          logging notes (but not timestamps).</p>
      </dd>
      <dt>{{{kbd(+)}}}</dt><dd>
        <p>Add a tag to all selected entries.</p>
      </dd>
      <dt>{{{kbd(-)}}}</dt><dd>
        <p>Remove a tag from all selected entries.</p>
      </dd>
      <dt>{{{kbd(s)}}}</dt><dd>
        <p>Schedule all items to a new date. To shift existing schedule dates by
          a fixed number of days, use something starting with double plus at the
          prompt, for example {{{samp(++8d)}}} or {{{samp(++2w)}}}.</p>
      </dd>
      <dt>{{{kbd(d)}}}</dt><dd>
        <p>Set deadline to a specific date.</p>
      </dd>
      <dt>{{{kbd(r)}}}</dt><dd>
        <p>Prompt for a single refile target and move all entries. The entries
          will no longer be in the agenda; refresh ({{{kbd(g)}}}) to bring them
          back.</p>
      </dd>
      <dt>{{{kbd(S)}}}</dt><dd>
        <p>Reschedule randomly into the coming N days. N will be prompted for.
          With prefix arg ({{{kbd(C-u B S)}}}), scatter only across weekdays.</p>
      </dd>
      <dt>{{{kbd(f)}}}</dt><dd>
        <p>Apply a function to marked entries.<sup><a class="footref" name="fnr.96" href="#fn.96">96</a></sup> For example, the function
          below sets the CATEGORY property of the entries to web.</p>
        <pre class="src src-emacs-lisp">
(defun set-category ()
  (interactive &quot;P&quot;)
  (let* ((marker (or (org-get-at-bol 'org-hd-marker)
                     (org-agenda-error)))
         (buffer (marker-buffer marker)))
    (with-current-buffer buffer
      (save-excursion
        (save-restriction
          (widen)
          (goto-char marker)
          (org-back-to-heading t)
          (org-set-property &quot;CATEGORY&quot; &quot;web&quot;))))))
        </pre>
      </dd>
    </dl>
  </dd>
</dl>
<h3><span class="heading-number heading-number-3">10.5.7</span> Calendar commands</h3>
<p>{{{cindex(calendar commands&#92;\, from agenda)}}}</p>
<dl>
  <dt>{{{kbd(c)}}}, <code>org-agenda-goto-calendar</code></dt><dd>
    {{{kindex(c)}}}
    <p>Open the Emacs calendar and move to the date at the agenda cursor.</p>
  </dd>
  <dt>{{{kbd(c)}}}, <code>org-calendar-goto-agenda</code></dt><dd>
    {{{kindex(c)}}}
    <p>When in the calendar, compute and show the Org mode agenda for the
      date at the cursor.</p>
  </dd>
  <dt>{{{kbd(i)}}}, <code>org-agenda-diary-entry</code></dt><dd>
    {{{kindex(i)}}}
    {{{vindex(org-agenda-diary-file)}}}
    {{{cindex(diary entries&#92;\, creating from agenda)}}}
    <p>Insert a new entry into the diary, using the date at the cursor and
      (for block entries) the date at the mark. This will add to the Emacs
      diary file, in a way similar to the {{{kbd(i)}}} command in the
      calendar.<sup><a class="footref" name="fnr.97" href="#fn.97">97</a></sup> The diary file will pop up in another window, where
      you can add the entry.</p>
    <p>If you configure <code>org-agenda-diary-file</code> to point to an Org mode file,
      Org will create entries (in Org mode syntax) in that file instead.
      Most entries will be stored in a date-based outline tree that will
      later make it easy to archive appointments from previous months/years.
      The tree will be built under an entry with a <code>DATE_TREE</code> property, or
      else with years as top-level entries. Emacs will prompt you for the
      entry text&#8212;if you specify it, the entry will be created in
      <code>org-agenda-diary-file</code> without further interaction. If you directly
      press {{{key(RET)}}} at the prompt without typing text, the target
      file will be shown in another window for you to finish the entry
      there. See also the {{{kbd(k r)}}} command.</p>
  </dd>
  <dt>{{{kbd(M)}}}, <code>org-agenda-phases-of-moon</code></dt><dd>
    {{{kindex(M)}}}
    <p>Show the phases of the moon for the three months around current date.</p>
  </dd>
  <dt>{{{kbd(S)}}}, <code>org-agenda-sunrise-sunset</code></dt><dd>
    {{{kindex(S)}}}
    <p>Show sunrise and sunset times. The geographical location must be set
      with calendar variables, see the documentation for the Emacs calendar.</p>
  </dd>
  <dt>{{{kbd(C)}}}, <code>org-agenda-convert-date</code></dt><dd>
    {{{kindex(C)}}}
    <p>Convert the date at cursor into many other cultural and historic
      calendars.</p>
  </dd>
  <dt>{{{kbd(H)}}}, <code>org-agenda-holidays</code></dt><dd>
    {{{kindex(H)}}}
    <p>Show holidays for three months around the cursor date.</p>
  </dd>
  <dt>{{{kbd(M-x org-export-icalendar-combine-agenda-files)}}}</dt><dd>
    <p>Export a single iCalendar file containing entries from all agenda
      files. This is a globally available command, and also available in the
      agenda menu.</p>
  </dd>
</dl>
<h3><span class="heading-number heading-number-3">10.5.8</span> Exporting to a file</h3>
<dl>
  <dt>{{{kbd(C-x C-w)}}}, <code>org-agenda-write</code></dt><dd>
    {{{kindex(C-x C-w)}}}
    {{{cindex(exporting agenda views)}}}
    {{{cindex(agenda views&#92;\, exporting)}}}
    {{{vindex(org-agenda-exporter-settings)}}}
    <p>Write the agenda view to a file. Depending on the extension of the
      selected file name, the view will be exported as HTML (extension
      {{{file(.html)}}} or {{{file(.htm)}}}), Postscript (extension
      {{{file(.ps)}}}), PDF (extension {{{file(.pdf)}}}), and plain text
      (any other extension). When called with a {{{kbd(C-u)}}} prefix
      argument, immediately open the newly created file. Use the variable
      <code>org-agenda-exporter-settings</code> to set options for {{{file(ps-print)}}}
      and for {{{file(htmlize)}}} to be used during export.</p>
  </dd>
</dl>
<h3><span class="heading-number heading-number-3">10.5.9</span> Quit and exit</h3>
<dl>
  <dt>{{{kbd(q)}}}, <code>org-agenda-quit</code></dt><dd>
    {{{kindex(q)}}}
    <p>Quit agenda, remove the agenda buffer.</p>
  </dd>
  <dt>{{{kbd(x)}}}, <code>org-agenda-exit</code></dt><dd>
    {{{kindex(x)}}}
    {{{cindex(agenda files&#92;\, removing buffers)}}}
    <p>Exit agenda, remove the agenda buffer and all buffers loaded by Emacs
      for the compilation of the agenda. Buffers created by the user to
      visit Org files will not be removed.</p>
  </dd>
</dl>
<h2><span class="heading-number heading-number-2">10.6</span> Custom agenda views</h2>{{{cindex(custom agenda views)}}}
  {{{cindex(agenda views&#92;\, custom)}}}
<p>Custom agenda commands serve two purposes: to store and quickly access
  frequently used TODO and tags searches, and to create special composite
  agenda buffers.  Custom agenda commands will be accessible through the
  dispatcher (see <a href="Agenda dispatcher">Agenda dispatcher</a>), just like the default commands.</p>
<h3><span class="heading-number heading-number-3">10.6.1</span> Storing searches</h3>
<p>The first application of custom searches is the definition of keyboard
  shortcuts for frequently used searches, either creating an agenda
  buffer, or a sparse tree (the latter covering of course only the
  current buffer).</p>
<p>{{{kindex(C-c a C)}}}
  {{{vindex(org-agenda-custom-commands)}}}</p>
<p>Custom commands are configured in the variable
  <code>org-agenda-custom-commands</code>. You can customize this variable, for
  example by pressing {{{kbd(C-c a C)}}}. You can also directly set it
  with Emacs Lisp in {{{file(.emacs)}}}. The following example contains
  all valid search types:</p>
<pre class="src src-emacs-lisp">
(setq org-agenda-custom-commands
      '((&quot;w&quot; todo &quot;WAITING&quot;)
        (&quot;W&quot; todo-tree &quot;WAITING&quot;)
        (&quot;u&quot; tags &quot;+boss-urgent&quot;)
        (&quot;v&quot; tags-todo &quot;+boss-urgent&quot;)
        (&quot;U&quot; tags-tree &quot;+boss-urgent&quot;)
        (&quot;f&quot; occur-tree &quot;\\&lt;FIXME\\&gt;&quot;)
        (&quot;h&quot; . &quot;HOME+Name tags searches&quot;) ; description for &quot;h&quot; prefix
        (&quot;hl&quot; tags &quot;+home+Lisa&quot;)
        (&quot;hp&quot; tags &quot;+home+Peter&quot;)
        (&quot;hk&quot; tags &quot;+home+Kim&quot;)))
</pre>
<p>{{{noindent}}} The initial string in each entry defines the keys you
  have to press after the dispatcher command {{{kbd(C-c a)}}} in order
  to access the command. Usually this will be just a single character,
  but if you have many similar commands, you can also define two-letter
  combinations where the first character is the same in several
  combinations and serves as a prefix key.<sup><a class="footref" name="fnr.98" href="#fn.98">98</a></sup> The second parameter
  is the search type, followed by the string or regular expression to be
  used for the matching. The example above will therefore define:</p>
<dl>
  <dt>C-c a w</dt><dd>
    <p>A global search for TODO entries with {{{samp(WAITING)}}} as the TODO
      keyword.</p>
  </dd>
  <dt>C-c a W</dt><dd>
    <p>The same search, but only in the current buffer and displaying the
      results as a sparse tree.</p>
  </dd>
  <dt>C-c a u</dt><dd>
    <p>A global tags search for headlines marked {{{samp(:boss:)}}} but not
      {{{samp(:urgent:)}}}.</p>
  </dd>
  <dt>C-c a v</dt><dd>
    <p>The same search as {{{kbd(C-c a u)}}}, but limiting the search to
      headlines that are also TODO items.</p>
  </dd>
  <dt>C-c a U</dt><dd>
    <p>The same search as {{{kbd(C-c a u)}}}, but only in the current buffer and
      displaying the result as a sparse tree.</p>
  </dd>
  <dt>C-c a f</dt><dd>
    <p>Create a sparse tree (again: current buffer only) with all entries
      containing the word {{{samp(FIXME)}}}</p>
  </dd>
  <dt>C-c a h</dt><dd>
    <p>A prefix command for a HOME tags search where you have to press an
      additional key ({{{kbd(l)}}}, {{{kbd(p)}}} or {{{kbd(k)}}}) to select
      a name (Lisa, Peter, or Kim) as additional tag to match.</p>
  </dd>
</dl>
<h3><span class="heading-number heading-number-3">10.6.2</span> Block agenda</h3>{{{cindex(block agenda)}}}
  {{{cindex(agenda&#92;\, with block views)}}}
<p>Another possibility is the construction of agenda views that comprise
  the results of <i>several</i> commands, each of which creates a block in
  the agenda buffer. The available commands include <code>agenda</code> for the
  daily or weekly agenda (as created with {{{kbd(C-c a a)}}}), <code>alltodo</code>
  for the global TODO list (as constructed with {{{kbd(C-c a t)}}}), and
  the matching commands discussed above: <code>todo</code>, <code>tags</code>, and
  <code>tags-todo</code>. Here are two examples:</p>
<pre class="src src-emacs-lisp">
(setq org-agenda-custom-commands
      '((&quot;h&quot; &quot;Agenda and Home-related tasks&quot;
         ((agenda &quot;&quot;)
          (tags-todo &quot;home&quot;)
          (tags &quot;garden&quot;)))
        (&quot;o&quot; &quot;Agenda and Office-related tasks&quot;
         ((agenda &quot;&quot;)
          (tags-todo &quot;work&quot;)
          (tags &quot;office&quot;)))))
</pre>
<p>{{{noindent}}} This will define {{{kbd(C-c a h)}}} to create a
  multi-block view for stuff you need to attend to at home. The
  resulting agenda buffer will contain your agenda for the current week,
  all TODO items that carry the tag {{{samp(home)}}}, and also all lines
  tagged with {{{samp(garden)}}}. Finally the command {{{kbd(C-c a o)}}}
  provides a similar view for office tasks.</p>
<h3><span class="heading-number heading-number-3">10.6.3</span> Setting options for custom commands</h3>{{{cindex(options&#92;\, for custom agenda views)}}}
  {{{vindex(org-agenda-custom-commands)}}}
<p>Org mode contains a number of variables regulating agenda construction
  and display. The global variables define the behavior for all agenda
  commands, including the custom commands. However, if you want to
  change some settings just for a single custom view, you can do so.
  Setting options requires inserting a list of variable names and values
  at the right spot in <code>org-agenda-custom-commands</code>. For example:</p>
<pre class="src src-emacs-lisp">
(setq org-agenda-custom-commands
      '((&quot;w&quot; todo &quot;WAITING&quot;
         ((org-agenda-sorting-strategy '(priority-down))
          (org-agenda-prefix-format &quot;  Mixed: &quot;)))
        (&quot;U&quot; tags-tree &quot;+boss-urgent&quot;
         ((org-show-following-heading nil)
          (org-show-hierarchy-above nil)))
        (&quot;N&quot; search &quot;&quot;
         ((org-agenda-files '(&quot;~org/notes.org&quot;))
          (org-agenda-text-search-extra-files nil)))))
</pre>
<p>{{{noindent}}} Now the {{{kbd(C-c a w)}}} command will sort the
  collected entries only by priority, and the prefix format is modified
  to just say {{{samp( Mixed: )}}} instead of giving the category of the
  entry. The sparse tags tree of {{{kbd(C-c a U)}}} will now turn out
  ultra-compact, because neither the headline hierarchy above the match,
  nor the headline following the match will be shown. The command
  {{{kbd(C-c a N)}}} will do a text search limited to only a single
  file.</p>
<p>{{{vindex(org-agenda-custom-commands)}}}</p>
<p>For command sets creating a block agenda, <code>org-agenda-custom-commands</code>
  has two separate spots for setting options. You can add options that
  should be valid for just a single command in the set, and options that
  should be valid for all commands in the set. The former are just added
  to the command entry; the latter must come after the list of command
  entries. Going back to the block agenda example (see @&lt;a href=&#8221;Block
  agenda&#8221;&gt;Block
  agenda</a>), let&#8217;s change the sorting strategy for the {{{kbd(C-c a
  h)}}} commands to <code>priority-down</code>, but let&#8217;s sort the results for
  GARDEN tags query in the opposite order, <code>priority-up</code>. This would
  look like this:</p>
<pre class="src src-emacs-lisp">
(setq org-agenda-custom-commands
      '((&quot;h&quot; &quot;Agenda and Home-related tasks&quot;
         ((agenda)
          (tags-todo &quot;home&quot;)
          (tags &quot;garden&quot;
                ((org-agenda-sorting-strategy '(priority-up)))))
         ((org-agenda-sorting-strategy '(priority-down))))
        (&quot;o&quot; &quot;Agenda and Office-related tasks&quot;
         ((agenda)
          (tags-todo &quot;work&quot;)
          (tags &quot;office&quot;)))))
</pre>
<p>As you see, the values and parentheses setting is a little complex.
  When in doubt, use the customize interface to set this variable&#8212;it
  fully supports its structure. Just one caveat: when setting options in
  this interface, the <i>values</i> are just Lisp expressions. So if the
  value is a string, you need to add the double-quotes around the value
  yourself.</p>
<p>{{{vindex(org-agenda-custom-commands-contexts)}}}</p>
<p>To control whether an agenda command should be accessible from a
  specific context, you can customize
  <code>org-agenda-custom-commands-contexts</code>. Let&#8217;s say for example that you
  have an agenda command {{{kbd(o)}}} displaying a view that you only
  need when reading emails. Then you would configure this option like
  this:</p>
<pre class="src src-emacs-lisp">
(setq org-agenda-custom-commands-contexts
      '((&quot;o&quot; (in-mode . &quot;message-mode&quot;))))
</pre>
<p>You can also tell that the command key {{{kbd(o)}}} should refer to another
  command key {{{kbd(r)}}}.  In that case, add this command key like this:</p>
<pre class="src src-emacs-lisp">
(setq org-agenda-custom-commands-contexts
      '((&quot;o&quot; &quot;r&quot; (in-mode . &quot;message-mode&quot;))))
</pre>
<p>See the docstring of the variable for more information.</p>
<h2><span class="heading-number heading-number-2">10.7</span> Exporting agenda views</h2>{{{cindex(agenda views&#92;\, exporting)}}}
<p>If you are away from your computer, it can be very useful to have a
  printed version of some agenda views to carry around. Org mode can
  export custom agenda views as plain text, HTML, Postscript,
  PDF, and iCalendar files.<sup><a class="footref" name="fnr.99" href="#fn.99">99</a></sup> If you want to
  do this only occasionally, use the following command:</p>
<dl>
  <dt>{{{kbd(C-x C-w)}}}, <code>org-agenda-write</code></dt><dd>
    <p>{{{cindex(exporting agenda views)}}}
      {{{cindex(agenda views&#92;\, exporting)}}}
      {{{vindex(org-agenda-exporter-settings)}}}</p>
    <p>Write the agenda view to a file. Depending on the extension of the
      selected file name, the view will be exported as HTML (extension
      {{{file(.html)}}} or {{{file(.htm)}}}), Postscript (extension
      {{{file(.ps)}}}), iCalendar (extension {{{file(.ics)}}}), or plain
      text (any other extension). Use the variable
      <code>org-agenda-exporter-settings</code> to set options for {{{file(ps-print)}}}
      and for {{{file(htmlize)}}} to be used during export, for example:</p>
    <p>{{{vindex(org-agenda-add-entry-text-maxlines)}}}
      {{{vindex(htmlize-output-type)}}}
      {{{vindex(ps-number-of-columns)}}}
      {{{vindex(ps-landscape-mode)}}}</p>
    <pre class="src src-emacs-lisp">
(setq org-agenda-exporter-settings
      '((ps-number-of-columns 2)
        (ps-landscape-mode t)
        (org-agenda-add-entry-text-maxlines 5)
        (htmlize-output-type 'css)))
    </pre>
  </dd>
</dl>
<p>If you need to export certain agenda views frequently, you can
  associate any custom agenda command with a list of output file
  names.<sup><a class="footref" name="fnr.100" href="#fn.100">100</a></sup> Here is an example that first defines custom commands
  for the agenda and the global TODO list, together with a number of
  files to which to export them. Then we define two block agenda
  commands and specify file names for them as well. File names can be
  relative to the current working directory, or absolute.</p>
<pre class="src src-emacs-lisp">
(setq org-agenda-custom-commands
      '((&quot;X&quot; agenda &quot;&quot; nil (&quot;agenda.html&quot; &quot;agenda.ps&quot;))
        (&quot;Y&quot; alltodo &quot;&quot; nil (&quot;todo.html&quot; &quot;todo.txt&quot; &quot;todo.ps&quot;))
        (&quot;h&quot; &quot;Agenda and Home-related tasks&quot;
         ((agenda &quot;&quot;)
          (tags-todo &quot;home&quot;)
          (tags &quot;garden&quot;))
         nil
         (&quot;~/views/home.html&quot;))
        (&quot;o&quot; &quot;Agenda and Office-related tasks&quot;
         ((agenda)
          (tags-todo &quot;work&quot;)
          (tags &quot;office&quot;))
         nil
         (&quot;~/views/office.ps&quot; &quot;~/calendars/office.ics&quot;))))
</pre>
<p>The extension of the file name determines the type of export. If it is
  {{{file(.html)}}}, Org mode will use the {{{file(htmlize.el)}}}
  package to convert the buffer to HTML and save it to this file name.
  If the extension is {{{file(.ps)}}}, <code>ps-print-buffer-with-faces</code> is
  used to produce Postscript output. If the extension is
  {{{file(.ics)}}}, iCalendar export is run export over all files that
  were used to construct the agenda, and limit the export to entries
  listed in the agenda. Any other extension produces a plain ASCII file.</p>
<p>The export files are <i>not</i> created when you use one of those
  commands interactively because this might use too much overhead.
  Instead, there is a special command to produce <i>all</i> specified
  files in one step:</p>
<dl>
  <dt>{{{kbd(C-c a e)}}}, <code>org-store-agenda-views</code></dt><dd>
    <p>Export all agenda views that have export file names associated with
      them.</p>
  </dd>
</dl>
<p>You can use the options section of the custom agenda commands to also
  set options for the export commands.  For example:</p>
<pre class="src src-emacs-lisp">
(setq org-agenda-custom-commands
      '((&quot;X&quot; agenda &quot;&quot;
         ((ps-number-of-columns 2)
          (ps-landscape-mode t)
          (org-agenda-prefix-format &quot; [ ] &quot;)
          (org-agenda-with-colors nil)
          (org-agenda-remove-tags t))
         (&quot;theagenda.ps&quot;))))
</pre>
<p>{{{noindent}}} This command sets two options for the Postscript
  exporter, to make it print in two columns in landscape format&#8212;the
  resulting page can be cut in two and then used in a paper agenda. The
  remaining settings modify the agenda prefix to omit category and
  scheduling information, and instead include a checkbox to check off
  items. We also remove the tags to make the lines compact, and we don&#8217;t
  want to use colors for the black-and-white printer. Settings specified
  in <code>org-agenda-exporter-settings</code> will also apply, but the settings in
  <code>org-agenda-custom-commands</code> take precedence.</p>
<p>{{{noindent}}} From the command line you may also use:</p>
<pre class="src src-sh">
emacs -eval (org-batch-store-agenda-views) -kill
</pre>
<p>{{{noindent}}} or, if you need to modify some parameters:<sup><a class="footref" name="fnr.101" href="#fn.101">101</a></sup></p>
<pre class="example">
emacs -eval '(org-batch-store-agenda-views                      \
              org-agenda-span (quote month)                     \
              org-agenda-start-day &quot;2007-11-01&quot;                 \
              org-agenda-include-diary nil                      \
              org-agenda-files (quote (&quot;~/org/project.org&quot;)))'  \
      -kill
</pre>
<p>{{{noindent}}} which will create the agenda views restricted to the
  file {{{file(~/org/project.org)}}}, without diary entries and with a
  30-day extent.</p>
<p>You can also extract agenda information in a way that allows further
  processing by other programs.  See <a href="Extracting agenda information">Extracting agenda information</a>, for
  more information.</p>
<h2><span class="heading-number heading-number-2">10.8</span> Using column view in the agenda</h2>{{{cindex(column view&#92;\, in agenda)}}}
  {{{cindex(agenda&#92;\, column view)}}}
  &lt;&lt;Agenda column view&gt;&gt;
<p>Column view (see <a href="Column view">Column view</a>) is normally used to view and edit
  properties embedded in the hierarchical structure of an Org file. It
  can be quite useful to use column view also from the agenda, where
  entries are collected by certain criteria.</p>
<dl>
  <dt>{{{kbd(C-c C-x C-c)}}}, <code>org-agenda-columns</code></dt><dd>
    <p>Turn on column view in the agenda.</p>
  </dd>
</dl>
<p>To understand how to use this properly, it is important to realize that the
  entries in the agenda are no longer in their proper outline environment.
  This causes the following issues:</p>
<ol>
  <li>Org needs to make a decision which <code>COLUMNS</code> format to use. Since
    the entries in the agenda are collected from different files, and
    different files may have different <code>COLUMNS</code> formats, this is a
    non-trivial problem. Org first checks if the variable
    <code>org-agenda-overriding-columns-format</code> is currently set, and if so,
    takes the format from there. Otherwise it takes the format
    associated with the first item in the agenda, or, if that item does
    not have a specific format (defined in a property, or in its file),
    it uses <code>org-columns-default-format</code>.
    <p>{{{vindex(org-columns-default-format)}}}
      {{{vindex(org-overriding-columns-format)}}}</p>
  </li>
  <li>If any of the columns has a summary type defined (see @&lt;a href=&#8221;Column
    attributes&#8221;&gt;Column
    attributes</a>), turning on column view in the agenda will visit all
    relevant agenda files and make sure that the computations of this
    property are up to date. This is also true for the special
    <code>CLOCKSUM</code> property. Org will then sum the values displayed in the
    agenda. In the daily/weekly agenda, the sums will cover a single
    day; in all other views they cover the entire block. It is vital to
    realize that the agenda may show the same entry <i>twice</i> (for
    example as scheduled and as a deadline), and it may show two
    entries from the same hierarchy (for example a <i>parent</i> and its
    <i>child</i>). In these cases, the summation in the agenda will lead to
    incorrect results because some values will count double.
    <p>{{{cindex(property, special, CLOCKSUM)}}}</p>
  </li>
  <li>When the column view in the agenda shows the <code>CLOCKSUM</code>, that is
    always the entire clocked time for this item. So even in the
    daily/weekly agenda, the clocksum listed in column view may
    originate from times outside the current view. This has the
    advantage that you can compare these values with a column listing
    the planned total effort for a task&#8212;one of the major applications
    for column view in the agenda. If you want information about
    clocked time in the displayed period use clock table mode (press
    {{{kbd(R)}}} in the agenda).</li>
  <li>When the column view in the agenda shows the <code>CLOCKSUM_T</code>, that is
    always today&#8217;s clocked time for this item.  So even in the weekly agenda,
    the clocksum listed in column view only originates from today.  This lets
    you compare the time you spent on a task for today, with the time already
    spent (via <code>CLOCKSUM</code>) and with the planned total effort for it.
    <p>{{{cindex(property, special, CLOCKSUM_T)}}}</p>
  </li>
</ol>
<h1><span class="heading-number heading-number-1">11</span> Markup for rich export</h1>
<p>When exporting Org mode documents, the exporter tries to reflect the
  structure of the document as accurately as possible in the backend.
  Since export targets like HTML, LaTeX, or DocBook allow much richer
  formatting, Org mode has rules on how to prepare text for rich export.
  This section summarizes the markup rules used in an Org mode buffer.</p>
<h2><span class="heading-number heading-number-2">11.1</span> Structural markup elements</h2>
<h3><span class="heading-number heading-number-3">11.1.1</span> Document title</h3>{{{cindex(document title&#92;\, markup rules)}}}
<p>{{{noindent}}} The title of the exported document is taken from the
  special line:</p>
<p>{{{cindex(#+TITLE)}}}</p>
<pre class="example">
,#+TITLE: This is the title of the document
</pre>
<p>{{{noindent}}} If this line does not exist, the title is derived from
  the first non-empty, non-comment line in the buffer. If no such line
  exists, or if you have turned off exporting of the text before the
  first headline (see below), the title will be the file name without
  extension.</p>
<p>{{{cindex(property&#92;\, EXPORT_TITLE)}}}</p>
<p>If you are exporting only a subtree by marking is as the region, the
  heading of the subtree will become the title of the document. If the
  subtree has a property <code>EXPORT_TITLE</code>, that will take precedence.</p>
<h3><span class="heading-number heading-number-3">11.1.2</span> Headings and sections</h3>{{{cindex(headings and sections&#92;\, markup rules)}}}
<p>{{{vindex(org-export-headline-levels)}}}</p>
<p>The outline structure of the document as described in @&lt;a href=&#8221;Document
  structure&#8221;&gt;Document
  structure</a>, forms the basis for defining sections of the exported
  document. However, since the outline structure is also used for (for
  example) lists of tasks, only the first three outline levels will be
  used as headings. Deeper levels will become itemized lists. You can
  change the location of this switch globally by setting the variable
  <code>org-export-headline-levels</code>, or on a per-file basis with the <code>H</code> option:</p>
<p>{{{cindex(#+OPTIONS)}}}</p>
<pre class="example">
,#+OPTIONS: H:4
</pre>
<h3><span class="heading-number heading-number-3">11.1.3</span> Table of contents</h3>{{{cindex(table of contents&#92;\, markup rules)}}}
<p>{{{vindex(org-export-with-toc)}}}</p>
<p>The table of contents is normally inserted directly before the first
  headline of the file. If you would like to get it to a different
  location, insert the string <code>[TABLE-OF-CONTENTS]</code> on a line by itself
  at the desired location. The depth of the table of contents is by
  default the same as the number of headline levels, but you can choose
  a smaller number, or turn off the table of contents entirely, by
  configuring the variable <code>org-export-with-toc</code>, or on a per-file basis
  with the <code>toc</code> option:</p>
<pre class="example">
,#+OPTIONS: toc:2          (only to two levels in TOC)
,#+OPTIONS: toc:nil        (no TOC at all)
</pre>
<h3><span class="heading-number heading-number-3">11.1.4</span> Initial text</h3>{{{cindex(text before first headline&#92;\, markup rules)}}}
  {{{cindex(#+TEXT)}}}
<p>Org mode normally exports the text before the first headline, and even uses
  the first line as the document title.  The text will be fully marked up.  If
  you need to include literal HTML, LaTeX, or DocBook code, use the special
  constructs described below in the sections for the individual exporters.</p>
<p>{{{vindex(org-export-skip-text-before-1st-heading)}}}</p>
<p>Some people like to use the space before the first headline for setup
  and internal links and therefore would like to control the exported
  text before the first headline in a different way. You can do so by
  setting the variable <code>org-export-skip-text-before-1st-heading</code> to <code>t</code>.
  On a per-file basis, you can get the same effect with
  {{{samp(#+OPTIONS: skip:t)}}}.</p>
<p>{{{noindent}}}</p>
<p>If you still want to have some text before the first headline, use the
  <code>#+TEXT</code> construct:</p>
<pre class="example">
,#+OPTIONS: skip:t
,#+TEXT: This text will go before the *first* headline.
,#+TEXT: [TABLE-OF-CONTENTS]
,#+TEXT: This goes between the table of contents and the *first* headline
</pre>
<h3><span class="heading-number heading-number-3">11.1.5</span> Lists</h3>{{{cindex(lists&#92;\, markup rules)}}}
<p>Plain lists as described in <a href="Plain lists">Plain lists</a>, are translated to the
  backend&#8217;s syntax for such lists. Most backends support unordered,
  ordered, and description lists.</p>
<h3><span class="heading-number heading-number-3">11.1.6</span> Paragraphs</h3>{{{cindex(paragraphs&#92;\, markup rules)}}}
<p>Paragraphs are separated by at least one empty line. If you need to
  enforce a line break within a paragraph, use <code>\\</code> at the end
  of a line.</p>
<p>To keep the line breaks in a region, but otherwise use normal
  formatting, you can use <code>VERSE</code> blocks, which can also be used to
  format poetry:</p>
<p>{{{cindex(#+BEGIN_VERSE)}}}</p>
<pre class="example">
Great clouds overhead
Tiny black birds rise and fall
Snow covers Emacs

    -- AlexSchroeder
</pre>
<p>When quoting a passage from another document, it is customary to
  format this as a paragraph that is indented on both the left and the
  right margin. You can include quotations in Org mode documents like
  this:</p>
<p>{{{cindex(#+BEGIN_QUOTE)}}}</p>
<pre class="example">
Everything should be made as simple as possible,
but not any simpler -- Albert Einstein
</pre>
<p>If you would like to center some text, do it like this:
  {{{cindex(#+BEGIN_CENTER)}}}</p>
<pre class="example">
Everything should be made as simple as possible, \\
but not any simpler
</pre>
<h3><span class="heading-number heading-number-3">11.1.7</span> Footnote markup</h3>{{{cindex(footnotes&#92;\, markup rules)}}}
  {{{cindex(@file{footnote.el})}}}
<p>Footnotes defined in the way described in <a href="Creating footnotes">Creating footnotes</a>, will be exported
  by all backends.  Org allows multiple references to the same note, and
  multiple footnotes side by side.</p>
<h3><span class="heading-number heading-number-3">11.1.8</span> Emphasis and monospace</h3>
<p>{{{cindex(underlined text&#92;\, markup rules)}}}
  {{{cindex(bold text&#92;\, markup rules)}}}
  {{{cindex(italic text&#92;\, markup rules)}}}
  {{{cindex(verbatim text&#92;\, markup rules)}}}
  {{{cindex(code text&#92;\, markup rules)}}}
  {{{cindex(strike-through text&#92;\, markup rules)}}}</p>
<p>You can make words **bold**, //italic//, <span style="text-decoration:underline;">underlined</span>, <code>=code=</code>
  and ~~verbatim~~, and, if you must, {{{samp(<del>strike-through</del>)}}}.  Text
  in the code and verbatim string is not processed for Org mode specific
  syntax; it is exported verbatim.</p>
<h3><span class="heading-number heading-number-3">11.1.9</span> Horizontal rules</h3>{{{cindex(horizontal rules&#92;\, markup rules)}}}
<p>A line consisting of only dashes, and at least 5 of them, will be
  exported as a horizontal line (<code>&lt;hr/&gt;</code> in HTML and <code>\hrule</code>
  in LaTeX).</p>
<h3><span class="heading-number heading-number-3">11.1.10</span> Comment lines</h3>{{{cindex(comment lines)}}}
  {{{cindex(exporting&#92;\, not)}}}
  {{{cindex(#+BEGIN_COMMENT)}}}
<p>Lines starting with zero or more whitespace characters followed by one
  {{{samp(#)}}} and a whitespace are treated as comments and will never
  be exported. Also entire subtrees starting with the word
  {{{samp(COMMENT)}}} will never be exported. Finally, regions
  surrounded by {{{samp(#+BEGIN_COMMENT)}}} &#8230;
  {{{samp(#+END_COMMENT)}}} will not be exported.</p>
<dl>
  <dt>{{{kbd(C-c ;)}}}</dt><dd>
    {{{kindex(C-c ;)}}}
    <p>Toggle the COMMENT keyword at the beginning of an entry.</p>
  </dd>
</dl>
<h2><span class="heading-number heading-number-2">11.2</span> Images and tables</h2>
<p>{{{cindex(tables&#92;\, markup rules)}}}
  {{{cindex(#+CAPTION)}}}
  {{{cindex(#+LABEL)}}}</p>
<p>Both the native Org mode tables (see <a href="Tables">Tables</a>) and tables formatted with
  the {{{file(table.el)}}} package will be exported properly. For Org
  mode tables, the lines before the first horizontal separator line will
  become table header lines. You can use the following lines somewhere
  before the table to assign a caption and a label for cross references,
  and in the text you can refer to the object with
  <code>\ref{tab:basic-data}</code>:</p>
<pre class="example">
#+CAPTION: This is the caption for the next table (or link)
#+LABEL:   tab:basic-data
   | ... | ...|
   |-----|----|
</pre>
<p>Optionally, the caption can take the form:</p>
<pre class="example">
#+CAPTION: [Caption for list of figures]{Caption for table (or link).}
</pre>
<p>{{{cindex(inlined images&#92;\, markup rules)}}}</p>
<p>Some backends (HTML, LaTeX, and DocBook) allow you to directly
  include images into the exported document. Org does this, if a link to
  an image files does not have a description part, for example
  <code>[[./img/a.jpg]]</code>. If you wish to define a caption for the image and maybe
  a label for internal cross references, make sure that the link is on a
  line by itself and precede it with <code>#+CAPTION</code> and <code>#+LABEL</code> as
  follows:</p>
<pre class="example">
#+CAPTION: This is the caption for the next figure link (or table)
#+LABEL:   fig:SED-HR4049
[[./img/a.jpg]]
</pre>
<p>You may also define additional attributes for the figure. As this is
  backend-specific, see the sections about the individual backends for
  more information.</p>
<p>See <a href="Handling links">the discussion of image links</a>.</p>
<h2><span class="heading-number heading-number-2">11.3</span> Literal examples</h2>{{{cindex(literal examples&#92;\, markup rules)}}}
  {{{cindex(code line references&#92;\, markup rules)}}}
<p>You can include literal examples that should not be subjected to
  markup. Such examples will be typeset in monospace, so this is well
  suited for source code and similar examples.
  {{{cindex(#+BEGIN_EXAMPLE)}}}</p>
<pre class="example">
,#+BEGIN_EXAMPLE
Some example from a text file.
,#+END_EXAMPLE
</pre>
<p>Note that such blocks may be <i>indented</i> in order to align nicely with
  indented text and in particular with plain list structure (see @&lt;a href=&#8221;Plain
  lists&#8221;&gt;Plain
  lists</a>). For simplicity when using small examples, you can also start
  the example lines with a colon followed by a space. There may also be
  additional whitespace before the colon:</p>
<pre class="example">
Here is an example
   : Some example from a text file.
</pre>
<p>{{{cindex(formatting source code&#92;\, markup rules)}}}</p>
<p>If the example is source code from a programming language, or any
  other text that can be marked up by font-lock in Emacs, you can ask
  for the example to look like the fontified Emacs buffer.<sup><a class="footref" name="fnr.102" href="#fn.102">102</a></sup> This
  is done with the {{{samp(src)}}} block, where you also need to specify
  the name of the major mode that should be used to fontify the example,
  see <a href="Easy templates">Easy templates</a> for shortcuts to easily insert code blocks.<sup><a class="footref" name="fnr.103" href="#fn.103">103</a></sup></p>
<p>{{{cindex(#+BEGIN_SRC)}}}</p>
<pre class="example">
(defun org-xor (a b)
   &quot;Exclusive or.&quot;
   (if a (not b) b))
</pre>
<p>Both in <code>example</code> and in <code>src</code> snippets, you can add a <code>-n</code> switch to
  the end of the <code>BEGIN</code> line, to get the lines of the example numbered.
  If you use a <code>+n</code> switch, the numbering from the previous numbered
  snippet will be continued in the current one. In literal examples, Org
  will interpret strings like {{{samp((ref:name))}}} as labels, and use
  them as targets for special hyperlinks like <code>[[(name)]]</code> (i.e., the
  reference name enclosed in single parenthesis). In HTML, hovering the
  mouse over such a link will remote-highlight the corresponding code
  line, which is kind of cool.</p>
<p>You can also add a <code>-r</code> switch which <i>removes</i> the labels from the
  source code.<sup><a class="footref" name="fnr.104" href="#fn.104">104</a></sup> With the <code>-n</code> switch, links to these references
  will be labeled by the line numbers from the code listing, otherwise
  links will use the labels with no parentheses. Here is an example:</p>
<pre class="example">
(save-excursion                  (ref:sc)
   (goto-char (point-min))       (ref:jump)
In line [[(sc)]] we remember the current position.  [[(jump)][Line (jump)]]
jumps to point-min.
</pre>
<p>{{{vindex(org-coderef-label-format)}}}</p>
<p>If the syntax for the label format conflicts with the language syntax,
  use a <code>-l</code> switch to change the format, for example
  {{{samp(#+BEGIN_SRC pascal -n -r -l &#8220;((%s))&#8221;)}}}. See also the
  variable <code>org-coderef-label-format</code>.</p>
<p>HTML export also allows examples to be published as text areas
  (see <a href="Text areas in HTML export">Text areas in HTML export</a>).</p>
<p>Because the <code>#+BEGIN_...</code> and <code>#+END_...</code> patterns need to be added so
  often, shortcuts are provided using the Easy Templates facility (see
  <a href="Easy templates">Easy templates</a>).</p>
<dl>
  <dt>{{{kbd(C-c &#8216;)}}}</dt><dd>
    {{{kindex(C-c &#8216;)}}}
    <p>Edit the source code example at point in its native mode. This works
      by switching to a temporary buffer with the source code. You need to
      exit by pressing {{{kbd(C-c &#8216;)}}} again.<sup><a class="footref" name="fnr.105" href="#fn.105">105</a></sup> The edited version
      will then replace the old version in the Org buffer. Fixed-width
      regions (where each line starts with a colon followed by a space) will
      be edited using <code>artist-mode</code> to allow creating ASCII drawings
      easily.<sup><a class="footref" name="fnr.106" href="#fn.106">106</a></sup> Using this command in an empty line will create a new
      fixed-width region.</p>
  </dd>
  <dt>{{{kbd(C-c l)}}}</dt><dd>
    {{{kindex(C-c l)}}}
    <p>Calling <code>org-store-link</code> while editing a source code example in a
      temporary buffer created with {{{kbd(C-c &#8216;)}}} will prompt for a
      label. Make sure that it is unique in the current buffer, and insert
      it with the proper formatting like {{{samp((ref:label))}}} at the end
      of the current line. Then the label is stored as a link
      {{{samp((label))}}}, for retrieval with {{{kbd(C-c C-l)}}}.</p>
  </dd>
</dl>
<h2><span class="heading-number heading-number-2">11.4</span> Include files</h2>{{{cindex(include files&#92;\, markup rules)}}}
<p>During export, you can include the content of another file. For
  example, to include your {{{file(.emacs)}}} file, you could use:</p>
<p>{{{cindex(#+INCLUDE)}}}</p>
<pre class="example">
,#+INCLUDE: &quot;~/.emacs&quot; src emacs-lisp
</pre>
<p>{{{noindent}}} The optional second and third parameter are the markup
  (e.g., {{{samp(quote)}}}, {{{samp(example)}}}, or {{{samp(src)}}}),
  and, if the markup is {{{samp(src)}}}, the language for formatting the
  contents. The markup is optional; if it is not given, the text will be
  assumed to be in Org mode format and will be processed normally. The
  include line will also allow additional keyword parameters <code>:prefix1</code>
  and <code>:prefix</code> to specify prefixes for the first line and for each
  following line, <code>:minlevel</code> in order to get Org mode content demoted
  to a specified level, as well as any options accepted by the selected
  markup. For example, to include a file as an item, use:</p>
<pre class="example">
,#+INCLUDE: &quot;~/snippets/xx&quot; :prefix1 &quot;   + &quot; :prefix &quot;     &quot;
</pre>
<p>You can also include a portion of a file by specifying a lines range
  using the <code>:lines</code> parameter. The line at the upper end of the range
  will not be included. The start and/or the end of the range may be
  omitted to use the obvious defaults.</p>
<dl>
  <dt>#+INCLUDE: &#8220;~/.emacs&#8221; :lines &#8220;5-10&#8221;</dt><dd>
    <p>Include lines 5 to 10, 10 excluded.</p>
  </dd>
  <dt>#+INCLUDE: &#8220;~/.emacs&#8221; :lines &#8220;-10&#8221;</dt><dd>
    <p>Include lines 1 to 10, 10 excluded.</p>
  </dd>
  <dt>#+INCLUDE: &#8220;~/.emacs&#8221; :lines &#8220;10-&#8221;</dt><dd>
    <p>Include lines from 10 to EOF.</p>
  </dd>
</dl>
<ul>
  <li>{{{kbd(C-c &#8216;)}}}
    {{{kindex(C-c &#8216;)}}}
    <p>Visit the include file at point.</p>
  </li>
</ul>
<h2><span class="heading-number heading-number-2">11.5</span> Index entries</h2>{{{cindex(index entries&#92;\, for publishing)}}}
<p>You can specify entries that will be used for generating an index
  during publishing. This is done by lines starting with <code>#+INDEX</code>. An
  entry the contains an exclamation mark will create a sub item. See
  <a href="Generating an index">Generating an index</a> for more information.</p>
<pre class="example">
,* Curriculum Vitae
#+INDEX: CV
#+INDEX: Application!CV
</pre>
<h2><span class="heading-number heading-number-2">11.6</span> Macro replacement</h2>{{{cindex(macro replacement&#92;\, during export)}}}
  {{{cindex(#+MACRO)}}}
<p>You can define text snippets with a macro:</p>
<pre class="example">
,#+MACRO: name   replacement text $1, $2 are arguments
</pre>
<p>{{{noindent}}} which can be referenced anywhere in the document (even in
  code examples) with <code>{{{name(arg1,arg2)}}}</code>.  In addition to
  defined macros, <code>{{{title}}}</code>, <code>{{{author}}}</code>, etc.,
  will reference information set by the <code>#+TITLE:</code>, <code>#+AUTHOR:</code>, and
  similar lines.  Also, <code>{{{date(FORMAT)}}}</code> and
  <code>{{{modification-time(FORMAT)}}}</code> refer to current date time
  and to the modification time of the file being exported, respectively.
  <code>FORMAT</code> should be a format string understood by
  <code>format-time-string</code>.</p>
<p>Macro expansion takes place during export, and some people use it to
  construct complex HTML code.</p>
<h2><span class="heading-number heading-number-2">11.7</span> Embedded LaTeX</h2>{{{cindex(@TeX{} interpretation)}}}
  {{{cindex(@LaTeX{} interpretation)}}}
<p>Plain ASCII is normally sufficient for almost all note taking.
  Exceptions include scientific notes, which often require mathematical
  symbols and the occasional formula. LaTeX is widely used to typeset
  scientific documents.<sup><a class="footref" name="fnr.107" href="#fn.107">107</a></sup> Org mode supports embedding LaTeX
  code into its files, because many academics are used to writing and
  reading LaTeX source code, and because it can be readily processed
  to produce pretty output for a number of export backends.</p>
<h3><span class="heading-number heading-number-3">11.7.1</span> Special symbols</h3>{{{cindex(math symbols)}}}
  {{{cindex(special symbols)}}}
  {{{cindex(@TeX{} macros)}}}
  {{{cindex(@LaTeX{} fragments, markup rules)}}}
  {{{cindex(HTML entities)}}}
  {{{cindex(@LaTeX{} entities)}}}
<p>You can use LaTeX macros to insert special symbols like
  <code>\alpha</code> to indicate the Greek letter, or <code>\to</code> to
  indicate an arrow. Completion for these macros is available, just type
  <code>\</code> and maybe a few letters, and press {{{kbdkey(M-,TAB)}}}
  to see possible completions. Unlike LaTeX code, Org mode allows
  these macros to be present without surrounding math delimiters, for
  example:</p>
<pre class="example">
Angles are written as Greek letters \alpha, \beta and \gamma.
</pre>
<p>{{{vindex(org-entities)}}}</p>
<p>During export, these symbols will be transformed into the native
  format of the exporter backend. Strings like <code>\alpha</code> will be exported
  as <code>&amp;alpha;</code> in the HTML output, and as <code>$\alpha$</code> in the LaTeX
  output. Similarly, <code>\nbsp</code> will become <code>&amp;nbsp;</code> in HTML and ~~~ in
  LaTeX. If you need such a symbol inside a word, terminate it like
  this: <code>\Aacute{}stor</code>.</p>
<p>A large number of entities is provided, with names taken from both
  HTML and LaTeX; see the variable <code>org-entities</code> for the complete
  list. <code>\-</code> is treated as a shy hyphen, and {{{samp(&#8211;)}}},
  {{{samp(&#8212;)}}}, and {{{samp(&#8230;)}}} are all converted into special
  commands creating hyphens of different lengths or a compact set of
  dots.</p>
<p>If you would like to see entities displayed as UTF8 characters, use the
  following command:<sup><a class="footref" name="fnr.108" href="#fn.108">108</a></sup></p>
<dl>
  <dt>{{{kbd(C-c C-x XXX)}}}</dt><dd>
    {{{kindex(C-c C-x XXX)}}}</dd>
</dl>
<p>Toggle display of entities as UTF-8 characters. This does not change
  the buffer content which remains plain ASCII, but it overlays the
  UTF-8 character for display purposes only.</p>
<h3><span class="heading-number heading-number-3">11.7.2</span> Subscripts and superscripts</h3>{{{cindex(subscript)}}}
  {{{cindex(superscript)}}}
<p>Just like in LaTeX, {{{samp(^)}}} and {{{samp(_)}}} are used to
  indicate super- and subscripts. Again, these can be used without
  embedding them in math-mode delimiters. To increase the readability of
  ASCII text, it is not necessary (but OK) to surround multi-character
  sub- and superscripts with curly braces. For example</p>
<pre class="example">
The mass of the sun is M_sun = 1.989 x 10^30 kg.  The radius of
the sun is R_{sun} = 6.96 x 10^8 m.
</pre>
<p>{{{vindex(org-export-with-sub-superscripts)}}}</p>
<p>To avoid interpretation as raised or lowered text, you can quote
  {{{kbd(^)}}} and {{{kbd(_)}}} with a backslash: <code>\^</code> and <code>\_</code>. If you
  write a text where the underscore is often used in a different
  context, Org&#8217;s convention to always interpret these as subscripts can
  get in your way. Configure the variable
  <code>org-export-with-sub-superscripts</code> to globally change this convention,
  or use, on a per-file basis:</p>
<pre class="example">
,#+OPTIONS: ^:{}
</pre>
<p>{{{noindent}}} With this setting, <code>a_b</code> will not be interpreted as a
  subscript, but <code>a_{b}</code> will.</p>
<dl>
  <dt>{{{kbd(C-c C-x XXX)}}}</dt><dd>
    {{{kindex(C-c C-x XXX)}}}</dd>
</dl>
<p>In addition to showing entities as UTF-8 characters, this command will
  also format sub- and superscripts in a WYSIWYM way.</p>
<h3><span class="heading-number heading-number-3">11.7.3</span> LaTeX fragments</h3>{{{cindex(@LaTeX{} fragments)}}}
  {{{vindex(org-format-latex-header)}}}
<p>Going beyond symbols and sub- and superscripts, a full formula
  language is needed. Org mode can contain LaTeX math fragments, and
  it supports ways to process these for several export backends. When
  exporting to LaTeX, the code is obviously left as it is. When
  exporting to HTML, Org invokes the <a href="http://www.mathjax.org">MathJax library</a> (see @&lt;a href=&#8221;Math
  formatting in HTML export&#8221;&gt;Math
  formatting in HTML export</a>) to process and display the math.<sup><a class="footref" name="fnr.109" href="#fn.109">109</a></sup>
  Finally, it can also process the mathematical expressions into images
  that can be displayed in a browser or in DocBook documents.<sup><a class="footref" name="fnr.110" href="#fn.110">110</a></sup></p>
<p>LaTeX fragments don&#8217;t need any special marking at all.  The following
  snippets will be identified as LaTeX source code:</p>
<ul>
  <li>Environments of any kind.<sup><a class="footref" name="fnr.111" href="#fn.111">111</a></sup>  The only requirement is that the
    <code>\begin</code> statement appears on a new line, preceded by only whitespace.</li>
  <li>Text within the usual LaTeX math delimiters. To avoid conflicts
    with currency specifications, single <code>$</code> characters are
    only recognized as math delimiters if the enclosed text contains at
    most two line breaks, is directly attached to the <code>$</code>
    characters with no whitespace in between, and if the closing
    <code>$</code> is followed by whitespace, punctuation or a dash. For
    the other delimiters, there is no such restriction, so when in
    doubt, use <code>\(...\)</code> as inline math delimiters.</li>
</ul>
<p>{{{noindent}}} For example:</p>
<pre class="example">
\begin{equation}                          % arbitrary environments,
x=\sqrt{b}                                % even tables, figures
\end{equation}                            % etc

If $a^2=b$ and \( b=2 \), then the solution must be
either $$ a=+\sqrt{2} $$ or \[ a=-\sqrt{2} \].
</pre>
<p>{{{noindent}}}
  {{{vindex(org-format-latex-options)}}}</p>
<p>If you need any of the delimiter ASCII sequences for other purposes,
  you can configure the option <code>org-format-latex-options</code> to deselect
  the ones you do not wish to have interpreted by the LaTeX
  converter.</p>
<p>{{{vindex(org-export-with-LaTeX-fragments)}}}</p>
<p>LaTeX processing can be configured with the variable
  <code>org-export-with-LaTeX-fragments</code>. The default setting is <code>t</code> which
  means {{{file(MathJax)}}} for HTML, and no processing for DocBook,
  ASCII and LaTeX backends. You can also set this variable on a
  per-file basis using one of these lines:</p>
<dl>
  <dt>#+OPTIONS: LaTeX:t</dt><dd>
    <p>Do the right thing automatically (MathJax).</p>
  </dd>
  <dt>#+OPTIONS: LaTeX:dvipng</dt><dd>
    <p>Force using dvipng images.</p>
  </dd>
  <dt>#+OPTIONS: LaTeX:nil</dt><dd>
    <p>Do not process LaTeX fragments at all</p>
  </dd>
  <dt>#+OPTIONS: LaTeX:verbatim</dt><dd>
    <p>Verbatim export, for jsMath or so.</p>
  </dd>
</dl>
<h3><span class="heading-number heading-number-3">11.7.4</span> Previewing LaTeX fragments</h3>{{{cindex(@LaTeX{} fragments, preview)}}}
<p>If you have {{{file(dvipng)}}} installed, LaTeX fragments can be
  processed to produce preview images of the typeset expressions:</p>
<dl>
  <dt>{{{kbd(C-c C-x C-l)}}}</dt><dd>
    {{{kindex(C-c C-x C-l)}}}
    <p>Produce a preview image of the LaTeX fragment at point and overlay
      it over the source code. If there is no fragment at point, process all
      fragments in the current entry (between two headlines). When called
      with a prefix argument, process the entire subtree. When called with
      two prefix arguments, or when the cursor is before the first headline,
      process the entire buffer.</p>
  </dd>
  <dt>{{{kbd(C-c C-c)}}}</dt><dd>
    {{{kindex(C-c C-c)}}}
    <p>Remove the overlay preview images.</p>
  </dd>
</dl>
<p>{{{vindex(org-format-latex-options)}}}</p>
<p>You can customize the variable <code>org-format-latex-options</code> to influence
  some aspects of the preview. In particular, the <code>:scale</code> (and for HTML
  export, <code>:html-scale</code>) property can be used to adjust the size of the
  preview images.</p>
<h3><span class="heading-number heading-number-3">11.7.5</span> CDLaTeX mode</h3>{{{cindex(CD@LaTeX{})}}}
<p>CDLaTeX mode is a minor mode that is normally used in combination
  with a major LaTeX mode like AUCTeX in order to speed-up
  insertion of environments and math templates. Inside Org mode, you can
  make use of some of the features of CDLaTeX mode. You need to
  install {{{file(cdlatex.el)}}} and {{{file(texmathp.el)}}} (the latter
  comes also with AUCTeX) from
  <a href="http://www.astro.uva.nl/~dominik/Tools/cdlatex">http://www.astro.uva.nl/~dominik/Tools/cdlatex</a>. Don&#8217;t use CDLaTeX
  mode itself under Org mode, but use the light version
  <code>org-cdlatex-mode</code> that comes as part of Org mode. Turn it on for the
  current buffer with <code>M-x org-cdlatex-mode</code>, or for all Org files with
  this hook:</p>
<pre class="src src-emacs-lisp">
(add-hook 'org-mode-hook 'turn-on-org-cdlatex)
</pre>
<p>When this mode is enabled, the following features are present (for more
  details see the documentation of CDLaTeX mode):</p>
<dl>
  <dt>{{{kbd(C-c {)}}}</dt><dd>
    {{{kindex(C-c @{)}}}
    <p>Insert an environment template.</p>
  </dd>
  <dt>{{{key(TAB)}}}</dt><dd>
    {{{kindex(@key{TAB})}}}
    <p>Expand a template if the cursor is inside a LaTeX fragment.<sup><a class="footref" name="fnr.112" href="#fn.112">112</a></sup>
      For example, {{{key(TAB)}}} will expand <code>fr</code> to <code>\frac{}{}</code> and
      position the cursor correctly inside the first brace. Another
      {{{key(TAB)}}} will get you into the second brace. Even outside
      fragments, {{{key(TAB)}}} will expand environment abbreviations at the
      beginning of a line. For example, if you write {{{samp(equ)}}} at the
      beginning of a line and press {{{key(TAB)}}}, this abbreviation will
      be expanded to an <code>equation</code> environment. To get a list of all
      abbreviations, type {{{kbd(M-x cdlatex-command-help)}}}.</p>
  </dd>
  <dt>{{{kbd(_)}}} {{{kbd(^)}}}</dt><dd>
    {{{kindex(_)}}}
    {{{kindex(^)}}}
    {{{vindex(cdlatex-simplify-sub-super-scripts)}}}
    <p>Pressing {{{kbd(_)}}} and {{{kbd(^)}}} inside a LaTeX fragment will
      insert these characters together with a pair of braces. If you use
      {{{key(TAB)}}} to move out of the braces, and if the braces surround
      only a single character or macro, they are removed again (depending on
      the variable <code>cdlatex-simplify-sub-super-scripts</code>).</p>
  </dd>
  <dt>{{{kbd(`)}}}</dt><dd>
    {{{kindex(`)}}}
    <p>Pressing the backquote followed by a character inserts math macros,
      also outside LaTeX fragments. If you wait more than 1.5 seconds
      after the backquote, a help window will pop up.</p>
  </dd>
  <dt>{{{kbd(&#8216;)}}}</dt><dd>
    {{{kindex(&#8216;)}}}
    <p>Pressing the single-quote followed by another character modifies the
      symbol before point with an accent or a font. If you wait more than
      1.5 seconds after the single-quote, a help window will pop up.
      Character modification will work only inside LaTeX fragments;
      outside the quote is normal.</p>
  </dd>
</dl>
<h1><span class="heading-number heading-number-1">12</span> Exporting</h1>{{{cindex(exporting)}}}
<p>Org mode documents can be exported into a variety of other formats.
  For printing and sharing of notes, ASCII export produces a readable
  and simple version of an Org file. HTML export allows you to publish a
  notes file on the web, while the XOXO format provides a solid base for
  exchange with a broad range of other applications. LaTeX export
  lets you use Org mode and its structured editing functions to easily
  create LaTeX files. DocBook export makes it possible to convert Org
  files to many other formats using DocBook tools. OpenDocument Text
  (ODT) export allows seamless collaboration across organizational
  boundaries. For project management you can create gantt and resource
  charts by using TaskJuggler export. To incorporate entries with
  associated times like deadlines or appointments into a desktop
  calendar program like iCal, Org mode can also produce extracts in the
  iCalendar format. Currently, Org mode only supports export, not import
  of these different formats.</p>
<p>Org supports export of selected regions when <code>transient-mark-mode</code> is
  enabled (default in Emacs 23).</p>
<h2><span class="heading-number heading-number-2">12.1</span> Selective export</h2>{{{cindex(export&#92;\, selective by tags or TODO keyword)}}}
  {{{vindex(org-export-select-tags)}}}
  {{{vindex(org-export-exclude-tags)}}}
  {{{cindex(org-export-with-tasks)}}}
<p>You may use tags to select the parts of a document that should be exported,
  or to exclude parts from export.  This behavior is governed by two variables:
  <code>org-export-select-tags</code> and <code>org-export-exclude-tags</code>,
  respectively defaulting to <code>:export:</code> and <code>:noexport:</code>.</p>
<ol>
  <li>Org first checks if any of the <i>select</i> tags is present in the
    buffer. If yes, all trees that do not carry one of these tags will
    be excluded. If a selected tree is a subtree, the heading hierarchy
    above it will also be selected for export, but not the text below
    those headings.</li>
  <li>If none of the select tags is found, the whole buffer will be
    selected for export.</li>
  <li>Finally, all subtrees that are marked by any of the <i>exclude</i> tags
    will be removed from the export buffer.</li>
</ol>
<p>The variable <code>org-export-with-tasks</code> can be configured to select which
  kind of tasks should be included for export.  See the docstring of the
  variable for more information.</p>
<h2><span class="heading-number heading-number-2">12.2</span> Export options</h2>{{{cindex(options&#92;\, for export)}}}
  {{{cindex(completion&#92;\, of option keywords)}}}
<p>The exporter recognizes special lines in the buffer which provide
  additional information. These lines may be put anywhere in the file.
  The whole set of lines can be inserted into the buffer with
  {{{kbd(C-c C-e t)}}}. For individual lines, a good way to make sure the keyword
  is correct is to type {{{samp(#+)}}} and then use {{{kbdkey(M-,TAB)}}}
  completion (see <a href="Completion">Completion</a>). For a summary of other in-buffer settings
  not specifically related to export, see <a href="In-buffer settings">In-buffer settings</a>. In
  particular, note that you can place commonly-used (export) options in
  a separate file which can be included using <code>#+SETUPFILE</code>.</p>
<dl>
  <dt>{{{kbd(C-c C-e t)}}}, <code>org-insert-export-options-template</code></dt><dd>
    {{{kindex(C-c C-e t)}}}
    <p>Insert template with export options, see example below.</p>
  </dd>
</dl>
<p>{{{cindex(#+TITLE)}}}
  {{{cindex(#+AUTHOR)}}}
  {{{cindex(#+DATE)}}}
  {{{cindex(#+EMAIL)}}}
  {{{cindex(#+DESCRIPTION)}}}
  {{{cindex(#+KEYWORDS)}}}
  {{{cindex(#+LANGUAGE)}}}
  {{{cindex(#+TEXT)}}}
  {{{cindex(#+OPTIONS)}}}
  {{{cindex(#+BIND)}}}
  {{{cindex(#+LINK_UP)}}}
  {{{cindex(#+LINK_HOME)}}}
  {{{cindex(#+EXPORT_SELECT_TAGS)}}}
  {{{cindex(#+EXPORT_EXCLUDE_TAGS)}}}
  {{{cindex(#+XSLT)}}}
  {{{cindex(#+LaTeX_HEADER)}}}
  {{{vindex(user-full-name)}}}
  {{{vindex(user-mail-address)}}}
  {{{vindex(org-export-default-language)}}}
  {{{vindex(org-export-date-timestamp-format)}}}</p>
<dl>
  <dt>#+TITLE:</dt><dd>
    <p>The title to be shown (default is the buffer name).</p>
  </dd>
  <dt>#+AUTHOR:</dt><dd>
    <p>The author (default taken from <code>user-full-name</code>).</p>
  </dd>
  <dt>#+DATE:</dt><dd>
    <p>A date, an Org timestamp, or a format string for
      <code>format-time-string</code>.<sup><a class="footref" name="fnr.113" href="#fn.113">113</a></sup></p>
  </dd>
  <dt>#+EMAIL:</dt><dd>
    <p>His/her email address (default from <code>user-mail-address</code>).</p>
  </dd>
  <dt>#+DESCRIPTION:</dt><dd>
    <p>The page description, e.g., for the XHTML meta tag.</p>
  </dd>
  <dt>#+KEYWORDS:</dt><dd>
    <p>The page keywords, e.g., for the XHTML meta tag.</p>
  </dd>
  <dt>#+LANGUAGE:</dt><dd>
    <p>Language for HTML, e.g., en (<code>org-export-default-language</code>).</p>
  </dd>
  <dt>#+TEXT:</dt><dd>
    <p>Some descriptive text to be inserted at the beginning.</p>
  </dd>
  <dt>#+TEXT:</dt><dd>
    <p>Several lines may be given.</p>
  </dd>
  <dt>#+OPTIONS:</dt><dd>
    <p>H:2 num:t toc:t \n:nil @:t ::t |:t ^:t f:t TeX:t &#8230;</p>
  </dd>
  <dt>#+BIND:</dt><dd>
    <p>Lisp-var lisp-val, e.g., org-export-latex-low-levels itemize. You need
      to confirm using these, or configure <code>org-export-allow-BIND</code>.</p>
  </dd>
  <dt>#+LINK_UP:</dt><dd>
    <p>The &#8220;up&#8221; link of an exported page.</p>
  </dd>
  <dt>#+LINK_HOME:</dt><dd>
    <p>The &#8220;home&#8221; link of an exported page.</p>
  </dd>
  <dt>#+LaTeX_HEADER:</dt><dd>
    <p>Extra line(s) for the LaTeX header, like <code>\usepackage{xyz}</code>.</p>
  </dd>
  <dt>#+EXPORT_SELECT_TAGS:</dt><dd>
    <p>Tags that select a tree for export.</p>
  </dd>
  <dt>#+EXPORT_EXCLUDE_TAGS:</dt><dd>
    <p>Tags that exclude a tree from export.</p>
  </dd>
  <dt>#+XSLT:</dt><dd>
    <p>The XSLT stylesheet used by DocBook exporter to generate FO file.</p>
  </dd>
</dl>
<p>{{{noindent}}} The <code>#+OPTIONS</code> line is a compact form to specify
  export settings.<sup><a class="footref" name="fnr.114" href="#fn.114">114</a></sup> Here you can:</p>
<p>{{{cindex(headline levels)}}}
  {{{cindex(section-numbers)}}}
  {{{cindex(table of contents)}}}
  {{{cindex(line-break preservation)}}}
  {{{cindex(quoted HTML tags)}}}
  {{{cindex(fixed-width sections)}}}
  {{{cindex(tables)}}}
  {{{cindex(@TeX{}-like syntax for sub- and superscripts)}}}
  {{{cindex(footnotes)}}}
  {{{cindex(special strings)}}}
  {{{cindex(emphasized text)}}}
  {{{cindex(@TeX{} macros)}}}
  {{{cindex(@LaTeX{} fragments)}}}
  {{{cindex(author info&#92;\, in export)}}}
  {{{cindex(time info&#92;\, in export)}}}
  {{{vindex(org-export-plist-vars)}}}
  {{{vindex(org-export-author-info)}}}
  {{{vindex(org-export-creator-info)}}}
  {{{vindex(org-export-email-info)}}}
  {{{vindex(org-export-time-stamp-file)}}}</p>
<dl>
  <dt>H:</dt><dd>
    <p>Set the number of headline levels for export.</p>
  </dd>
  <dt>num:</dt><dd>
    <p>Turn on/off section-numbers.</p>
  </dd>
  <dt>toc:</dt><dd>
    <p>Turn on/off table of contents, or set level limit (integer).</p>
  </dd>
  <dt>\n:</dt><dd>
    <p>Turn on/off line-break-preservation (DOES NOT WORK).</p>
  </dd>
  <dt>@:</dt><dd>
    <p>Turn on/off quoted HTML tags.</p>
  </dd>
  <dt>::</dt><dd>
    <p>Turn on/off fixed-width sections.</p>
  </dd>
  <dt>|:</dt><dd>
    <p>Turn on/off tables,</p>
  </dd>
  <dt>^:</dt><dd>
    <p>Turn on/off TeX-like syntax for sub- and superscripts. If you write
      &#8220;^:{}&#8221;, <code>a_{b}</code> will be interpreted, but the simple <code>a_b</code> will be left
      as it is.</p>
  </dd>
  <dt>:</dt><dd>
    <p>Turn on/off conversion of special strings.</p>
  </dd>
  <dt>f:</dt><dd>
    <p>Turn on/off footnotes like this: <code>[1]</code>.</p>
  </dd>
  <dt>todo:</dt><dd>
    <p>Turn on/off inclusion of TODO keywords into exported text.</p>
  </dd>
  <dt>tasks:</dt><dd>
    <p>Turn on/off inclusion of tasks (TODO items), can be nil to remove all
      tasks, <code>todo</code> to remove DONE tasks, or list of keywords to keep.</p>
  </dd>
  <dt>pri:</dt><dd>
    <p>Turn on/off priority cookies.</p>
  </dd>
  <dt>tags:</dt><dd>
    <p>Turn on/off inclusion of tags, may also be <code>not-in-toc</code>.</p>
  </dd>
  <dt><:</dt><dd>
    <p>Turn on/off inclusion of any time/date stamps like DEADLINES.</p>
  </dd>
  <dt>*:</dt><dd>
    <p>Turn on/off emphasized text (bold, italic, underlined).</p>
  </dd>
  <dt>TeX:</dt><dd>
    <p>Turn on/off simple TeX macros in plain text.</p>
  </dd>
  <dt>LaTeX:</dt><dd>
    <p>Configure export of LaTeX fragments.  Default <code>auto</code>.</p>
  </dd>
  <dt>skip:</dt><dd>
    <p>Turn on/off skipping the text before the first heading.</p>
  </dd>
  <dt>author:</dt><dd>
    <p>Turn on/off inclusion of author name/email into exported file.</p>
  </dd>
  <dt>email:</dt><dd>
    <p>Turn on/off inclusion of author email into exported file.</p>
  </dd>
  <dt>creator:</dt><dd>
    <p>Turn on/off inclusion of creator info into exported file.</p>
  </dd>
  <dt>timestamp:</dt><dd>
    <p>Turn on/off inclusion creation time into exported file.</p>
  </dd>
  <dt>d:</dt><dd>
    <p>Turn on/off inclusion of drawers, or list drawers to include.</p>
  </dd>
</dl>
<p>{{{noindent}}} These options take effect in both the HTML and LaTeX
  export, except for <code>TeX</code> and <code>LaTeX</code> options, which are respectively
  <code>t</code> and <code>nil</code> for the LaTeX export.</p>
<p>The default values for these and many other options are given by a set
  of variables. For a list of such variables, the corresponding OPTIONS
  keys and also the publishing keys (see <a href="Project alist">Project alist</a>), see the
  constant <code>org-export-plist-vars</code>.</p>
<p>When exporting only a single subtree by selecting it with
  {{{kbd(C-c @)}}} before calling an export command, the subtree can
  overrule some of the file&#8217;s export settings with properties
  <code>EXPORT_FILE_NAME</code>, <code>EXPORT_TITLE</code>, <code>EXPORT_TEXT</code>, <code>EXPORT_AUTHOR</code>,
  <code>EXPORT_DATE</code>, and <code>EXPORT_OPTIONS</code>.</p>
<h2><span class="heading-number heading-number-2">12.3</span> The export dispatcher</h2>{{{cindex(dispatcher&#92;\, for export commands)}}}
<p>All export commands can be reached using the export dispatcher, which
  is a prefix key that prompts for an additional key specifying the
  command. Normally the entire file is exported, but if there is an
  active region that contains one outline tree, the first heading is
  used as document title and the subtrees are exported.</p>
<dl>
  <dt>{{{kbd(C-c C-e)}}}, <code>org-export</code></dt><dd>
    {{{kindex(C-c C-e)}}}
    {{{vindex(org-export-run-in-background)}}}
    <p>Dispatcher for export and publishing commands. Displays a help-window
      listing the additional key(s) needed to launch an export or publishing
      command. The prefix arg is passed through to the exporter. A double
      prefix {{{kbd(C-u C-u)}}} causes most commands to be executed in the
      background, in a separate Emacs process.<sup><a class="footref" name="fnr.115" href="#fn.115">115</a></sup></p>
  </dd>
  <dt>{{{kbd(C-c C-e v)}}}, <code>org-export-visible</code></dt><dd>
    {{{kindex(C-c C-e v)}}}
    <p>Like {{{kbd(C-c C-e)}}}, but only export the text that is currently visible
      (i.e., not hidden by outline visibility).</p>
  </dd>
  <dt>{{{kbd(C-u C-u C-c C-e)}}}, <code>org-export</code></dt><dd>
    {{{kindex(C-u C-u C-c C-e)}}}
    {{{vindex(org-export-run-in-background)}}}
    <p>Call the exporter, but reverse the setting of
      <code>org-export-run-in-background</code>, i.e., request background processing if
      not set, or force processing in the current Emacs process if set.</p>
  </dd>
</dl>
<h2><span class="heading-number heading-number-2">12.4</span> ASCII/Latin-1/UTF-8 export</h2>{{{cindex(ASCII export)}}}
  {{{cindex(Latin-1 export)}}}
  {{{cindex(UTF-8 export)}}}
<p>ASCII export produces a simple and very readable version of an Org
  mode file, containing only plain ASCII. Latin-1 and UTF-8 export
  augment the file with special characters and symbols available in
  these encodings.</p>
<p>{{{cindex(region&#92;\, active)}}}
  {{{cindex(active region)}}}
  {{{cindex(transient-mark-mode)}}}</p>
<dl>
  <dt>{{{kbd(C-c C-e a)}}}, <code>org-export-as-ascii</code></dt><dd>
    {{{kindex(C-c C-e a)}}}
    {{{cindex(property&#92;\, EXPORT_FILE_NAME)}}}
    <p>Export as an ASCII file. For an Org file, {{{file(myfile.org)}}}, the
      ASCII file will be {{{file(myfile.txt)}}}. The file will be
      overwritten without warning. If there is an active region, only the
      region will be exported.<sup><a class="footref" name="fnr.116" href="#fn.116">116</a></sup> If the selected region is a single
      tree, the tree head will become the document title.<sup><a class="footref" name="fnr.117" href="#fn.117">117</a></sup> If the
      tree head entry has or inherits an <code>EXPORT_FILE_NAME</code> property, that
      name will be used for the export.</p>
  </dd>
  <dt>{{{kbd(C-c C-e A)}}}, <code>org-export-as-ascii-to-buffer</code></dt><dd>
    {{{kindex(C-c C-e A)}}}
    <p>Export to a temporary buffer.  Do not create a file.</p>
  </dd>
  <dt>{{{kbd(C-c C-e n)}}}, <code>org-export-as-latin1</code></dt><dd>
    {{{kindex(C-c C-e n)}}}
    <p>Like {{{kbd(C-c C-e a)}}}, but use Latin-1 encoding.</p>
  </dd>
  <dt>{{{kbd(C-c C-e N)}}}, <code>org-export-as-latin1-to-buffer</code></dt><dd>
    {{{kindex(C-c C-e N)}}}
    <p>Like {{{kbd(C-c C-e A)}}}, but use Latin-1 encoding.</p>
  </dd>
  <dt>{{{kbd(C-c C-e u)}}}, <code>org-export-as-utf8</code></dt><dd>
    {{{kindex(C-c C-e u)}}}
    <p>Like {{{kbd(C-c C-e a)}}}, but use UTF-8 encoding.</p>
  </dd>
  <dt>{{{kbd(C-c C-e U)}}}, <code>org-export-as-utf8-to-buffer</code></dt><dd>
    {{{kindex(C-c C-e U)}}}
    <p>Like {{{kbd(C-c C-e A)}}}, but use UTF-8 encoding.</p>
  </dd>
</dl>
<dl>
  <dt>{{{kbd(C-c C-e v a/n/u)}}}</dt><dd>
    {{{kindex(C-c C-e v a)}}}
    {{{kindex(C-c C-e v n)}}}
    {{{kindex(C-c C-e v u)}}}
    <p>Export only the visible part of the document.</p>
  </dd>
</dl>
<p>{{{cindex(headline levels&#92;\, for exporting)}}}</p>
<p>In the exported version, the first 3 outline levels will become
  headlines, defining a general document structure. Additional levels
  will be exported as itemized lists. If you want that transition to
  occur at a different level, specify it with a prefix argument, e.g.:</p>
<pre class="example">
C-1 C-c C-e a
</pre>
<p>{{{noindent}}} This setting creates only top level headlines and
  exports the rest as items. When headlines are converted to items, the
  indentation of the text following the headline is changed to fit
  nicely under the item. This is done with the assumption that the first
  body line indicates the base indentation of the body text. Any
  indentation larger than this is adjusted to preserve the layout
  relative to the first line. Should there be lines with less
  indentation than the first one, these are left alone.</p>
<p>{{{vindex(org-export-ascii-links-to-notes)}}}</p>
<p>Links will be exported in a footnote-like style, with the descriptive
  part in the text and the link in a note before the next heading. See
  the variable <code>org-export-ascii-links-to-notes</code> for details and other
  options.</p>
<h2><span class="heading-number heading-number-2">12.5</span> HTML export</h2>{{{cindex(HTML export)}}}
  {{{cindex(Gruber&#92;\, John)}}}
<p>Org mode contains a HTML (XHTML 1.0 strict) exporter with extensive
  HTML formatting, in ways similar to John Gruber&#8217;s <i>markdown</i> language,
  but with additional support for tables.</p>
<h3><span class="heading-number heading-number-3">12.5.1</span> HTML export commands</h3>{{{cindex(region&#92;\, active)}}}
  {{{cindex(active region)}}}
  {{{cindex(transient-mark-mode)}}}
<dl>
  <dt>{{{kbd(C-c C-e h)}}}, <code>org-export-as-html</code></dt><dd>
    {{{kindex(C-c C-e h)}}}
    {{{cindex(property&#92;\, EXPORT_FILE_NAME)}}}
    <p>Export as an HTML file. For an Org file {{{file(myfile.org)}}}, the
      HTML file will be {{{file(myfile.html)}}}. The file will be
      overwritten without warning. If there is an active region, only the
      active region will be exported.<sup><a class="footref" name="fnr.118" href="#fn.118">118</a></sup> If the selected region is a
      single tree, the tree head will become the document title.<sup><a class="footref" name="fnr.119" href="#fn.119">119</a></sup> If
      the tree head entry has, or inherits, an <code>EXPORT_FILE_NAME</code> property,
      that name will be used for the export.</p>
  </dd>
  <dt>{{{kbd(C-c C-e b)}}}, <code>org-export-as-html-and-open</code></dt><dd>
    {{{kindex(C-c C-e b)}}}
    <p>Export as a HTML file and immediately open it with a browser.</p>
  </dd>
  <dt>{{{kbd(C-c C-e H)}}}, <code>org-export-as-html-to-buffer</code></dt><dd>
    {{{kindex(C-c C-e H)}}}
    <p>Export to a temporary buffer.  Do not create a file.</p>
  </dd>
  <dt>{{{kbd(C-c C-e R)}}}, <code>org-export-region-as-html</code></dt><dd>
    {{{kindex(C-c C-e R)}}}
    <p>Export the active region to a temporary buffer. With a prefix
      argument, do not produce the file header and footer, but just the
      plain HTML section for the region. This is good for cut-and-paste
      operations.</p>
  </dd>
  <dt>{{{kbd(C-c C-e v h/b/H/R)}}}</dt><dd>
    {{{kindex(C-c C-e v h)}}}
    {{{kindex(C-c C-e v b)}}}
    {{{kindex(C-c C-e v H)}}}
    {{{kindex(C-c C-e v R)}}}
    <p>Export only the visible part of the document.</p>
  </dd>
  <dt>{{{kbd(M-x org-export-region-as-html)}}}</dt><dd>
    <p>Convert the region to HTML under the assumption that it was in Org
      mode syntax before. This is a global command that can be invoked in
      any buffer.</p>
  </dd>
  <dt>{{{kbd(M-x org-replace-region-by-HTML)}}}</dt><dd>
    <p>Replace the active region (assumed to be in Org mode syntax) by HTML
      code.</p>
  </dd>
</dl>
<p>{{{cindex(headline levels&#92;\, for exporting)}}}</p>
<p>In the exported version, the first three outline levels will become
  headlines, defining a general document structure. Additional levels
  will be exported as itemized lists. If you want that transition to
  occur at a different level, specify it with a numeric prefix argument,
  e.g.:</p>
<pre class="example">
C-2 C-c C-e b
</pre>
<p>{{{noindent}}} This setting creates two levels of headings and exports
  the rest as list items.</p>
<h3><span class="heading-number heading-number-3">12.5.2</span> HTML preamble and postamble</h3>{{{vindex(org-export-html-preamble)}}}
  {{{vindex(org-export-html-postamble)}}}
  {{{vindex(org-export-html-preamble-format)}}}
  {{{vindex(org-export-html-postamble-format)}}}
  {{{vindex(org-export-html-validation-link)}}}
  {{{vindex(org-export-author-info)}}}
  {{{vindex(org-export-email-info)}}}
  {{{vindex(org-export-creator-info)}}}
  {{{vindex(org-export-time-stamp-file)}}}
<p>The HTML exporter lets you define a preamble and a postamble.</p>
<p>The default value for <code>org-export-html-preamble</code> is <code>t</code>, which means
  that the preamble is inserted depending on the relevant format string
  in <code>org-export-html-preamble-format</code>.</p>
<p>Setting <code>org-export-html-preamble</code> to a string will override the default
  format string.  Setting it to a function, will insert the output of the
  function, which must be a string; such a function takes no argument but you
  can check against the value of <code>opt-plist</code>, which contains the list of
  publishing properties for the current file.  Setting to <code>nil</code> will not
  insert any preamble.</p>
<p>The default value for <code>org-export-html-postamble</code> is
  {{{samp(&#8216;auto)}}}, which means that the HTML exporter will look for
  the value of <code>org-export-author-info</code>, <code>org-export-email-info</code>,
  <code>org-export-creator-info</code> and <code>org-export-time-stamp-file</code>,
  <code>org-export-html-validation-link</code> and build the postamble from these
  values. Setting <code>org-export-html-postamble</code> to <code>t</code> will insert the
  postamble from the relevant format string found in
  <code>org-export-html-postamble-format</code>. Setting it to <code>nil</code> will not
  insert any postamble.</p>
<h3><span class="heading-number heading-number-3">12.5.3</span> Quoting HTML tags</h3>
<p>Plain <code>&lt;</code> and {{{samp(&gt;)}}} are always transformed to
  {{{samp(&amp;lt;)}}} and {{{samp(&amp;gt;)}}} in HTML export. If you want to
  include simple HTML tags which should be interpreted as such, mark
  them with {{{samp(@)}}} as in {{{samp(<b>bold text</b>)}}}. Note
  that this really works only for simple tags. For more extensive HTML
  that should be copied verbatim to the exported file use either <code>#+HTML</code>:</p>
<p>{{{cindex(#+HTML)}}}
  {{{cindex(#+BEGIN_HTML)}}}</p>
<pre class="example">
,#+HTML: Literal HTML code for export
</pre>
<p>{{{noindent}}} or an HTML block:
  {{{cindex(#+BEGIN_HTML)}}}</p>
<pre class="example">
All lines between these markers are exported literally
</pre>
<h3><span class="heading-number heading-number-3">12.5.4</span> Links in HTML export</h3>{{{cindex(links&#92;\, in HTML export)}}}
  {{{cindex(internal links&#92;\, in HTML export)}}}
  {{{cindex(external links&#92;\, in HTML export)}}}
<p>Internal links (see <a href="Internal links">Internal links</a>) will continue to work in HTML.
  This includes automatic links created by radio targets (see @&lt;a href=&#8221;Radio
  targets&#8221;&gt;Radio
  targets</a>). Links to external files will still work if the target file
  is on the same <i>relative</i> path as the published Org file. Links to
  other {{{file(.org)}}} files will be translated into HTML links under
  the assumption that a HTML version also exists of the linked file, at
  the same relative path. <code>id:</code> links can then be used to jump
  to specific entries across files. For information related to linking
  files while publishing them to a publishing directory see @&lt;a href=&#8221;Publishing
  links&#8221;&gt;Publishing
  links</a>.</p>
<p>If you want to specify attributes for links, you can do so using a
  special <code>#+ATTR_HTML</code> line to define attributes that will be added to
  the <code>&lt;a&gt;</code> or <code>&lt;img&gt;</code> tags. Here is an example that sets <code>title</code> and
  <code>style</code> attributes for a link:</p>
<p>{{{cindex(#+ATTR_HTML)}}}</p>
<pre class="example">
,#+ATTR_HTML: title=&quot;The Org mode homepage&quot; style=&quot;color:red;&quot;
,[[http://orgmode.org]]
</pre>
<h3><span class="heading-number heading-number-3">12.5.5</span> Tables in HTML export</h3>{{{cindex(tables&#92;\, in HTML)}}}
  {{{vindex(org-export-html-table-tag)}}}
<p>Org mode tables are exported to HTML using the table tag defined in
  <code>org-export-html-table-tag</code>. The default setting makes tables without
  cell borders and frame. If you would like to change this for
  individual tables, place something like the following before the
  table:</p>
<p>{{{cindex(#+CAPTION)}}}
  {{{cindex(#+ATTR_HTML)}}}</p>
<pre class="example">
,#+CAPTION: This is a table with lines around and between cells
,#+ATTR_HTML: border=&quot;2&quot; rules=&quot;all&quot; frame=&quot;border&quot;
</pre>
<h3><span class="heading-number heading-number-3">12.5.6</span> Images in HTML export</h3>{{{cindex(images&#92;\, inline in HTML)}}}
  {{{cindex(inlining images in HTML)}}}
  {{{vindex(org-export-html-inline-images)}}}
<p>HTML export can inline images given as links in the Org file, and it
  can make an image the clickable part of a link. By default, images are
  inlined if a link does not have a description.<sup><a class="footref" name="fnr.120" href="#fn.120">120</a></sup> So
  {{{samp(<img src="myimg.jpg" alt="myimg.jpg" />)}}} will be inlined, while {{{samp(<a href="myimg.jpg">the image</a>)}}} will just produce a link {{{samp(the image)}}} that points
  to the image. If the description part itself is a <code>file:</code> link or a
  <code>http:</code> URL pointing to an image, this image will be inlined and
  activated so that clicking on the image will activate the link. For
  example, to include a thumbnail that will link to a high resolution
  version of the image, you could use:</p>
<pre class="example">
[[file:highres.jpg][file:thumb.jpg]]
</pre>
<p>If you need to add attributes to an inlined image, use a <code>#+ATTR_HTML</code>.
  In the example below we specify the <code>alt</code> and <code>title</code> attributes to
  support text viewers and accessibility, and align it to the right.</p>
<p>{{{cindex(#+CAPTION)}}}
  {{{cindex(#+ATTR_HTML)}}}</p>
<pre class="example">
,#+CAPTION: A black cat stalking a spider
,#+ATTR_HTML: alt=&quot;cat/spider image&quot; title=&quot;Action!&quot; align=&quot;right&quot;
[[./img/a.jpg]]
</pre>
<p>{{{noindent}}} You could use <code>http</code> addresses just as well.</p>
<h3><span class="heading-number heading-number-3">12.5.7</span> Math formatting in HTML export</h3>{{{cindex(MathJax)}}}
  {{{cindex(dvipng)}}}
<p>LaTeX math snippets (see <a href="LaTeX fragments">LaTeX fragments</a>) can be displayed in two
  different ways on HTML pages. The default is to use the <a href="http://www.mathjax.org">MathJax system</a>
  which should work out of the box with Org mode installation because
  <code>http://orgmode.org</code> serves {{{file(MathJax)}}} for Org mode users for
  small applications and for testing purposes.<sup><a class="footref" name="fnr.121" href="#fn.121">121</a></sup> To configure
  {{{file(MathJax)}}}, use the variable
  <code>org-export-html-mathjax-options</code> or insert something like the
  following into the buffer:</p>
<pre class="example">
,#+MATHJAX: align:&quot;left&quot; mathml:t path:&quot;/MathJax/MathJax.js&quot;
</pre>
<p>{{{noindent}}} See the docstring of the variable
  <code>org-export-html-mathjax-options</code> for the meaning of the parameters in
  this line.</p>
<p>If you prefer, you can also request that LaTeX fragments are
  processed into small images that will be inserted into the browser
  page. Before the availability of MathJax, this was the default method
  for Org files. This method requires that the {{{file(dvipng)}}}
  program is available on your system. You can still get this processing
  with the following option:</p>
<pre class="example">
,#+OPTIONS: LaTeX:dvipng
</pre>
<h3><span class="heading-number heading-number-3">12.5.8</span> Text areas in HTML export</h3>{{{cindex(text areas&#92;\, in HTML)}}}
<p>An alternative way to publish literal code examples in HTML is to use
  text areas, where the example can even be edited before pasting it
  into an application. It is triggered by a <code>-t</code> switch at an <code>example</code>
  or <code>src</code> block. Using this switch disables any options for syntax and
  label highlighting, and line numbering, which may be present. You may
  also use <code>-h</code> and <code>-w</code> switches to specify the height and width of the
  text area, which default to the number of lines in the example, and
  80, respectively. For example</p>
<pre class="example">
,#+BEGIN_EXAMPLE -t -w 40
  (defun org-xor (a b)
     &quot;Exclusive or.&quot;
     (if a (not b) b))
,#+END_EXAMPLE
</pre>
<h3><span class="heading-number heading-number-3">12.5.9</span> CSS support</h3>{{{cindex(CSS&#92;\, for HTML export)}}}
  {{{cindex(HTML export&#92;\, CSS)}}}
  {{{vindex(org-export-html-todo-kwd-class-prefix)}}}
  {{{vindex(org-export-html-tag-class-prefix)}}}
<p>You can also give style information for the exported file. The HTML
  exporter assigns the following special CSS classes to appropriate
  parts of the document&#8212;your style specifications may change these, in
  addition to any of the standard classes like for headlines, tables,
  etc.<sup><a class="footref" name="fnr.122" href="#fn.122">122</a></sup></p>
<dl>
  <dt>p.author</dt><dd>author information, including email</dd>
  <dt>p.date</dt><dd>publishing date</dd>
  <dt>p.creator</dt><dd>creator info, about org mode version</dd>
  <dt>.title</dt><dd>document title</dd>
  <dt>.todo</dt><dd>TODO keywords, all not-done states</dd>
  <dt>.done</dt><dd>the DONE keywords, all states that count as done</dd>
  <dt>.WAITING</dt><dd>each TODO keyword also uses a class named after itself</dd>
  <dt>.timestamp</dt><dd>timestamp</dd>
  <dt>.timestamp-kwd</dt><dd>keyword associated with a timestamp, like SCHEDULED</dd>
  <dt>.timestamp-wrapper</dt><dd>span around keyword plus timestamp</dd>
  <dt>.tag</dt><dd>tag in a headline</dd>
  <dt>._HOME</dt><dd>each tag uses itself as a class, &#8220;@&#8221; replaced by &#8220;_&#8221;</dd>
  <dt>.target</dt><dd>target for links</dd>
  <dt>.linenr</dt><dd>the line number in a code example</dd>
  <dt>.code-highlighted</dt><dd>for highlighting referenced code lines</dd>
  <dt>div.outline-N</dt><dd>div for outline level N (headline plus text))</dd>
  <dt>div.outline-text-N</dt><dd>extra div for text at outline level N</dd>
  <dt>.section-number-N</dt><dd>section number in headlines, different for each level</dd>
  <dt>div.figure</dt><dd>how to format an inlined image</dd>
  <dt>pre.src</dt><dd>formatted source code</dd>
  <dt>pre.example</dt><dd>normal example</dd>
  <dt>p.verse</dt><dd>verse paragraph</dd>
  <dt>div.footnotes</dt><dd>footnote section headline</dd>
  <dt>p.footnote</dt><dd>footnote definition paragraph, containing a footnote</dd>
  <dt>.footref</dt><dd>a footnote reference number (always a <sup>)</dd>
  <dt>.footnum</dt><dd>footnote number in footnote definition (always <sup>)</dd>
</dl>
<p>{{{vindex(org-export-html-style-default)}}}
  {{{vindex(org-export-html-style-include-default)}}}
  {{{vindex(org-export-html-style)}}}
  {{{vindex(org-export-html-extra)}}}
  {{{vindex(org-export-html-style-default)}}}</p>
<p>Each exported file contains a compact default style that defines these
  classes in a basic way.<sup><a class="footref" name="fnr.123" href="#fn.123">123</a></sup>  You may overwrite these
  settings, or add to them by using the variables <code>org-export-html-style</code>
  (for Org-wide settings) and <code>org-export-html-style-extra</code> (for more
  fine-grained settings, like file-local settings).  To set the latter variable
  individually for each file, you can use a <code>#+STYLE:</code> line:</p>
<p>{{{cindex(#+STYLE)}}}</p>
<pre class="example">
,#+STYLE: &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;stylesheet.css&quot; /&gt;
</pre>
<p>{{{noindent}}} For longer style definitions, you can use several such
  lines. You could also directly write a <code>&lt;style&gt;</code> <code>&lt;/style&gt;</code> section in
  this way, without referring to an external file.</p>
<p>In order to add styles to a subtree, use the <code>:HTML_CONTAINER_CLASS:</code>
  property to assign a class to the tree. In order to specify CSS styles
  for a particular headline, you can use the id specified in a
  <code>:CUSTOM_ID:</code> property.</p>
<h3><span class="heading-number heading-number-3">12.5.10</span> JavaScript support</h3>{{{cindex(Rose&#92;\, Sebastian)}}}
<p>Sebastian Rose has written a JavaScript program especially designed to
  enhance the web viewing experience of HTML files created with Org.  This
  program allows you to view large files in two different ways.  The first one
  is an <i>Info</i>-like mode where each section is displayed separately and
  navigation can be done with the {{{kbd(n)}}} and {{{kbd(p)}}} keys (and some other keys
  as well, press {{{kbd(?)}}} for an overview of the available keys).  The second
  view type is a <i>folding</i> view much like Org provides inside Emacs.  The
  script is available at <a href="http://orgmode.org/org-info.js">http://orgmode.org/org-info.js</a> and you can find
  the documentation for it at <a href="http://orgmode.org/worg/code/org-info-js/">http://orgmode.org/worg/code/org-info-js/</a>.
  We host the script at our site, but if you use it a lot, you might
  not want to be dependent on <code>orgmode.org</code> and prefer to install a local
  copy on your own web server.</p>
<p>To use the script, you need to make sure that the
  {{{file(org-jsinfo.el)}}} module gets loaded. It should be loaded by
  default, but you can try {{{ksksksk(M-x customize-variable,RET,org-modules,RET)}}}
  to convince yourself that this is indeed the case. All it then takes to make use of the program
  is adding a single line to the Org file:</p>
<p>{{{cindex(#+INFOJS_OPT)}}}</p>
<pre class="example">
,#+INFOJS_OPT: view:info toc:nil
</pre>
<p>{{{noindent}}} If this line is found, the HTML header will
  automatically contain the code needed to invoke the script. Using the
  line above, you can set the following viewing options:</p>
<dl>
  <dt>path:</dt><dd>
    <p>The path to the script.  The default is to grab the script from
      <a href="http://orgmode.org/org-info.js">http://orgmode.org/org-info.js</a>, but you might want to have
      a local copy and use a path like {{{samp(../scripts/org-info.js)}}}.</p>
  </dd>
  <dt>view:</dt><dd>
    <p>Initial view when the website is first shown.  Possible values are:</p>
    <dl>
      <dt>info</dt><dd>Info-like interface with one section per page.</dd>
      <dt>overview</dt><dd>Folding interface, initially showing only top-level.</dd>
      <dt>content</dt><dd>Folding interface, starting with all headlines visible.</dd>
      <dt>showall</dt><dd>Folding interface, all headlines and text visible.</dd>
    </dl>
  </dd>
  <dt>sdepth:</dt><dd>
    <p>Maximum headline level that will still become an independent section
      for info and folding modes. The default is taken from
      <code>org-export-headline-levels</code> (= the <code>H</code> switch in <code>#+OPTIONS</code>). If
      this is smaller than in <code>org-export-headline-levels</code>, each
      info/folding section can still contain child headlines.</p>
  </dd>
  <dt>toc:</dt><dd>
    <p>Should the table of contents <i>initially</i> be visible? Even when <code>nil</code>,
      you can always get to the &#8220;toc&#8221; with {{{kbd(i)}}}.</p>
  </dd>
  <dt>tdepth:</dt><dd>
    <p>The depth of the table of contents. The defaults are taken from the
      variables <code>org-export-headline-levels</code> and <code>org-export-with-toc</code>.</p>
  </dd>
  <dt>ftoc:</dt><dd>
    <p>Does the CSS of the page specify a fixed position for the &#8220;toc&#8221;? If
      yes, the toc will never be displayed as a section.</p>
  </dd>
  <dt>ltoc:</dt><dd>
    <p>Should there be short contents (children) in each section? Make this
      <code>above</code> if the section should be above initial text.</p>
  </dd>
  <dt>mouse:</dt><dd>
    <p>Headings are highlighted when the mouse is over them. Should be
      {{{samp(underline)}}} (default) or a background color like
      {{{samp(#cccccc)}}}.</p>
  </dd>
  <dt>buttons:</dt><dd>
    <p>Should view-toggle buttons be everywhere? When <code>nil</code> (the default),
      only one such button will be present.</p>
  </dd>
</dl>
<p>{{{vindex(org-infojs-options)}}}
  {{{vindex(org-export-html-use-infojs)}}}</p>
<p>{{{noindent}}} You can choose default values for these options by
  customizing the variable <code>org-infojs-options</code>. If you always want to
  apply the script to your pages, configure the variable
  <code>org-export-html-use-infojs</code>.</p>
<h2><span class="heading-number heading-number-2">12.6</span> LaTeX and PDF export</h2>{{{cindex(@LaTeX{} export)}}}
  {{{cindex(PDF export)}}}
  {{{cindex(Guerry&#92;\, Bastien)}}}
<p>Org mode contains a LaTeX exporter written by Bastien Guerry. With
  further processing, this backend is also used to produce PDF
  output.<sup><a class="footref" name="fnr.124" href="#fn.124">124</a></sup> Since the LaTeX output uses {{{file(hyperref)}}} to
  implement links and cross references, the PDF output file will be
  fully linked. Beware of the fact that your <code>org</code> file has to be
  properly structured in order to be correctly exported: respect the
  hierarchy of sections.</p>
<h3><span class="heading-number heading-number-3">12.6.1</span> LaTeX/PDF export commands</h3>{{{cindex(region&#92;\, active)}}}
  {{{cindex(active region)}}}
  {{{cindex(transient-mark-mode)}}}
<dl>
  <dt>{{{kbd(C-c C-e l)}}}, <code>org-export-as-latex</code></dt><dd>
    {{{kindex(C-c C-e l)}}}
    {{{cindex(property EXPORT_FILE_NAME)}}}
    <p>Export as a LaTeX file. For an Org file {{{file(myfile.org)}}}, the
      LaTeX file will be {{{file(myfile.tex)}}}. The file will be
      overwritten without warning. If there is an active region, only the
      active region will be exported.<sup><a class="footref" name="fnr.125" href="#fn.125">125</a></sup> If the selected region is a
      single tree, the tree head will become the document title.<sup><a class="footref" name="fnr.126" href="#fn.126">126</a></sup> If
      the tree head entry has or inherits an <code>EXPORT_FILE_NAME</code> property,
      that name will be used for the export.</p>
  </dd>
  <dt>{{{kbd(C-c C-e L)}}}, <code>org-export-as-latex-to-buffer</code></dt><dd>
    {{{kindex(C-c C-e L)}}}
    <p>Export to a temporary buffer.  Do not create a file.</p>
  </dd>
  <dt>{{{kbd(C-c C-e v l/L)}}}</dt><dd>
    <p>Export only the visible part of the document.</p>
  </dd>
  <dt>{{{kbd(M-x org-export-region-as-latex)}}}</dt><dd>
    <p>Convert the region to LaTeX under the assumption that it was in Org
      mode syntax before. This is a global command that can be invoked in
      any buffer.</p>
  </dd>
  <dt>{{{kbd(M-x org-replace-region-by-latex)}}}</dt><dd>
    <p>Replace the active region (assumed to be in Org mode syntax) by
      LaTeX code.</p>
  </dd>
  <dt>{{{kbd(C-c C-e p)}}}, <code>org-export-as-pdf</code></dt><dd>
    {{{kindex(C-c C-e p)}}}
    <p>Export as LaTeX and then process to PDF.</p>
  </dd>
  <dt>{{{kbd(C-c C-e d)}}}, <code>org-export-as-pdf-and-open</code></dt><dd>
    {{{kindex(C-c C-e d)}}}
    <p>Export as LaTeX and then process to PDF, then open the resulting
      PDF file.</p>
  </dd>
</dl>
<p>{{{cindex(headline levels&#92;\, for exporting)}}}
  {{{vindex(org-latex-low-levels)}}}</p>
<p>In the exported version, the first 3 outline levels will become
  headlines, defining a general document structure. Additional levels
  will be exported as description lists. The exporter can ignore them or
  convert them to a custom string depending on <code>org-latex-low-levels</code>.</p>
<p>If you want that transition to occur at a different level, specify it
  with a numeric prefix argument, e.g.:</p>
<pre class="example">
C-2 C-c C-e l
</pre>
<p>{{{noindent}}} The example setting creates two levels of headings and
  exports the rest as list items.</p>
<h3><span class="heading-number heading-number-3">12.6.2</span> Header and sectioning</h3>{{{cindex(@LaTeX{} class)}}}
  {{{cindex(@LaTeX{} sectioning structure)}}}
  {{{cindex(@LaTeX{} header)}}}
  {{{cindex(header&#92;\, for @LaTeX{} files)}}}
  {{{cindex(sectioning structure&#92;\, for @LaTeX{} export)}}}
<p>By default, the LaTeX output uses the class <code>article</code>.</p>
<p>{{{vindex(org-export-latex-default-class)}}}
  {{{vindex(org-export-latex-classes)}}}
  {{{vindex(org-export-latex-default-packages-alist)}}}
  {{{vindex(org-export-latex-packages-alist)}}}
  {{{cindex(#+LaTeX_HEADER)}}}
  {{{cindex(#+LaTeX_CLASS)}}}
  {{{cindex(#+LaTeX_CLASS_OPTIONS)}}}
  {{{cindex(property&#92;\, LaTeX_CLASS)}}}
  {{{cindex(property&#92;\, LaTeX_CLASS_OPTIONS)}}}</p>
<p>You can change this globally by setting a different value for
  <code>org-export-latex-default-class</code> or locally by adding an option like
  <code>#+LaTeX_CLASS: myclass</code> in your file, or with a <code>:LaTeX_CLASS:</code>
  property that applies when exporting a region containing only this
  (sub)tree. The class must be listed in <code>org-export-latex-classes</code>.
  This variable defines a header template for each class, and allows you
  to define the sectioning structure for each class.<sup><a class="footref" name="fnr.127" href="#fn.127">127</a></sup> You can
  also define your own classes there. <code>#+LaTeX_CLASS_OPTIONS</code> or a
  <code>:LaTeX_CLASS_OPTIONS:</code> property can specify the options for the
  <code>\documentclass</code> macro. The options to documentclass have to be
  provided, as expected by LaTeX, within square brackets. You can
  also use <code>#+LaTeX_HEADER: \usepackage{xyz}</code> to add lines to the
  header. See the docstring of <code>org-export-latex-classes</code> for more
  information. An example is shown below.</p>
<pre class="example">
,#+LaTeX_CLASS: article
,#+LaTeX_CLASS_OPTIONS: [a4paper]
,#+LaTeX_HEADER: \usepackage{xyz}

,* Headline 1
  some text
</pre>
<h3><span class="heading-number heading-number-3">12.6.3</span> Quoting LaTeX code</h3>
<p>Embedded LaTeX as described in <a href="Embedded LaTeX">Embedded LaTeX</a>, will be correctly
  inserted into the LaTeX file. This includes simple macros like
  <code>\ref{LABEL}</code> to create a cross reference to a figure. Furthermore,
  you can add special code that should only be present in LaTeX export
  with the following constructs:</p>
<p>{{{cindex(#+LaTeX)}}}
  {{{cindex(#+BEGIN_LaTeX)}}}</p>
<pre class="example">
,#+LaTeX: Literal LaTeX code for export
</pre>
<p>{{{noindent}}} or</p>
<p>{{{cindex(#+BEGIN_LaTeX)}}}</p>
<pre class="example">
,#+BEGIN_LaTeX
All lines between these markers are exported literally
,#+END_LaTeX
</pre>
<h3><span class="heading-number heading-number-3">12.6.4</span> Tables in LaTeX export</h3>{{{cindex(tables&#92;\, in @LaTeX{} export)}}}
<p>For LaTeX export of a table, you can specify a label, a caption and
  placement options (see <a href="Images and tables">Images and tables</a>).  You can also use the
  <code>ATTR_LaTeX</code> line to request a <code>longtable</code> environment for the
  table, so that it may span several pages, or to change the default table
  environment from <code>table</code> to <code>table*</code> or to change the default inner
  tabular environment to <code>tabularx</code> or <code>tabulary</code>.  Finally, you can
  set the alignment string, and (with <code>tabularx</code> or <code>tabulary</code>) the
  width:</p>
<p>{{{cindex(#+CAPTION)}}}
  {{{cindex(#+LABEL)}}}
  {{{cindex(#+ATTR_LaTeX)}}}</p>
<pre class="example">
,#+CAPTION: A long table
,#+LABEL: tbl:long
,#+ATTR_LaTeX: longtable align=l|lp@{3cm@}r|l
| ..... | ..... |
| ..... | ..... |
</pre>
<p>or to specify a multicolumn table with <code>tabulary</code>:</p>
<p>{{{cindex(#+CAPTION)}}}
  {{{cindex(#+LABEL)}}}
  {{{cindex(#+ATTR_LaTeX)}}}</p>
<pre class="example">
,#+CAPTION: A wide table with tabulary
,#+LABEL: tbl:wide
,#+ATTR_LaTeX: table* tabulary width=\textwidth
| ..... | ..... |
| ..... | ..... |
</pre>
<h3><span class="heading-number heading-number-3">12.6.5</span> Images in LaTeX export</h3>{{{cindex(images&#92;\, inline in @LaTeX{})}}}
  {{{cindex(inlining images in @LaTeX{})}}}
<p>Images that are linked to without a description part in the link, like
  {{{samp(<img src="img.jpg" alt="img.jpg" />)}}} or {{{samp(<img src="./img.jpg" alt="./img.jpg" />)}}} will be inserted
  into the PDF output file resulting from LaTeX processing. Org will
  use an <code>\includegraphics</code> macro to insert the image. If you have
  specified a caption and/or a label as described in <a href="Images and tables">Images and tables</a>,
  the figure will be wrapped into a <code>figure</code> environment and thus become
  a floating element. You can use an <code>#+ATTR_LaTeX:</code> line to specify
  various other options. You can ask org to export an image as a float
  without specifying a label or a caption by using the keyword <code>float</code>
  in this line. Various optional arguments to the <code>\includegraphics</code>
  macro can also be specified in this fashion. To modify the placement
  option of the floating environment, add something like
  {{{samp(placement=[h!])}}} to the attributes. It is to be noted this
  option can be used with tables as well.<sup><a class="footref" name="fnr.128" href="#fn.128">128</a></sup></p>
<p>If you would like to let text flow around the image, add the word
  {{{samp(wrap)}}} to the <code>#+ATTR_LaTeX:</code> line, which will make the
  figure occupy the left half of the page. To fine-tune, the <code>placement</code>
  field will be the set of additional arguments needed by the
  <code>wrapfigure</code> environment. Note that if you change the size of the
  image, you need to use compatible settings for <code>\includegraphics</code> and
  <code>wrapfigure</code>.</p>
<p>{{{cindex(#+CAPTION)}}}
  {{{cindex(#+LABEL)}}}
  {{{cindex(#+ATTR_LaTeX)}}}</p>
<pre class="example">
,#+CAPTION:    The black-body emission of the disk around HR 4049
,#+LABEL:      fig:SED-HR4049
,#+ATTR_LaTeX: width=5cm,angle=90
[[./img/sed-hr4049.pdf]]

,#+ATTR_LaTeX: width=0.38\textwidth wrap placement=@{r@}@{0.4\textwidth@}
[[./img/hst.png]]
</pre>
<p>If you wish to include an image which spans multiple columns in a page, you
  can use the keyword <code>multicolumn</code> in the <code>#+ATTR_LaTeX</code> line.  This
  will export the image wrapped in a <code>figure*</code> environment.</p>
<p>If you need references to a label created in this way, write
  <code>\ref{fig:SED-HR4049}</code> just like in LaTeX.</p>
<h3><span class="heading-number heading-number-3">12.6.6</span> Beamer class export</h3>
<p>The LaTeX class {{{file(beamer)}}} allows production of high
  quality presentations using LaTeX and pdf processing. Org mode has
  special support for turning an Org mode file or tree into a
  {{{file(beamer)}}} presentation.</p>
<p>When the LaTeX class for the current buffer (as set with <code>#+LaTeX_CLASS:
  beamer</code>) or subtree (set with a <code>LaTeX_CLASS</code> property) is
  <code>beamer</code>, a special export mode will turn the file or tree into a beamer
  presentation.  Any tree with not-too-deep level nesting should in principle be
  exportable as a beamer presentation.  By default, the top-level entries (or
  the first level below the selected subtree heading) will be turned into
  frames, and the outline structure below this level will become itemize lists.
  You can also configure the variable <code>org-beamer-frame-level</code> to a
  different level&#8212;then the hierarchy above frames will produce the sectioning
  structure of the presentation.</p>
<p>A template for useful in-buffer settings or properties can be inserted
  into the buffer with
  {{{kbd(M-x org-insert-beamer-options-template)}}}. Among other things, this will
  install a column view format which is very handy for editing special
  properties used by beamer.</p>
<p>You can influence the structure of the presentation using the following
  properties:</p>
<dl>
  <dt><code>BEAMER_env</code></dt><dd>
    <p>The environment that should be used to format this entry. Valid
      environments are defined in the constant
      <code>org-beamer-environments-default</code>, and you can define more in
      <code>org-beamer-environments-extra</code>. If this property is set, the entry
      will also get a <code>:B_environment:</code> tag to make this visible. This tag
      has no semantic meaning, it is only a visual aid.</p>
  </dd>
  <dt><code>BEAMER_envargs</code></dt><dd>
    <p>The beamer-special arguments that should be used for the environment,
      like <code>[t]</code> or <code>[&lt;+-&gt;]</code> of <code>&lt;2-3&gt;</code>. If the <code>BEAMER_col</code> property is
      also set, something like <code>C[t]</code> can be added here as well to set an
      options argument for the implied <code>columns</code> environment. <code>c[t]</code> or
      <code>c&lt;2-&gt;</code> will set an options for the implied <code>column</code> environment.</p>
  </dd>
  <dt><code>BEAMER_col</code></dt><dd>
    <p>The width of a column that should start with this entry. If this
      property is set, the entry will also get a <code>:BMCOL:</code> property to make
      this visible. Also this tag is only a visual aid. When this is a plain
      number, it will be interpreted as a fraction of <code>\textwidth</code>.
      Otherwise it will be assumed that you have specified the units, like
      {{{samp(3cm)}}}. The first such property in a frame will start a
      <code>columns</code> environment to surround the columns. This environment is
      closed when an entry has a <code>BEAMER_col</code> property with value 0 or 1, or
      automatically at the end of the frame.</p>
  </dd>
  <dt><code>BEAMER_extra</code></dt><dd>
    <p>Additional commands that should be inserted after the environment has
      been opened. For example, when creating a frame, this can be used to
      specify transitions.</p>
  </dd>
</dl>
<p>Frames will automatically receive a <code>fragile</code> option if they contain
  source code that uses the verbatim environment.  Special {{{file(beamer)}}}
  specific code can be inserted using <code>#+BEAMER:</code> and
  <code>#+BEGIN_BEAMER</code> &#8230; <code>#+END_BEAMER</code> constructs, similar to other export
  backends, but with the difference that <code>#+LaTeX:</code> stuff will be included
  in the presentation as well.</p>
<p>Outline nodes with <code>BEAMER_env</code> property value {{{samp(note)}}} or
  {{{samp(noteNH)}}} will be formatted as beamer notes, i,e, they will be wrapped
  into <code>\note{...}</code>.  The former will include the heading as part of the
  note text, the latter will ignore the heading of that node.  To simplify note
  generation, it is actually enough to mark the note with a <i>tag</i> (either
  <code>:B_note:</code> or <code>:B_noteNH:</code>) instead of creating the
  <code>BEAMER_env</code> property.</p>
<p>You can turn on a special minor mode <code>org-beamer-mode</code> for editing
  support with the following line:</p>
<pre class="example">
,#+STARTUP: beamer
</pre>
<dl>
  <dt>{{{kbd(C-c C-b)}}}, <code>org-beamer-select-environment</code></dt><dd>
    {{{kindex(C-c C-b)}}}
    <p>In <code>org-beamer-mode</code>, this key offers fast selection of a beamer
      environment or the <code>BEAMER_col</code> property.</p>
  </dd>
</dl>
<p>Column view provides a great way to set the environment of a node and
  other important parameters. Make sure you are using a COLUMN format
  that is geared toward this special purpose. The command
  {{{kbd(M-x org-insert-beamer-options-template)}}} defines such a format.</p>
<p>Here is a simple example Org document that is intended for beamer export.</p>
<pre class="example">
,#+LaTeX_CLASS: beamer
,#+TITLE: Example Presentation
,#+AUTHOR: Carsten Dominik
,#+LaTeX_CLASS_OPTIONS: [presentation]
,#+BEAMER_FRAME_LEVEL: 2
,#+BEAMER_HEADER_EXTRA: \usetheme@{Madrid@}\usecolortheme@{default@}
,#+COLUMNS: %35ITEM %10BEAMER_env(Env) %10BEAMER_envargs(Args) %4BEAMER_col(Col) %8BEAMER_extra(Ex)

,* This is the first structural section

,** Frame 1 \\ with a subtitle
,*** Thanks to Eric Fraga                                      :BMCOL:B_block:
    :PROPERTIES:
    :BEAMER_env: block
    :BEAMER_envargs: C[t]
    :BEAMER_col: 0.5
    :END:
    for the first viable beamer setup in Org
,*** Thanks to everyone else                                   :BMCOL:B_block:
    :PROPERTIES:
    :BEAMER_col: 0.5
    :BEAMER_env: block
    :BEAMER_envargs: &lt;2-&gt;
    :END:
    for contributing to the discussion
,**** This will be formatted as a beamer note                  :B_note:
,** Frame 2 \\ where we will not use columns
,*** Request                                                   :B_block:
    Please test this stuff!
    :PROPERTIES:
    :BEAMER_env: block
    :END:
</pre>
<p>For more information, see the documentation on Worg.</p>
<h2><span class="heading-number heading-number-2">12.7</span> DocBook export</h2>{{{cindex(DocBook export)}}}
  {{{cindex(PDF export)}}}
  {{{cindex(Cui&#92;\, Baoqiu)}}}
<p>Org contains a DocBook exporter written by Baoqiu Cui.  Once an Org file is
  exported to DocBook format, it can be further processed to produce other
  formats, including PDF, HTML, man pages, etc., using many available DocBook
  tools and stylesheets.</p>
<p>Currently DocBook exporter only supports DocBook V5.0.</p>
<h3><span class="heading-number heading-number-3">12.7.1</span> DocBook export commands</h3>{{{cindex(region&#92;\, active)}}}
  {{{cindex(active region)}}}
  {{{cindex(transient-mark-mode)}}}
<dl>
  <dt>{{{kbd(C-c C-e D)}}}, <code>org-export-as-docbook</code></dt><dd>
    {{{kindex(C-c C-e D)}}}
    {{{cindex(property EXPORT_FILE_NAME)}}}
    <p>Export as a DocBook file. For an Org file, {{{file(myfile.org)}}}, the
      DocBook XML file will be {{{file(myfile.xml)}}}. The file will be
      overwritten without warning. If there is an active region, only the
      region will be exported.<sup><a class="footref" name="fnr.129" href="#fn.129">129</a></sup> If the selected region is a single
      tree, the tree head will become the document title.<sup><a class="footref" name="fnr.130" href="#fn.130">130</a></sup> If the
      tree head entry has, or inherits, an <code>EXPORT_FILE_NAME</code> property, that
      name will be used for the export.</p>
  </dd>
  <dt>{{{kbd(C-c C-e V)}}}, <code>org-export-as-docbook-pdf-and-open</code></dt><dd>
    {{{kindex(C-c C-e V)}}}
    <p>Export as a DocBook file, process to PDF, then open the resulting PDF
      file.</p>
    <p>{{{vindex(org-export-docbook-xslt-proc-command)}}}
      {{{vindex(org-export-docbook-xsl-fo-proc-command)}}}</p>
    <p>Note that, in order to produce PDF output based on an exported DocBook
      file, you need to have XSLT processor and XSL-FO processor software
      installed on your system. Check variables
      <code>org-export-docbook-xslt-proc-command</code> and
      <code>org-export-docbook-xsl-fo-proc-command</code>.</p>
    <p>{{{vindex(org-export-docbook-xslt-stylesheet)}}}</p>
    <p>The stylesheet argument <code>%s</code> in variable
      <code>org-export-docbook-xslt-proc-command</code> is replaced by the value of
      variable <code>org-export-docbook-xslt-stylesheet</code>, which needs to be set by
      the user.  You can also overrule this global setting on a per-file basis by
      adding an in-buffer setting <code>#+XSLT:</code> to the Org file.</p>
  </dd>
  <dt>{{{kbd(C-c C-e v D)}}}</dt><dd>
    {{{kindex(C-c C-e v D)}}}
    <p>Export only the visible part of the document.</p>
  </dd>
</dl>
<h3><span class="heading-number heading-number-3">12.7.2</span> Quoting DocBook code</h3>You can quote DocBook code in Org files and copy it verbatim into exported
  DocBook file with the following constructs:
<p>{{{cindex(#+DOCBOOK)}}}
  {{{cindex(#+BEGIN_DOCBOOK)}}}</p>
<pre class="example">
,#+DOCBOOK: Literal DocBook code for export
</pre>
<p>{{{noindent}}} or
  {{{cindex(#+BEGIN_DOCBOOK)}}}</p>
<pre class="example">
,#+BEGIN_DOCBOOK
All lines between these markers are exported by DocBook exporter
literally.
,#+END_DOCBOOK
</pre>
<p>For example, you can use the following lines to include a DocBook warning
  admonition.  As to what this warning says, you should pay attention to the
  document context when quoting DocBook code in Org files.  You may make
  exported DocBook XML files invalid by not quoting DocBook code correctly.</p>
<pre class="example">
,#+BEGIN_DOCBOOK
&lt;warning&gt;
  &lt;para&gt;You should know what you are doing when quoting DocBook XML code
  in your Org file.  Invalid DocBook XML may be generated by
  DocBook exporter if you are not careful!&lt;/para&gt;
&lt;/warning&gt;
,#+END_DOCBOOK
</pre>
<h3><span class="heading-number heading-number-3">12.7.3</span> Recursive sections</h3>{{{cindex(DocBook recursive sections)}}}
<p>DocBook exporter exports Org files as articles using the <code>article</code>
  element in DocBook. Recursive sections, i.e., <code>section</code> elements, are
  used in exported articles. Top level headlines in Org files are
  exported as top level sections, and lower level headlines are exported
  as nested sections. The entire structure of Org files will be exported
  completely, no matter how many nested levels of headlines there are.</p>
<p>Using recursive sections makes it easy to port and reuse exported
  DocBook code in other DocBook document types like <code>book</code> or <code>set</code>.</p>
<h3><span class="heading-number heading-number-3">12.7.4</span> Tables in DocBook export</h3>{{{cindex(tables&#92;\, in DocBook export)}}}
<p>Tables in Org files are exported as HTML tables, which have been
  supported since DocBook V4.3.</p>
<p>If a table does not have a caption, an informal table is generated
  using the <code>informaltable</code> element; otherwise, a formal table will be
  generated using the <code>table</code> element.</p>
<h3><span class="heading-number heading-number-3">12.7.5</span> Images in DocBook export</h3>{{{cindex(images&#92;\, inline in DocBook)}}}
  {{{cindex(inlining images in DocBook)}}}
<p>Images that are linked to without a description part in the link, like
  {{{samp(<img src="img.jpg" alt="img.jpg" />)}}} or {{{samp(<img src="./img.jpg" alt="./img.jpg" />)}}}, will be exported to
  DocBook using <code>mediaobject</code> elements. Each <code>mediaobject</code> element
  contains an <code>imageobject</code> that wraps an <code>imagedata</code> element. If you
  have specified a caption for an image as described in @&lt;a href=&#8221;Images and
  tables&#8221;&gt;Images and
  tables</a>, a <code>caption</code> element will be added in <code>mediaobject</code>. If a label
  is also specified, it will be exported as an <code>xml:id</code> attribute of the
  <code>mediaobject</code> element.</p>
<p>{{{vindex(org-export-docbook-default-image-attributes)}}}</p>
<p>Image attributes supported by the <code>imagedata</code> element, like <code>align</code> or
  <code>width</code>, can be specified in two ways: you can either customize
  variable <code>org-export-docbook-default-image-attributes</code> or use the
  <code>#+ATTR_DOCBOOK:</code> line. Attributes specified in variable
  <code>org-export-docbook-default-image-attributes</code> are applied to all
  inline images in the Org file to be exported (unless they are
  overridden by image attributes specified in <code>#+ATTR_DOCBOOK:</code> lines).</p>
<p>The <code>#+ATTR_DOCBOOK:</code> line can be used to specify additional image
  attributes or override default image attributes for individual images.
  If the same attribute appears in both the <code>#+ATTR_DOCBOOK:</code> line and
  variable <code>org-export-docbook-default-image-attributes</code>, the former
  takes precedence. Here is an example about how image attributes can be
  set:</p>
<p>{{{cindex(#+CAPTION)}}}
  {{{cindex(#+LABEL)}}}
  {{{cindex(#+ATTR_DOCBOOK)}}}</p>
<pre class="example">
,#+CAPTION:    The logo of Org mode
,#+LABEL:      unicorn-svg
,#+ATTR_DOCBOOK: scalefit=&quot;1&quot; width=&quot;100%&quot; depth=&quot;100%&quot;
[[./img/org-mode-unicorn.svg]]
</pre>
<p>{{{vindex(org-export-docbook-inline-image-extensions)}}}</p>
<p>By default, DocBook exporter recognizes the following image file
  types: {{{file(jpeg)}}}, {{{file(jpg)}}}, {{{file(png)}}},
  {{{file(gif)}}}, and {{{file(svg)}}}. You can customize variable
  <code>org-export-docbook-inline-image-extensions</code> to add more types to this
  list as long as DocBook supports them.</p>
<h3><span class="heading-number heading-number-3">12.7.6</span> Special characters</h3>{{{vindex(org-export-docbook-doctype)}}}
  {{{vindex(org-entities)}}}
<p>Special characters that are written in TeX-like syntax, such as
  <code>\alpha</code>, <code>\Gamma</code>, and <code>\Zeta</code>, are supported by DocBook exporter.
  These characters are rewritten to XML entities, like <code>&amp;alpha;</code>,
  <code>&amp;Gamma;</code>, and <code>&amp;Zeta;</code>, based on the list saved in variable
  <code>org-entities</code>. As long as the generated DocBook file includes the
  corresponding entities, these special characters are recognized.</p>
<p>You can customize variable <code>org-export-docbook-doctype</code> to include the
  entities you need. For example, you can set variable
  <code>org-export-docbook-doctype</code> to the following value to recognize all
  special characters included in XHTML entities:</p>
<pre class="example">
&quot;&lt;!DOCTYPE article [
&lt;!ENTITY % xhtml1-symbol PUBLIC
\&quot;-//W3C//ENTITIES Symbol for HTML//EN//XML\&quot;
\&quot;http://www.w3.org/2003/entities/2007/xhtml1-symbol.ent\&quot;
&gt;
%xhtml1-symbol;
]&gt;
&quot;
</pre>
<h2><span class="heading-number heading-number-2">12.8</span> OpenDocument Text export</h2>{{{cindex(K&#92;\, Jambunathan)}}}
  {{{cindex(ODT)}}}
  {{{cindex(OpenDocument)}}}
  {{{cindex(export&#92;\, OpenDocument)}}}
  {{{cindex(LibreOffice)}}}
  {{{cindex(org-odt.el)}}}
  {{{cindex(org-modules)}}}
<p>Org Mode supports export to OpenDocument Text (ODT) format using the
  {{{file(org-odt.el)}}} module.<sup><a class="footref" name="fnr.131" href="#fn.131">131</a></sup> Documents created by this
  exporter use the {{{cite(OpenDocument-v1.2 specification)}}} and
  are compatible with LibreOffice 3.4.<sup><a class="footref" name="fnr.132" href="#fn.132">132</a></sup></p>
<h3><span class="heading-number heading-number-3">12.8.1</span> Pre-requisites for ODT export</h3>{{{cindex(zip)}}}
<p>The ODT exporter relies on the {{{file(zip)}}} program to create the
  final output. Check the availability of this program before proceeding
  further.</p>
<h3><span class="heading-number heading-number-3">12.8.2</span> ODT export commands</h3>&lt;&lt;x-export-to-odt&gt;&gt;
<p>{{{cindex(region&#92;\, active)}}}
  {{{cindex(active region)}}}
  {{{cindex(transient-mark-mode)}}}</p>
<dl>
  <dt>{{{kbd(C-c C-e o)}}}, <code>org-export-as-odt</code></dt><dd>
    {{{kindex(C-c C-e o)}}}
    {{{cindex(property EXPORT_FILE_NAME)}}}
    <p>Export as OpenDocument Text file.</p>
    <p>{{{vindex(org-export-odt-preferred-output-format)}}}</p>
    <p>If <code>org-export-odt-preferred-output-format</code> is specified,
      automatically convert the exported file to that format. See
      <a href="Automatically exporting to other formats">Automatically exporting to other formats</a>.</p>
    <p>For an Org file {{{file(myfile.org)}}}, the ODT file will be
      {{{file(myfile.odt)}}}. The file will be overwritten without warning.
      If there is an active region, only the region will be
      exported.<sup><a class="footref" name="fnr.133" href="#fn.133">133</a></sup> If the selected region is a single tree, the tree
      head will become the document title.<sup><a class="footref" name="fnr.134" href="#fn.134">134</a></sup> If the tree head entry
      has, or inherits, an <code>EXPORT_FILE_NAME</code> property, that name will be
      used for the export.</p>
  </dd>
  <dt>{{{kbd(C-c C-e O)}}}, <code>org-export-as-odt-and-open</code></dt><dd>
    {{{kindex(C-c C-e O)}}}
    <p>Export as an OpenDocument Text file and open the resulting file.</p>
    <p>{{{vindex(org-export-odt-preferred-output-format)}}}</p>
    <p>If <code>org-export-odt-preferred-output-format</code> is specified, open the
      converted file instead.  See <a href="x-export-to-other-formats">Automatically exporting to other formats</a>.</p>
  </dd>
</dl>
<h3><span class="heading-number heading-number-3">12.8.3</span> Extending ODT export</h3>
<p>The ODT exporter can interface with a variety of document converters
  and supports popular converters out of the box. As a result, you can
  use it to export to formats like {{{samp(doc)}}} or convert a document
  from one format (say {{{samp(csv)}}}) to another format (say
  {{{samp(ods)}}} or {{{samp(xls)}}}).</p>
<p>{{{cindex(@file{unoconv})}}}
  {{{cindex(LibreOffice)}}}</p>
<p>If you have a working installation of LibreOffice, a document
  converter is pre-configured for you and you can use it right away. If
  you would like to use {{{file(unoconv)}}} as your preferred converter,
  customize the variable <code>org-export-odt-convert-process</code> to point to
  <code>unoconv</code>. You can also use your own favorite converter or tweak the
  default settings of the {{{file(LibreOffice)}}} and
  {{{samp(unoconv)}}} converters. See <a href="Configuring a document converter">Configuring a document converter</a>.</p>
<h4><span class="heading-number heading-number-4">12.8.3.1</span> Automatically exporting to other formats</h4>&lt;&lt;x-export-to-other-formats&gt;&gt;
<p>{{{vindex(org-export-odt-preferred-output-format)}}}</p>
<p>Very often, you will find yourself exporting to ODT format, only to
  immediately save the exported document to other formats like
  {{{samp(doc)}}}, {{{samp(docx)}}}, {{{samp(rtf)}}}, {{{samp(pdf)}}}
  etc. In such cases, you can specify your preferred output format by
  customizing the variable <code>org-export-odt-preferred-output-format</code>.
  This way, the export commands (see <a href="x-export-to-odt">Exporting to ODT</a>)
  can be extended to export to a format that is of immediate interest to
  you.</p>
<h4><span class="heading-number heading-number-4">12.8.3.2</span> Converting between document formats</h4>
<p>There are many document converters in the wild that support
  conversion to and from various file formats, including, but not
  limited to the ODT format. LibreOffice converter, mentioned above, is
  one such converter. Once a converter is configured, you can interact
  with it using the following command.</p>
<dl>
  <dt>{{{kbd(M-x org-export-odt-convert)}}}</dt><dd>
    {{{vindex(org-export-odt-convert)}}}
    <p>Convert an existing document from one format to another. With a prefix
      argument, also open the newly produced file.</p>
  </dd>
</dl>
<h3><span class="heading-number heading-number-3">12.8.4</span> Applying custom styles</h3>{{{cindex(styles&#92;\, custom)}}}
  {{{cindex(template&#92;\, custom)}}}
<p>The ODT exporter ships with a set of OpenDocument styles
  (see <a href="Working with OpenDocument style files">Working with OpenDocument style files</a>) that ensure a well-formatted output.
  These factory styles, however, may not cater to your specific tastes.
  To customize the output, you can either modify the above styles files
  directly, or generate the required styles using an application like
  LibreOffice. The latter method is suitable for expert and non-expert
  users alike, and is described here.</p>
<p>Custom styles can be applied in three easy steps:</p>
<ol>
  <li>Create a sample {{{file(example.org)}}} file with the below
    settings and export it to ODT format.
    <pre class="example">
,#+OPTIONS: H:10 num:t
    </pre>
  </li>
  <li>Open the above {{{file(example.odt)}}} using LibreOffice. Use the
    {{{file(Stylist)}}} to locate the target styles&#8212;these typically
    have the {{{samp(Org)}}} prefix&#8212;and modify those to your taste.
    Save the modified file either as an OpenDocument Text
    ({{{file(.odt)}}}) or OpenDocument Template ({{{file(.ott)}}})
    file.</li>
  <li>Customize the variable <code>org-export-odt-styles-file</code> and point it to
    the newly created file. For additional configuration options see
    <a href="x-overriding-factory-styles">Overriding factory styles</a>.
    <p>{{{cindex(#+ODT_STYLES_FILE)}}}
      {{{vindex(org-export-odt-styles-file)}}}</p>
    <p>If you would like to choose a style on a per-file basis, you can use
      the <code>#+ODT_STYLES_FILE</code> option. A typical setting will look like
      one of these two examples:</p>
    <pre class="example">
,#+ODT_STYLES_FILE: &quot;/path/to/example.ott&quot;
    </pre>
    <p>or</p>
    <pre class="example">
,#+ODT_STYLES_FILE: (&quot;/path/to/file.ott&quot; (&quot;styles.xml&quot; &quot;image/hdr.png&quot;))
    </pre>
  </li>
</ol>
<p>Although you can use third-party styles and templates for customizing
  your output, this will produce the desired output only if the template
  provides all style names that the {{{samp(ODT)}}} exporter relies
  upon. Unless this condition is met, the output is going to be less
  than satisfactory. It is highly recommended that you only work with
  templates that are directly derived from the factory settings.</p>
<h3><span class="heading-number heading-number-3">12.8.5</span> Links in ODT export</h3>{{{cindex(tables&#92;\, in DocBook export)}}}
<p>ODT exporter creates native cross-references for internal links. It
  creates Internet-style links for all other links.</p>
<p>A link with no description and destined to a regular (un-itemized)
  outline heading is replaced with a cross-reference and section number
  of the heading.</p>
<p>A <code>\ref{label}</code>-style reference to an image, table etc. is replaced
  with a cross-reference and sequence number of the labeled entity. See
  <a href="Labels and captions in ODT export">Labels and captions in ODT export</a>.</p>
<h3><span class="heading-number heading-number-3">12.8.6</span> Tables in ODT export</h3>
<p>{{{cindex(tables&#92;\, in DocBook export)}}}</p>
<p>Export of native Org mode tables (see <a href="Tables">Tables</a>) and simple
  {{{file(table.el)}}} tables is supported. However, export of complex
  {{{file(table.el)}}} tables&#8212;tables that have column or row
  spans&#8212;is not supported. Such tables are stripped from the exported
  document.</p>
<p>By default, a table is exported with top and bottom frames and with
  rules separating row and column groups (see <a href="Column groups">Column groups</a>).
  Furthermore, all tables are typeset to occupy the same width. If the
  table specifies alignment and relative width for its columns (see
  <a href="Column width and alignment">Column width and alignment</a>) then these are honored on export.<sup><a class="footref" name="fnr.135" href="#fn.135">135</a></sup></p>
<p>{{{cindex(#+ATTR_ODT)}}}</p>
<p>You can control the width of the table by specifying <code>:rel-width</code>
  property using an <code>#+ATTR_ODT</code> line.</p>
<p>For example, consider the following table which makes use of all the
  rules mentioned above.</p>
<pre class="example">
#+ATTR_ODT: :rel-width 50
| Area/Month    |   Jan |   Feb |   Mar |   Sum |
|---------------+-------+-------+-------+-------|
| /             |     &lt; |       |       |     &lt; |
| &lt;l13&gt;         |  &lt;r5&gt; |  &lt;r5&gt; |  &lt;r5&gt; |  &lt;r6&gt; |
| North America |     1 |    21 |   926 |   948 |
| Middle East   |     6 |    75 |   844 |   925 |
| Asia Pacific  |     9 |    27 |   790 |   826 |
|---------------+-------+-------+-------+-------|
| Sum           |    16 |   123 |  2560 |  2699 |
</pre>
<p>On export, the table will occupy 50% of text area. The columns will be
  sized (roughly) in the ratio of 13:5:5:5:6. The first column will be
  left-aligned and rest of the columns will be right-aligned. There will
  be vertical rules after separating the header and last columns from
  other columns. There will be horizontal rules separating the header
  and last rows from other rows.</p>
<p>If you are not satisfied with the above formatting options, you can
  create custom table styles and associate them with a table using the
  <code>#+ATTR_ODT</code> line. See <a href="Customizing tables in ODT export">Customizing tables in ODT export</a>.</p>
<h3><span class="heading-number heading-number-3">12.8.7</span> Images in ODT export</h3>{{{cindex(images&#92;\, embedding in ODT)}}}
  {{{cindex(embedding images in ODT)}}}
<p>You can embed images within the exported document by providing a link to the
  desired image file with no link description.  For example, to embed
  {{{samp(img.png)}}} do either of the following:</p>
<pre class="example">
[[file:img.png]]
</pre>
<pre class="example">
[[./img.png]]
</pre>
<p>You can create clickable images by providing a link whose description
  is a link to an image file. For example, to embed an image
  {{{file(org-mode-unicorn.png)}}}, which when clicked jumps to
  <a href="http://Orgmode.org">http://Orgmode.org</a> website, do the following:</p>
<pre class="example">
[[http://orgmode.org][./org-mode-unicorn.png]]
</pre>
<p>{{{cindex(#+ATTR_ODT)}}}</p>
<p>You can control the size and scale of the embedded images using the
  <code>#+ATTR_ODT</code> attribute.</p>
<p>{{{cindex(identify&#92;\, ImageMagick)}}}
  {{{vindex(org-export-odt-pixels-per-inch)}}}</p>
<p>The exporter specifies the desired size of the image in the final
  document in units of centimeters. In order to scale the embedded
  images, the exporter queries for pixel dimensions of the images using
  either ImageMagick&#8217;s {{{file(identify)}}} program, or Emacs&#8217;
  `create-image&#8217; and `image-size&#8217; APIs.<sup><a class="footref" name="fnr.136" href="#fn.136">136</a></sup> The pixel dimensions are
  subsequently converted to centimeters using
  <code>org-export-odt-pixels-per-inch</code>. The default value of this variable
  is set to <code>display-pixels-per-inch</code>. You can tweak this variable to
  achieve the best results.</p>
<p>The examples below illustrate the various possibilities.</p>
<dl>
  <dt>Explicitly size the image</dt><dd>
    <p>To embed {{{file(img.png)}}} as a 10 cm x 10 cm image, do the
      following:</p>
    <pre class="example">
#+ATTR_ODT: :width 10 :height 10
[[./img.png]]
    </pre>
  </dd>
  <dt>Scale the image</dt><dd>
    <p>To embed {{{file(img.png)}}} at half its size, do the following:</p>
    <pre class="example">
#+ATTR_ODT: :scale 0.5
[[./img.png]]
    </pre>
  </dd>
  <dt>Scale the image to a specific width</dt><dd>
    <p>To embed {{{file(img.png)}}} with a width of 10 cm while retaining the
      original height:width ratio, do the following:</p>
    <pre class="example">
#+ATTR_ODT: :width 10
[[./img.png]]
    </pre>
  </dd>
  <dt>Scale the image to a specific height</dt><dd>
    <p>To embed {{{file(img.png)}}} with a height of 10 cm while retaining
      the original height:width ratio, do the following:</p>
    <pre class="example">
#+ATTR_ODT: :height 10
[[./img.png]]
    </pre>
  </dd>
</dl>
<p>{{{cindex(#+ATTR_ODT)}}}</p>
<p>You can control the manner in which an image is anchored by setting
  the <code>:anchor</code> property of it&#8217;s <code>#+ATTR_ODT</code> line. You can specify one
  of the the following three values for the <code>:anchor</code> property -
  {{{samp(&#8220;as-char&#8221;)}}}, {{{samp(&#8220;paragraph&#8221;)}}} and {{{samp(&#8220;page&#8221;)}}}.</p>
<p>To create an image that is anchored to a page, do the following:</p>
<pre class="example">
#+ATTR_ODT: :anchor &quot;page&quot;
[[./img.png]]
</pre>
<h3><span class="heading-number heading-number-3">12.8.8</span> Math formatting in ODT export</h3>
<p>The ODT exporter has special support for handling math.</p>
<h4><span class="heading-number heading-number-4">12.8.8.1</span> Working with LaTeX math snippets</h4>
<p>LaTeX math snippets (see <a href="LaTeX fragments">LaTeX fragments</a>) can be embedded in the ODT
  document in one of the following ways:</p>
<p>{{{cindex(MathML)}}}</p>
<dl>
  <dt>MathML</dt><dd>
    <p>This option is activated on a per-file basis with the following option:</p>
    <pre class="example">
,#+OPTIONS: LaTeX:t
    </pre>
    <p>With this option, LaTeX fragments are first converted into MathML
      fragments using an external LaTeX-to-MathML converter program.  The
      resulting MathML fragments are then embedded as an OpenDocument Formula in
      the exported document.</p>
    <p>{{{vindex(org-latex-to-mathml-convert-command)}}}
      {{{vindex(org-latex-to-mathml-jar-file)}}}</p>
    <p>You can specify the LaTeX-to-MathML converter by customizing the variables
      <code>org-latex-to-mathml-convert-command</code> and
      <code>org-latex-to-mathml-jar-file</code>.</p>
    <p>If you prefer to use {{{file(MathToWeb)}}} as your converter, you can
      configure the above variables as shown below.<sup><a class="footref" name="fnr.137" href="#fn.137">137</a></sup></p>
    <pre class="src src-emacs-lisp">
(setq org-latex-to-mathml-convert-command
      &quot;java -jar %j -unicode -force -df %o %I&quot;
      org-latex-to-mathml-jar-file
      &quot;/path/to/mathtoweb.jar&quot;)
    </pre>
    <p>You can use the following commands to quickly verify the reliability of
      the LaTeX-to-MathML converter.</p>
    <dl>
      <dt>{{{kbd(M-x org-export-as-odf)}}}</dt><dd>
        <p>Convert a LaTeX math snippet to an OpenDocument formula
          ({{{file(.odf)}}}) file.</p>
      </dd>
      <dt>{{{kbd(M-x org-export-as-odf-and-open)}}}</dt><dd>
        <p>Convert a LaTeX math snippet to an OpenDocument formula
          ({{{file(.odf)}}}) file and open the formula file with the
          system-registered application.</p>
      </dd>
    </dl>
  </dd>
  <dt>PNG images</dt><dd>
    {{{cindex(dvipng)}}}
    <p>This option is activated on a per-file basis with</p>
    <pre class="example">
,#+OPTIONS: LaTeX:dvipng
    </pre>
    <p>With this option, LaTeX fragments are processed into PNG images and
      the resulting images are embedded in the exported document. This
      method requires that the {{{file(dvipng)}}} program be available on
      your system.</p>
  </dd>
</dl>
<h4><span class="heading-number heading-number-4">12.8.8.2</span> Working with MathML or OpenDocument formula files</h4>
<p>For various reasons, you may find embedding LaTeX math snippets in
  an ODT document less than reliable. In that case, you can embed a math
  equation by linking to its MathML ({{{file(.mml)}}}) source or its
  OpenDocument formula ({{{file(.odf)}}}) file as shown below:</p>
<pre class="example">
[[./equation.mml]]
</pre>
<p>or</p>
<pre class="example">
[[./equation.odf]]
</pre>
<h3><span class="heading-number heading-number-3">12.8.9</span> Labels and captions in ODT export</h3>
<p>You can label and caption various category of objects&#8212;an inline
  image, a table, a LaTeX fragment or a Math formula&#8212;using
  <code>#+LABEL</code> and <code>#+CAPTION</code> lines. See <a href="Images and tables">Images and tables</a>. ODT exporter
  enumerates each labeled or captioned object of a given category
  separately. As a result, each such object is assigned a sequence
  number based on order of its appearance in the Org file.</p>
<p>In the exported document, a user-provided caption is augmented with
  the category and sequence number. Consider the following inline image
  in an Org file:</p>
<pre class="example">
,#+CAPTION: Bell curve
,#+LABEL:   fig:SED-HR4049
[[./img/a.png]]
</pre>
<p>It could be rendered as shown below in the exported document.</p>
<pre class="example">
Figure 2: Bell curve
</pre>
<p>{{{vindex(org-export-odt-category-strings)}}}</p>
<p>You can modify the category component of the caption by customizing
  the variable <code>org-export-odt-category-strings</code>. For example, to tag
  all embedded images with the string {{{samp(Illustration)}}} (instead
  of the default {{{samp(Figure)}}}) use the following setting.</p>
<pre class="src src-emacs-lisp">
(setq org-export-odt-category-strings
      '((&quot;en&quot; &quot;Table&quot; &quot;Illustration&quot; &quot;Equation&quot; &quot;Equation&quot;)))
</pre>
<p>With this, previous image will be captioned as below in the exported
  document.</p>
<pre class="example">
Illustration 2: Bell curve
</pre>
<h3><span class="heading-number heading-number-3">12.8.10</span> Literal examples in ODT export</h3>
<p>Export of literal examples (see <a href="Literal examples">Literal examples</a>) with full
  fontification is supported. Internally, the exporter relies on
  {{{file(htmlfontify.el)}}} to generate all style definitions needed
  for a fancy listing.<sup><a class="footref" name="fnr.138" href="#fn.138">138</a></sup> The auto-generated styles have
  {{{samp(OrgSrc)}}} as prefix and inherit their color from the faces
  used by Emacs <code>font-lock</code> library for the source language.</p>
<p>{{{vindex(org-export-odt-fontify-srcblocks)}}}</p>
<p>If you prefer to use your own custom styles for fontification, you can
  do so by customizing the variable
  <code>org-export-odt-create-custom-styles-for-srcblocks</code>.</p>
<p>{{{vindex(org-export-odt-create-custom-styles-for-srcblocks)}}}</p>
<p>You can turn off fontification of literal examples by customizing the
  variable <code>org-export-odt-fontify-srcblocks</code>.</p>
<h3><span class="heading-number heading-number-3">12.8.11</span> Advanced topics in ODT export</h3>
<p>If you rely heavily on ODT export, you may want to exploit the full
  set of features that the exporter offers. This section describes
  features that would be of interest to power users.</p>
<h4><span class="heading-number heading-number-4">12.8.11.1</span> Configuring a document converter</h4>{{{cindex(convert)}}}
  {{{cindex(doc&#92;\, docx&#92;\, rtf)}}}
  {{{cindex(converter)}}}
<p>The ODT exporter can work with popular converters with little or no
  extra configuration from your side. See <a href="Extending ODT export">Extending ODT export</a>. If you
  are using a converter that is not supported by default or if you would
  like to tweak the default converter settings, proceed as below.</p>
<dl>
  <dt>Register the converter</dt><dd>
    <p>{{{vindex(org-export-odt-convert-processes)}}}</p>
    <p>Name your converter and add it to the list of known converters by
      customizing the variable <code>org-export-odt-convert-processes</code>. Also
      specify how the converter can be invoked via command-line to effect
      the conversion.</p>
  </dd>
  <dt>Configure its capabilities</dt><dd>
    <p>{{{vindex(org-export-odt-convert-capabilities)}}}
      # &lt;&lt;x-odt-converter-capabilities&gt;&gt;</p>
    <p>Specify the set of formats the converter can handle by customizing the
      variable <code>org-export-odt-convert-capabilities</code>.  Use the default value
      for this variable as a guide for configuring your converter.  As suggested by
      the default setting, you can specify the full set of formats supported by the
      converter and not limit yourself to specifying formats that are related to
      just the OpenDocument Text format.</p>
  </dd>
  <dt>Choose the converter</dt><dd>
    <p>{{{vindex(org-export-odt-convert-process)}}}</p>
    <p>Select the newly added converter as the preferred one by customizing the
      variable <code>org-export-odt-convert-process</code>.</p>
  </dd>
</dl>
<h4><span class="heading-number heading-number-4">12.8.11.2</span> Working with OpenDocument style files</h4>{{{cindex(styles&#92;\, custom)}}}
  {{{cindex(template&#92;\, custom)}}}
<p>This section explores the internals of the ODT exporter and the means
  by which it produces styled documents. Read this section if you are
  interested in exploring the automatic and custom OpenDocument styles
  used by the exporter.</p>
<p>The ODT exporter relies on two files for generating its output.
  These files are bundled with the distribution under the directory pointed to
  by the variable <code>org-odt-styles-dir</code>.  The two files are:</p>
<dl>
  <dt>{{{file(OrgOdtStyles.xml)}}}</dt><dd>
    <<x-orgodtstyles-xml>>
    <p>This file contributes to the {{{file(styles.xml)}}} file of the final
      {{{samp(ODT)}}} document. This file is modified to control outline
      numbering based on user settings, and To add styles generated by
      {{{file(htmlfontify.el)}}} for fontification of code blocks.</p>
  </dd>
  <dt>{{{file(OrgOdtContentTemplate.xml)}}}</dt><dd>
    <<x-orgodtcontenttemplate-xml>>
    <p>This file contributes to the {{{file(content.xml)}}} file of the final
      {{{samp(ODT)}}} document. The contents of the Org outline are inserted
      between the <code>&lt;office:text&gt;</code> and <code>&lt;/office:text&gt;</code>
      elements of this file.</p>
    <p>In addition to serving as a template file for the final
      {{{file(content.xml)}}}, the file also contains automatic styles for
      formatting of tables which are referenced by the exporter, and
      <code>&lt;text:sequence-decl&gt;</code> &#8230; <code>&lt;/text:sequence-decl&gt;</code>
      elements that control how various entities&#8212;tables, images,
      equations, etc.&#8212;are numbered.</p>
  </dd>
</dl>
<p>&lt;&lt;x-overriding-factory-styles&gt;&gt;</p>
<p>The following two variables control the location from which the ODT
  exporter picks up the custom styles and content template files. You
  can customize these variables to override the factory styles used by
  the exporter.</p>
<dl>
  <dt><code>org-export-odt-styles-file</code></dt><dd>
    <<x-org-export-odt-styles-file>>
    <p>Use this variable to specify the {{{file(styles.xml)}}} that will be
      used in the final output. You can specify one of the following values:</p>
    <dl>
      <dt>A {{{file(styles.xml)}}} file</dt><dd>
        <p>Use this file instead of the default {{{file(styles.xml)}}}</p>
      </dd>
      <dt>A {{{file(.odt)}}} or {{{file(.ott)}}} file</dt><dd>
        <p>Use the {{{file(styles.xml)}}} contained in the specified OpenDocument
          Text or Template file.</p>
      </dd>
      <dt>A {{{file(.odt)}}} or {{{file(.ott)}}} file and a subset of files contained within them</dt><dd>
        <p>Use the {{{file(styles.xml)}}} contained in the specified OpenDocument
          Text or Template file. Additionally extract the specified member files
          and embed those within the final {{{samp(ODT)}}} document.</p>
        <p>Use this option if the {{{file(styles.xml)}}} file references
          additional files like header and footer images.</p>
      </dd>
      <dt><code>nil</code></dt><dd>
        <p>Use the default {{{file(styles.xml)}}}</p>
      </dd>
    </dl>
  </dd>
  <dt><code>org-export-odt-content-template-file</code></dt><dd>
    <<x-org-export-odt-content-template-file>>
    <p>Use this variable to specify the blank {{{file(content.xml)}}} that
      will be used in the final output.</p>
  </dd>
</dl>
<h4><span class="heading-number heading-number-4">12.8.11.3</span> Creating one-off styles</h4>
<p>There are times when you would want one-off formatting in the exported
  document. You can achieve this by embedding raw OpenDocument XML in
  the Org file. The use of this feature is better illustrated with
  couple of examples.</p>
<dl>
  <dt>Embedding ODT tags as part of regular text</dt><dd>
    <p>You can include simple OpenDocument tags by prefixing them with
      {{{samp(@)}}}. For example, to highlight a region of text do the
      following:</p>
    <pre class="example">
@&lt;text:span text:style-name=&quot;Highlight&quot;&gt;This is a
highlighted text@&lt;/text:span&gt;.  But this is a
regular text.
    </pre>
    <p><b>Hint:</b> To see the above example in action, edit your
      {{{file(styles.xml)}}} (see <a href="x-orgodtstyles-xml">Factory styles</a>) and
      add a custom {{{samp(Highlight)}}} style as shown below.</p>
    <pre class="example">
&lt;style:style style:name=&quot;Highlight&quot; style:family=&quot;text&quot;&gt;
  &lt;style:text-properties fo:background-color=&quot;#ff0000&quot;/&gt;
&lt;/style:style&gt;
    </pre>
  </dd>
  <dt>Embedding a one-line OpenDocument XML</dt><dd>
    <p>You can add a simple OpenDocument one-liner using the <code>#+ODT:</code>
      directive.  For example, to force a page break do the following:</p>
    <pre class="example">
#+ODT: &lt;text:p text:style-name=&quot;PageBreak&quot;/&gt;
    </pre>
    <p><b>Hint:</b> To see the above example in action, edit your
      {{{file(styles.xml)}}} (see <a href="x-orgodtstyles-xml">Factory styles</a>) and
      add a custom {{{samp(PageBreak)}}} style as shown below.</p>
    <pre class="example">
&lt;style:style style:name=&quot;PageBreak&quot; style:family=&quot;paragraph&quot;
             style:parent-style-name=&quot;Text_20_body&quot;&gt;
  &lt;style:paragraph-properties fo:break-before=&quot;page&quot;/&gt;
&lt;/style:style&gt;
    </pre>
  </dd>
  <dt>Embedding a block of OpenDocument XML</dt><dd>
    <p>You can add a large block of OpenDocument XML using the
      <code>#+BEGIN_ODT</code> &#8230; <code>#+END_ODT</code> construct.</p>
    <p>For example, to create a one-off paragraph that uses bold text, do the
      following:</p>
    <pre class="example">
&lt;text:p text:style-name=&quot;Text_20_body_20_bold&quot;&gt;
This paragraph is specially formatted and uses bold text.
&lt;/text:p&gt;
    </pre>
  </dd>
</dl>
<h4><span class="heading-number heading-number-4">12.8.11.4</span> Customizing tables in ODT export</h4>{{{cindex(tables&#92;\, in ODT export)}}}
  {{{cindex(#+ATTR_ODT)}}}
<p>You can override the default formatting of the table by specifying a
  custom table style with the <code>#+ATTR_ODT</code> line. For a discussion on
  default formatting of tables see <a href="Tables in ODT export">Tables in ODT export</a>.</p>
<p>This feature closely mimics the way table templates are defined in the
  OpenDocument-v1.2 specification.<sup><a class="footref" name="fnr.139" href="#fn.139">139</a></sup></p>
<p>To have a quick preview of this feature, install the following setting and
  export the example table.</p>
<pre class="src src-emacs-lisp">
(setq org-export-odt-table-styles
      (append org-export-odt-table-styles
              '((&quot;TableWithHeaderRowAndColumn&quot; &quot;Custom&quot;
                 ((use-first-row-styles . t)
                  (use-first-column-styles . t)))
                (&quot;TableWithFirstRowandLastRow&quot; &quot;Custom&quot;
                 ((use-first-row-styles . t)
                  (use-last-row-styles . t))))))
</pre>
<pre class="example">
,#+ATTR_ODT: :style &quot;TableWithHeaderRowAndColumn&quot;
| Name  | Phone | Age |
| Peter |  1234 |  17 |
| Anna  |  4321 |  25 |
</pre>
<p>In the above example, you used a template named {{{samp(Custom)}}} and
  installed two table styles with the names
  {{{samp(TableWithHeaderRowAndColumn)}}} and
  {{{samp(TableWithFirstRowandLastRow)}}}. (<b>Important:</b> The
  OpenDocument styles needed for producing the above template have been
  pre-defined for you. These styles are available under the section
  marked {{{samp(Custom Table Template)}}} in
  {{{file(OrgOdtContentTemplate.xml)}}} (see
  <a href="x-orgodtcontenttemplate-xml">Factory styles</a>). If you need additional
  templates you have to define these styles yourself.</p>
<p>To use this feature proceed as follows:</p>
<dl>
  <dt>Create a table template@<sup>@<a class="footref" name="fnr.140" href="#fn.140">140@</a>@</sup></dt><dd>
    <p>A table template is nothing but a set of {{{samp(table-cell)}}} and
      {{{samp(paragraph)}}} styles for each of the following table cell
      categories:</p>
    <ul>
      <li>Body</li>
      <li>First column</li>
      <li>Last column</li>
      <li>First row</li>
      <li>Last row</li>
      <li>Even row</li>
      <li>Odd row</li>
      <li>Even column</li>
      <li>Odd Column</li>
    </ul>
    <p>The names for the above styles must be chosen based on the name of the
      table template using a well-defined convention.</p>
    <p>The naming convention is better illustrated with an example. For a
      table template with the name {{{samp(Custom)}}}, the needed style
      names are listed in the following table.</p>
    <table>
      <tr><th>Table cell type</th><th><code>table-cell</code> style</th><th><code>paragraph</code> style</th></tr>
      <tr><td>Body</td><td>{{{samp(CustomTableCell)}}}</td><td>{{{samp(CustomTableParagraph)}}}</td></tr>
      <tr><td>First column</td><td>{{{samp(CustomFirstColumnTableCell)}}}</td><td>{{{samp(CustomFirstColumnTableParagraph)}}}</td></tr>
      <tr><td>Last column</td><td>{{{samp(CustomLastColumnTableCell)}}}</td><td>{{{samp(CustomLastColumnTableParagraph)}}}</td></tr>
      <tr><td>First row</td><td>{{{samp(CustomFirstRowTableCell)}}}</td><td>{{{samp(CustomFirstRowTableParagraph)}}}</td></tr>
      <tr><td>Last row</td><td>{{{samp(CustomLastRowTableCell)}}}</td><td>{{{samp(CustomLastRowTableParagraph)}}}</td></tr>
      <tr><td>Even row</td><td>{{{samp(CustomEvenRowTableCell)}}}</td><td>{{{samp(CustomEvenRowTableParagraph)}}}</td></tr>
      <tr><td>Odd row</td><td>{{{samp(CustomOddRowTableCell)}}}</td><td>{{{samp(CustomOddRowTableParagraph)}}}</td></tr>
      <tr><td>Even column</td><td>{{{samp(CustomEvenColumnTableCell)}}}</td><td>{{{samp(CustomEvenColumnTableParagraph)}}}</td></tr>
      <tr><td>Odd column</td><td>{{{samp(CustomOddColumnTableCell)}}}</td><td>{{{samp(CustomOddColumnTableParagraph)}}}</td></tr>
    </table>
  </dd>
</dl>
<p>To create a table template with the name {{{samp(Custom)}}}, define
  the above styles in the <code>&lt;office:automatic-styles&gt;</code> &#8230;
  <code>&lt;/office:automatic-styles&gt;</code> element of the content template file (see
  <a href="x-orgodtcontenttemplate-xml">Factory styles</a>).</p>
<dl>
  <dt>Define a table style@<sup>@<a class="footref" name="fnr.141" href="#fn.141">141@</a>@</sup></dt><dd>
    <p>{{{vindex(org-export-odt-table-styles)}}}</p>
    <p>To define a table style, create an entry for the style in the variable
      <code>org-export-odt-table-styles</code> and specify the following:</p>
    <ul>
      <li>the name of the table template created in step (1)</li>
      <li>the set of cell styles in that template that are to be activated</li>
    </ul>
  </dd>
</dl>
<p>For example, the entry below defines two different table styles
  {{{samp(TableWithHeaderRowAndColumn)}}} and
  {{{samp(TableWithFirstRowandLastRow)}}} based on the same template
  {{{samp(Custom)}}}. The styles achieve their intended effect by
  selectively activating the individual cell styles in that template.</p>
<pre class="src src-emacs-lisp">
(setq org-export-odt-table-styles
      (append org-export-odt-table-styles
              '((&quot;TableWithHeaderRowAndColumn&quot; &quot;Custom&quot;
                 ((use-first-row-styles . t)
                  (use-first-column-styles . t)))
                (&quot;TableWithFirstRowandLastRow&quot; &quot;Custom&quot;
                 ((use-first-row-styles . t)
                  (use-last-row-styles . t))))))
</pre>
<dl>
  <dt>Associate a table with the table style</dt><dd>
    <p>To do this, specify the table style created in step (2) as part of
      the <code>ATTR_ODT</code> line as shown below.</p>
    <pre class="example">
,#+ATTR_ODT: :style &quot;TableWithHeaderRowAndColumn&quot;
| Name  | Phone | Age |
| Peter |  1234 |  17 |
| Anna  |  4321 |  25 |
    </pre>
  </dd>
</dl>
<h4><span class="heading-number heading-number-4">12.8.11.5</span> Validating OpenDocument XML</h4>
<p>Occasionally, you will discover that the document created by the ODT
  exporter cannot be opened by your favorite application. One of the
  common reasons for this is that the {{{file(.odt)}}} file is corrupt.
  In such cases, you may want to validate the document against the
  OpenDocument RELAX NG Compact Syntax (RNC) schema.</p>
<p>For de-compressing the {{{file(.odt)}}} file: <a href="info:emacs#File%20Archives">info:emacs#File
  Archives</a>.<sup><a class="footref" name="fnr.142" href="#fn.142">142</a></sup> For general help with validation (and
  schema-sensitive editing) of XML files: <a href="info:nxml-mode#Introduction">info:nxml-mode#Introduction</a>.
  {{{vindex(org-export-odt-schema-dir)}}}</p>
<p>If you have ready access to OpenDocument {{{file(.rnc)}}} files and
  the needed schema-locating rules in a single folder, you can customize
  the variable <code>org-export-odt-schema-dir</code> to point to that directory.
  The ODT exporter will take care of updating the
  <code>rng-schema-locating-files</code> for you.</p>
<h2><span class="heading-number heading-number-2">12.9</span> TaskJuggler export</h2>{{{cindex(TaskJuggler export)}}}
  {{{cindex(Project management)}}}
<p><a href="http://www.taskjuggler.org/">TaskJuggler</a> is a project management tool. It provides an optimizing
  scheduler that computes your project time lines and resource
  assignments based on the project outline and the constraints that you
  have provided.</p>
<p>The TaskJuggler exporter is a bit different from other exporters, such
  as the <code>HTML</code> and LaTeX exporters for example, in that it does not
  export all the nodes of a document or strictly follow the order of the
  nodes in the document.</p>
<p>Instead the TaskJuggler exporter looks for a tree that defines the
  tasks and optionally trees that define the resources and reports for
  this project. It then creates a TaskJuggler file based on these trees
  and the attributes defined in all the nodes.</p>
<h3><span class="heading-number heading-number-3">12.9.1</span> TaskJuggler export commands</h3>
<dl>
  <dt>{{{kbd(C-c C-e j)}}}, <code>org-export-as-taskjuggler</code></dt><dd>
    {{{kindex(C-c C-e j)}}}
    <p>Export as a TaskJuggler file.</p>
  </dd>
  <dt>{{{kbd(C-c C-e J)}}}, <code>org-export-as-taskjuggler-and-open</code></dt><dd>
    {{{kindex(C-c C-e J)}}}
    <p>Export as a TaskJuggler file and then open the file with TaskJugglerUI
      (only for TaskJugglerUI 2.x).</p>
  </dd>
</dl>
<h3><span class="heading-number heading-number-3">12.9.2</span> Tasks</h3>{{{vindex(org-export-taskjuggler-project-tag)}}}
<p>Create your tasks as you usually do with Org mode. Assign efforts to
  each task using properties (it is easiest to do this in the column
  view). You should end up with something similar to the example by
  Peter Jones in
  <a href="http://www.contextualdevelopment.com/static/artifacts/articles/2008/project-planning/project-planning.org">http://www.contextualdevelopment.com/static/artifacts/articles/2008/project-planning/project-planning.org</a>.
  Now mark the top node of your tasks with a tag named
  <code>:taskjuggler_project:</code> (or whatever you customized
  <code>org-export-taskjuggler-project-tag</code> to). You are now ready to export
  the project plan with {{{kbd(C-c C-e J)}}} which will export the
  project plan and open a gantt chart in TaskJugglerUI.</p>
<h3><span class="heading-number heading-number-3">12.9.3</span> Resources</h3>{{{vindex(org-export-taskjuggler-resource-tag)}}}
<p>Next you can define resources and assign those to work on specific
  tasks. You can group your resources hierarchically. Tag the top node
  of the resources with <code>:taskjuggler_resource:</code> (or whatever you
  customized <code>org-export-taskjuggler-resource-tag</code> to). You can
  optionally assign an identifier (named {{{samp(resource_id)}}}) to the
  resources (using the standard Org properties commands, see @&lt;a href=&#8221;Property
  syntax&#8221;&gt;Property
  syntax</a>) or you can let the exporter generate identifiers automatically
  (the exporter picks the first word of the headline as the identifier
  as long as it is unique&#8212;see the documentation of
  <code>org-taskjuggler-get-unique-id</code>). Using that identifier you can then
  allocate resources to tasks. This is again done with the
  {{{samp(allocate)}}} property on the tasks. Do this in column view or
  when on the task type
  {{{ksksksk(C-c C-x p allocate,RET,&lt;resource_id&gt;,RET)}}}.</p>
<p>Once the allocations are done you can again export to TaskJuggler and
  check in the Resource Allocation Graph which person is working on what
  task at what time.</p>
<h3><span class="heading-number heading-number-3">12.9.4</span> Export of properties</h3>
<p>The exporter also takes TODO state information into consideration,
  i.e., if a task is marked as done it will have the corresponding
  attribute in TaskJuggler ({{{samp(complete 100)}}}). Scheduling
  information is also taken into account to set start/end dates for
  tasks.</p>
<p>The exporter will also export any property on a task resource or
  resource node which is known to TaskJuggler, such as
  {{{samp(limits)}}}, {{{samp(vacation)}}}, {{{samp(shift)}}},
  {{{samp(booking)}}}, {{{samp(efficiency)}}}, {{{samp(journalentry)}}},
  {{{samp(rate)}}} for resources or {{{samp(account)}}},
  {{{samp(start)}}}, {{{samp(note)}}}, {{{samp(duration)}}},
  {{{samp(end)}}}, {{{samp(journalentry)}}}, {{{samp(milestone)}}},
  {{{samp(reference)}}}, {{{samp(responsible)}}},
  {{{samp(scheduling)}}}, etc for tasks.</p>
<h3><span class="heading-number heading-number-3">12.9.5</span> Dependencies</h3>
<p>The exporter will handle dependencies that are defined in the tasks
  either with the {{{samp(ORDERED)}}} attribute (see <a href="TODO dependencies">TODO dependencies</a>),
  with the {{{samp(BLOCKER)}}} attribute (see {{{file(org-depend.el)}}})
  or alternatively with a {{{samp(depends)}}} attribute. Both the
  {{{samp(BLOCKER)}}} and the {{{samp(depends)}}} attribute can be
  either {{{samp(previous-sibling)}}} or a reference to an identifier
  (named {{{samp(task_id)}}}) which is defined for another task in the
  project. {{{samp(BLOCKER)}}} and the {{{samp(depends)}}} attribute can
  define multiple dependencies separated by either space or comma. You
  can also specify optional attributes on the dependency by simply
  appending it. The following examples should illustrate this:</p>
<pre class="example">
,* Preparation
,  :PROPERTIES:
,  :task_id:  preparation
,  :ORDERED:  t
,  :END:
,* Training material
,  :PROPERTIES:
,  :task_id:  training_material
,  :ORDERED:  t
,  :END:
,** Markup Guidelines
,   :PROPERTIES:
,   :Effort:   2d
,   :END:
,** Workflow Guidelines
,   :PROPERTIES:
,   :Effort:   2d
,   :END:
,* Presentation
,  :PROPERTIES:
,  :Effort:   2d
,  :BLOCKER:  training_material { gapduration 1d } preparation
,  :END:
</pre>
<h3><span class="heading-number heading-number-3">12.9.6</span> Reports</h3>{{{vindex(org-export-taskjuggler-default-reports)}}}
<p>TaskJuggler can produce many kinds of reports (e.g., gantt chart,
  resource allocation, etc). The user defines what kind of reports
  should be generated for a project in the TaskJuggler file. By default,
  the exporter will automatically insert some pre-set reports in the
  file. These defaults are defined in
  <code>org-export-taskjuggler-default-reports</code>. They can be modified using
  customize along with a number of other options. For a more complete
  list, see
  {{{ksksksk(M-x customize-group,RET,org-export-taskjuggler,RET)}}}.</p>
<p>Alternately, the user can tag a tree with
  <code>org-export-taskjuggler-report-tag</code>, and define reports in sub-nodes,
  similarly to what is done with tasks or resources. The properties used
  for report generation are defined in
  <code>org-export-taskjuggler-valid-report-attributes</code>. In addition, a
  special property named {{{samp(report-kind)}}} is used to define the
  kind of report one wants to generate (by default, a
  {{{samp(taskreport)}}}).</p>
<p>For more information and examples see the Org-taskjuggler tutorial at
  <a href="http://orgmode.org/worg/org-tutorials/org-taskjuggler.html">http://orgmode.org/worg/org-tutorials/org-taskjuggler.html</a>.</p>
<h2><span class="heading-number heading-number-2">12.10</span> Freemind export</h2>{{{cindex(Freemind export)}}}
  {{{cindex(mind map)}}}
<p>The Freemind exporter was written by Lennart Borgman.</p>
<dl>
  <dt>{{{kbd(C-c C-e m)}}}, <code>org-export-as-freemind</code></dt><dd>
    {{{kindex(C-c C-e m)}}}
    <p>Export as a Freemind mind map. For an Org file {{{file(myfile.org)}}},
      the Freemind file will be {{{file(myfile.mm)}}}.</p>
  </dd>
</dl>
<h2><span class="heading-number heading-number-2">12.11</span> XOXO export</h2>{{{cindex(XOXO export)}}}
<p>Org mode contains an exporter that produces XOXO-style output.
  Currently, this exporter only handles the general outline structure
  and does not interpret any additional Org mode features.</p>
<dl>
  <dt>{{{kbd(C-c C-e x)}}}, <code>org-export-as-xoxo</code></dt><dd>
    {{{kindex(C-c C-e x)}}}
    <p>Export as an XOXO file. For an Org file {{{file(myfile.org)}}}, the
      XOXO file will be {{{file(myfile.html)}}}.</p>
  </dd>
  <dt>{{{kbd(C-c C-e v x)}}}</dt><dd>
    {{{kindex(C-c C-e v x)}}}
    <p>Export only the visible part of the document.</p>
  </dd>
</dl>
<h2><span class="heading-number heading-number-2">12.12</span> iCalendar export</h2>{{{cindex(iCalendar export)}}}
<p>{{{vindex(org-icalendar-include-todo)}}}
  {{{vindex(org-icalendar-use-deadline)}}}
  {{{vindex(org-icalendar-use-scheduled)}}}
  {{{vindex(org-icalendar-categories)}}}
  {{{vindex(org-icalendar-alarm-time)}}}</p>
<p>Some people use Org mode for keeping track of projects, but still
  prefer a standard calendar application for anniversaries and
  appointments. In this case it can be useful to show deadlines and
  other time-stamped items in Org files in the calendar application. Org
  mode can export calendar information in the standard iCalendar format.
  If you also want to have TODO entries included in the export,
  configure the variable <code>org-icalendar-include-todo</code>. Plain timestamps
  are exported as VEVENT, and TODO items as VTODO. It will also create
  events from deadlines that are in non-TODO items. Deadlines and
  scheduling dates in TODO items will be used to set the start and due
  dates for the TODO entry.<sup><a class="footref" name="fnr.143" href="#fn.143">143</a></sup> As categories, it will use the tags
  locally defined in the heading, and the file/tree category.<sup><a class="footref" name="fnr.144" href="#fn.144">144</a></sup>
  See the variable <code>org-icalendar-alarm-time</code> for a way to assign alarms
  to entries with a time.</p>
<p>{{{vindex(org-icalendar-store-UID)}}}
  {{{cindex(property&#92;\, ID)}}}</p>
<p>The iCalendar standard requires each entry to have a globally unique
  identifier (UID). Org creates these identifiers during export. If you
  set the variable <code>org-icalendar-store-UID</code>, the UID will be stored in
  the <code>:ID:</code> property of the entry and re-used next time you report this
  entry. Since a single entry can give rise to multiple iCalendar
  entries (as a timestamp, a deadline, a scheduled item, and as a TODO
  item), Org adds prefixes to the UID, depending on what triggered the
  inclusion of the entry. In this way the UID remains unique, but a
  synchronization program can still figure out from which entry all the
  different instances originate.</p>
<dl>
  <dt>{{{kbd(C-c C-e i)}}}, <code>org-export-icalendar-this-file</code></dt><dd>
    {{{kindex(C-c C-e i)}}}
    <p>Create iCalendar entries for the current file and store them in the
      same directory, using a file extension {{{file(.ics)}}}.</p>
  </dd>
  <dt>{{{kbd(C-c C-e I)}}}, ~ org-export-icalendar-all-agenda-files~</dt><dd>
    {{{kindex(C-c C-e I)}}}
    {{{vindex(org-agenda-files)}}}
    <p>Like {{{kbd(C-c C-e i)}}}, but do this for all files in
      <code>org-agenda-files</code>. For each of these files, a separate iCalendar file
      will be written.</p>
  </dd>
  <dt>{{{kbd(C-c C-e c)}}}, <code>org-export-icalendar-combine-agenda-files</code></dt><dd>
    {{{kindex(C-c C-e c)}}}
    {{{vindex(org-combined-agenda-icalendar-file)}}}
    <p>Create a single large iCalendar file from all files in
      <code>org-agenda-files</code> and write it to the file given by
      <code>org-combined-agenda-icalendar-file</code>.</p>
  </dd>
</dl>
<p>{{{vindex(org-use-property-inheritance)}}}
  {{{vindex(org-icalendar-include-body)}}}
  {{{cindex(property&#92;\, SUMMARY)}}}
  {{{cindex(property&#92;\, DESCRIPTION)}}}
  {{{cindex(property&#92;\, LOCATION)}}}</p>
<p>The export will honor SUMMARY, DESCRIPTION and LOCATION properties if
  the selected entries have them.<sup><a class="footref" name="fnr.145" href="#fn.145">145</a></sup> If not, the summary will be
  derived from the headline, and the description from the body (limited
  to <code>org-icalendar-include-body</code> characters).</p>
<p>How this calendar is best read and updated, depends on the application
  you are using.  The FAQ covers this issue.</p>
<h1><span class="heading-number heading-number-1">13</span> Publishing</h1>{{{cindex(publishing)}}}
  {{{cindex(O&#8217;Toole&#92;\, David)}}}
<p>Org includes a publishing management system that allows you to
  configure automatic HTML conversion of <i>projects</i> composed of
  interlinked org files. You can also configure Org to automatically
  upload your exported HTML pages and related attachments, such as
  images and source code files, to a web server.</p>
<p>You can also use Org to convert files into PDF, or even combine HTML
  and PDF conversion so that files are available in both formats on the
  server.</p>
<p>Publishing has been contributed to Org by David O&#8217;Toole.</p>
<h2><span class="heading-number heading-number-2">13.1</span> Configuration</h2>Publishing needs significant configuration to specify files,
  destination and many other properties of a project.
<h3><span class="heading-number heading-number-3">13.1.1</span> Project alist</h3>{{{cindex(org-publish-project-alist)}}}
  {{{cindex(projects&#92;\, for publishing)}}}
  {{{vindex(org-publish-project-alist)}}}
<p>Publishing is configured almost entirely through setting the value of
  one variable, called <code>org-publish-project-alist</code>. Each element of the
  list configures one project, and may be in one of the two following
  forms:</p>
<pre class="src src-emacs-lisp">
(&quot;project-name&quot; :property value :property value ...)
</pre>
<p>i.e., a well-formed property list with alternating keys and values,
  or:</p>
<pre class="src src-emacs-lisp">
(&quot;project-name&quot; :components (&quot;project-name&quot; &quot;project-name&quot; ...))
</pre>
<p>In both cases, projects are configured by specifying property values.
  A project defines the set of files that will be published, as well as
  the publishing configuration to use when publishing those files. When
  a project takes the second form listed above, the individual members
  of the <code>:components</code> property are taken to be sub-projects, which
  group together files requiring different publishing options. When you
  publish such a &#8220;meta-project,&#8221; all the components will also be
  published, in the sequence given.</p>
<h3><span class="heading-number heading-number-3">13.1.2</span> Sources and destinations</h3>{{{cindex(directories&#92;\, for publishing)}}}
<p>Most properties are optional, but some should always be set. In
  particular, Org needs to know where to look for source files, and
  where to put published files.</p>
<dl>
  <dt><code>:base-directory</code></dt><dd>
    <p>Directory containing publishing source files</p>
  </dd>
  <dt><code>:publishing-directory</code></dt><dd>
    <p>Directory where output files will be published. You can directly
      publish to a webserver using a file name syntax appropriate for the
      Emacs {{{file(tramp)}}} package. Or you can publish to a local
      directory and use external tools to upload your website
      (see <a href="Uploading files">Uploading files</a>).</p>
  </dd>
  <dt><code>:preparation-function</code></dt><dd>
    <p>Function or list of functions to be called before starting the
      publishing process, for example, to run <code>make</code> for updating files to
      be published. The project property list is scoped into this call as
      the variable <code>project-plist</code>.</p>
  </dd>
  <dt><code>:completion-function</code></dt><dd>
    <p>Function or list of functions called after finishing the publishing
      process, for example, to change permissions of the resulting files.
      The project property list is scoped into this call as the variable
      <code>project-plist</code>.</p>
  </dd>
</dl>
<h3><span class="heading-number heading-number-3">13.1.3</span> Selecting files</h3>{{{cindex(files&#92;\, selecting for publishing)}}}
<p>By default, all files with extension {{{file(.org)}}} in the base directory
  are considered part of the project.  This can be modified by setting the
  following properties:</p>
<dl>
  <dt><code>:base-extension</code></dt><dd>
    <p>Extension (without the dot!) of source files. This actually is a
      regular expression. Set this to the symbol <code>any</code> if you want to get
      all files in <code>:base-directory</code>, even without extension.</p>
  </dd>
  <dt><code>:exclude</code></dt><dd>
    <p>Regular expression to match file names that should not be published,
      even though they have been selected on the basis of their extension.</p>
  </dd>
  <dt><code>:include</code></dt><dd>
    <p>List of files to be included regardless of <code>:base-extension</code> and
      <code>:exclude</code>.</p>
  </dd>
  <dt><code>:recursive</code></dt><dd>
    <p>Non-nil means, check base-directory recursively for files to publish.</p>
  </dd>
</dl>
<h3><span class="heading-number heading-number-3">13.1.4</span> Publishing action</h3>{{{cindex(action&#92;\, for publishing)}}}
<p>Publishing means that a file is copied to the destination directory and
  possibly transformed in the process.  The default transformation is to export
  Org files as HTML files, and this is done by the function
  <code>org-publish-org-to-html</code> which calls the HTML exporter (see @&lt;a href=&#8221;HTML
  export&#8221;&gt;HTML
  export</a>).  But you also can publish your content as PDF files using
  <code>org-publish-org-to-pdf</code>, or as <code>ascii</code>, <code>latin1</code> or
  <code>utf8</code> encoded files using the corresponding functions.  If you want to
  publish the Org file itself, but with <i>archived</i>, <i>commented</i>, and
  <i>tag-excluded</i> trees removed, use <code>org-publish-org-to-org</code> and set the
  parameters <code>:plain-source</code> and/or <code>:htmlized-source</code>.  This will
  produce {{{file(file.org)}}} and {{{file(file.org.html)}}} in the publishing
  directory.<sup><a class="footref" name="fnr.146" href="#fn.146">146</a></sup>  Other files like images only need to be copied to the
  publishing destination; for this you may use <code>org-publish-attachment</code>.
  For non-Org files, you always need to specify the publishing function:</p>
<dl>
  <dt><code>:publishing-function</code></dt><dd>
    <p>Function executing the publication of a file. This may also be a list
      of functions, which will all be called in turn.</p>
  </dd>
  <dt><code>:plain-source</code></dt><dd>
    <p>Non-nil means, publish plain source.</p>
  </dd>
  <dt><code>:htmlized-source</code></dt><dd>
    <p>Non-nil means, publish htmlized source.</p>
  </dd>
</dl>
<p>The function must accept three arguments: a property list containing
  at least a <code>:publishing-directory</code> property, the name of the file to
  be published, and the path to the publishing directory of the output
  file. It should take the specified file, make the necessary
  transformation (if any) and place the result into the destination
  folder.</p>
<h3><span class="heading-number heading-number-3">13.1.5</span> Publishing options</h3>{{{cindex(options&#92;\, for publishing)}}}
<p>The property list can be used to set many export options for the HTML
  and LaTeX exporters.  In most cases, these properties correspond to user
  variables in Org.  The table below lists these properties along
  with the variable they belong to.  See the documentation string for the
  respective variable for details.</p>
<p>{{{vindex(org-export-html-link-up)}}}
  {{{vindex(org-export-html-link-home)}}}
  {{{vindex(org-export-default-language)}}}
  {{{vindex(org-display-custom-times)}}}
  {{{vindex(org-export-headline-levels)}}}
  {{{vindex(org-export-with-section-numbers)}}}
  {{{vindex(org-export-section-number-format)}}}
  {{{vindex(org-export-with-toc)}}}
  {{{vindex(org-export-preserve-breaks)}}}
  {{{vindex(org-export-with-archived-trees)}}}
  {{{vindex(org-export-with-emphasize)}}}
  {{{vindex(org-export-with-sub-superscripts)}}}
  {{{vindex(org-export-with-special-strings)}}}
  {{{vindex(org-export-with-footnotes)}}}
  {{{vindex(org-export-with-drawers)}}}
  {{{vindex(org-export-with-tags)}}}
  {{{vindex(org-export-with-todo-keywords)}}}
  {{{vindex(org-export-with-tasks)}}}
  {{{vindex(org-export-with-done-tasks)}}}
  {{{vindex(org-export-with-priority)}}}
  {{{vindex(org-export-with-TeX-macros)}}}
  {{{vindex(org-export-with-LaTeX-fragments)}}}
  {{{vindex(org-export-skip-text-before-1st-heading)}}}
  {{{vindex(org-export-with-fixed-width)}}}
  {{{vindex(org-export-with-timestamps)}}}
  {{{vindex(org-export-author-info)}}}
  {{{vindex(org-export-email-info)}}}
  {{{vindex(org-export-creator-info)}}}
  {{{vindex(org-export-time-stamp-file)}}}
  {{{vindex(org-export-with-tables)}}}
  {{{vindex(org-export-highlight-first-table-line)}}}
  {{{vindex(org-export-html-style-include-default)}}}
  {{{vindex(org-export-html-style-include-scripts)}}}
  {{{vindex(org-export-html-style)}}}
  {{{vindex(org-export-html-style-extra)}}}
  {{{vindex(org-export-html-link-org-files-as-html)}}}
  {{{vindex(org-export-html-inline-images)}}}
  {{{vindex(org-export-html-extension)}}}
  {{{vindex(org-export-html-table-tag)}}}
  {{{vindex(org-export-html-expand)}}}
  {{{vindex(org-export-html-with-timestamp)}}}
  {{{vindex(org-export-publishing-directory)}}}
  {{{vindex(org-export-html-preamble)}}}
  {{{vindex(org-export-html-postamble)}}}
  {{{vindex(user-full-name)}}}
  {{{vindex(user-mail-address)}}}
  {{{vindex(org-export-select-tags)}}}
  {{{vindex(org-export-exclude-tags)}}}</p>
<dl>
  <dt><code>:link-up</code></dt><dd><code>org-export-html-link-up</code></dd>
  <dt><code>:link-home</code></dt><dd><code>org-export-html-link-home</code></dd>
  <dt><code>:language</code></dt><dd><code>org-export-default-language</code></dd>
  <dt><code>:customtime</code></dt><dd><code>org-display-custom-times</code></dd>
  <dt><code>:headline-levels</code></dt><dd><code>org-export-headline-levels</code></dd>
  <dt><code>:section-numbers</code></dt><dd><code>org-export-with-section-numbers</code></dd>
  <dt><code>:section-number-format</code></dt><dd><code>org-export-section-number-format</code></dd>
  <dt><code>:table-of-contents</code></dt><dd><code>org-export-with-toc</code></dd>
  <dt><code>:preserve-breaks</code></dt><dd><code>org-export-preserve-breaks</code></dd>
  <dt><code>:archived-trees</code></dt><dd><code>org-export-with-archived-trees</code></dd>
  <dt><code>:emphasize</code></dt><dd><code>org-export-with-emphasize</code></dd>
  <dt><code>:sub-superscript</code></dt><dd><code>org-export-with-sub-superscripts</code></dd>
  <dt><code>:special-strings</code></dt><dd><code>org-export-with-special-strings</code></dd>
  <dt><code>:footnotes</code></dt><dd><code>org-export-with-footnotes</code></dd>
  <dt><code>:drawers</code></dt><dd><code>org-export-with-drawers</code></dd>
  <dt><code>:tags</code></dt><dd><code>org-export-with-tags</code></dd>
  <dt><code>:todo-keywords</code></dt><dd><code>org-export-with-todo-keywords</code></dd>
  <dt><code>:tasks</code></dt><dd><code>org-export-with-tasks</code></dd>
  <dt><code>:priority</code></dt><dd><code>org-export-with-priority</code></dd>
  <dt><code>:TeX-macros</code></dt><dd><code>org-export-with-TeX-macros</code></dd>
  <dt><code>:LaTeX-fragments</code></dt><dd><code>org-export-with-LaTeX-fragments</code></dd>
  <dt><code>:latex-listings</code></dt><dd><code>org-export-latex-listings</code></dd>
  <dt><code>:skip-before-1st-heading</code></dt><dd><code>org-export-skip-text-before-1st-heading</code></dd>
  <dt><code>:fixed-width</code></dt><dd><code>org-export-with-fixed-width</code></dd>
  <dt><code>:timestamps</code></dt><dd><code>org-export-with-timestamps</code></dd>
  <dt><code>:author</code></dt><dd><code>user-full-name</code></dd>
  <dt><code>:email</code></dt><dd><code>user-mail-address</code> : <code>addr;addr;..</code></dd>
  <dt><code>:author-info</code></dt><dd><code>org-export-author-info</code></dd>
  <dt><code>:email-info</code></dt><dd><code>org-export-email-info</code></dd>
  <dt><code>:creator-info</code></dt><dd><code>org-export-creator-info</code></dd>
  <dt><code>:tables</code></dt><dd><code>org-export-with-tables</code></dd>
  <dt><code>:table-auto-headline</code></dt><dd><code>org-export-highlight-first-table-line</code></dd>
  <dt><code>:style-include-default</code></dt><dd><code>org-export-html-style-include-default</code></dd>
  <dt><code>:style-include-scripts</code></dt><dd><code>org-export-html-style-include-scripts</code></dd>
  <dt><code>:style</code></dt><dd><code>org-export-html-style</code></dd>
  <dt><code>:style-extra</code></dt><dd><code>org-export-html-style-extra</code></dd>
  <dt><code>:convert-org-links</code></dt><dd><code>org-export-html-link-org-files-as-html</code></dd>
  <dt><code>:inline-images</code></dt><dd><code>org-export-html-inline-images</code></dd>
  <dt><code>:html-extension</code></dt><dd><code>org-export-html-extension</code></dd>
  <dt><code>:html-preamble</code></dt><dd><code>org-export-html-preamble</code></dd>
  <dt><code>:html-postamble</code></dt><dd><code>org-export-html-postamble</code></dd>
  <dt><code>:xml-declaration</code></dt><dd><code>org-export-html-xml-declaration</code></dd>
  <dt><code>:html-table-tag</code></dt><dd><code>org-export-html-table-tag</code></dd>
  <dt><code>:expand-quoted-html</code></dt><dd><code>org-export-html-expand</code></dd>
  <dt><code>:timestamp</code></dt><dd><code>org-export-html-with-timestamp</code></dd>
  <dt><code>:publishing-directory</code></dt><dd><code>org-export-publishing-directory</code></dd>
  <dt><code>:select-tags</code></dt><dd><code>org-export-select-tags</code></dd>
  <dt><code>:exclude-tags</code></dt><dd><code>org-export-exclude-tags</code></dd>
  <dt><code>:latex-image-options</code></dt><dd><code>org-export-latex-image-default-option</code></dd>
</dl>
<p>Most of the <code>org-export-with-*</code> variables have the same effect in both
  HTML and LaTeX exporters, except for <code>:TeX-macros</code> and
  <code>:LaTeX-fragments</code> options, respectively <code>nil</code> and <code>t</code> in the LaTeX
  export. See <code>org-export-plist-vars</code> to check this list of options.</p>
<p>{{{vindex(org-publish-project-alist)}}}</p>
<p>When a property is given a value in <code>org-publish-project-alist</code>, its
  setting overrides the value of the corresponding user variable (if
  any) during publishing. Options set within a file (see @&lt;a href=&#8221;Export
  options&#8221;&gt;Export
  options</a>), however, override everything.</p>
<h3><span class="heading-number heading-number-3">13.1.6</span> Publishing links</h3>{{{cindex(links&#92;\, publishing)}}}
<p>To create a link from one Org file to another, you would use something
  like <code>[[file:foo.org][The foo]]</code> or simply <code>[[file:foo.org]]</code> (see
  <a href="Hyperlinks">Hyperlinks</a>). When published, this link becomes a link to
  {{{file(foo.html)}}}. In this way, you can interlink the pages of your
  &#8220;org web&#8221; project and the links will work as expected when you publish
  them to HTML. If you also publish the Org source file and want to link
  to that, use an <code>http:</code> link instead of a <code>file:</code> link, because
  <code>file:</code> links are converted to link to the corresponding
  {{{file(html)}}} file.</p>
<p>You may also link to related files, such as images. Provided you are
  careful with relative file names, and provided you have also
  configured Org to upload the related files, these links will work too.
  See <a href="Complex example">Complex example</a>, for an example of this usage.</p>
<p>Sometimes an Org file to be published may contain links that are only
  valid in your production environment, but not in the publishing
  location. In this case, use the following property to define a
  function for checking link validity:</p>
<dl>
  <dt><code>:link-validation-function</code></dt><dd>
    Function to validate links</dd>
</dl>
<p>{{{noindent}}} This function must accept two arguments, the file name
  and a directory relative to which the file name is interpreted in the
  production environment. If this function returns <code>nil</code>, then the HTML
  generator will only insert a description into the HTML file, but no
  link. One option for this function is <code>org-publish-validate-link</code>
  which checks if the given file is part of any project in
  <code>org-publish-project-alist</code>.</p>
<h3><span class="heading-number heading-number-3">13.1.7</span> Site map</h3>{{{cindex(sitemap&#92;\, of published pages)}}}
<p>The following properties may be used to control publishing of
  a map of files for a given project.</p>
<dl>
  <dt><code>:auto-sitemap</code></dt><dd>
    <p>When non-nil, publish a sitemap during <code>org-publish-current-project</code>
      or <code>org-publish-all</code>.</p>
  </dd>
  <dt><code>:sitemap-filename</code></dt><dd>
    <p>Filename for output of sitemap.  Defaults to {{{file(sitemap.org)}}} (which
      becomes {{{file(sitemap.html)}}}).</p>
  </dd>
  <dt><code>:sitemap-title</code></dt><dd>
    <p>Title of sitemap page.  Defaults to name of file.</p>
  </dd>
  <dt><code>:sitemap-function</code></dt><dd>
    <p>Plug-in function to use for generation of the sitemap. Defaults to
      <code>org-publish-org-sitemap</code>, which generates a plain list of links to
      all files in the project.</p>
  </dd>
  <dt><code>:sitemap-sort-folders</code></dt><dd>
    <p>Where folders should appear in the sitemap. Set this to <code>first</code>
      (default) or <code>last</code> to display folders first or last, respectively.
      Any other value will mix files and folders.</p>
  </dd>
  <dt><code>:sitemap-sort-files</code></dt><dd>
    <p>How the files are sorted in the site map. Set this to <code>alphabetically</code>
      (default), <code>chronologically</code> or <code>anti-chronologically</code>.
      <code>chronologically</code> sorts the files with older date first while
      <code>anti-chronologically</code> sorts the files with newer date first.
      <code>alphabetically</code> sorts the files alphabetically. The date of a file is
      retrieved with <code>org-publish-find-date</code>.</p>
  </dd>
  <dt><code>:sitemap-ignore-case</code></dt><dd>
    <p>Should sorting be case-sensitive?  Default <code>nil</code>.</p>
  </dd>
  <dt><code>:sitemap-file-entry-format</code></dt><dd>
    <p>With this option one can tell how a sitemap&#8217;s entry is formatted in
      the sitemap. This is a format string with some escape sequences: <code>%t</code>
      stands for the title of the file, <code>%a</code> stands for the author of the
      file and <code>%d</code> stands for the date of the file. The date is retrieved
      with the <code>org-publish-find-date</code> function and formatted with
      <code>org-publish-sitemap-date-format</code>. Default <code>%t</code>.</p>
  </dd>
  <dt><code>:sitemap-date-format</code></dt><dd>
    <p>Format string for the <code>format-time-string</code> function that tells how a
      sitemap entry&#8217;s date is to be formatted. This property bypasses
      <code>org-publish-sitemap-date-format</code> which defaults to <code>%Y-%m-%d</code>.</p>
  </dd>
  <dt><code>:sitemap-sans-extension</code></dt><dd>
    <p>When non-nil, remove filenames&#8217; extensions from the generated sitemap.
      Useful to have cool URIs (see <a href="http://www.w3.org/Provider/Style/URI">http://www.w3.org/Provider/Style/URI</a>).
      Defaults to <code>nil</code>.</p>
  </dd>
</dl>
<h3><span class="heading-number heading-number-3">13.1.8</span> Generating an index</h3>{{{cindex(index&#92;\, in a publishing project)}}}
<p>Org mode can generate an index across the files of a publishing project.</p>
<dl>
  <dt><code>:makeindex</code></dt><dd>
    <p>When non-nil, generate in index in the file {{{file(theindex.org)}}}
      and publish it as {{{file(theindex.html)}}}.</p>
  </dd>
</dl>
<p>The file will be created when first publishing a project with the
  <code>:makeindex</code> set. The file only contains a statement
  {{{samp(#+INCLUDE: &#8220;theindex.inc&#8221;)}}}. You can then build around this
  include statement by adding a title, style information, etc.</p>
<h2><span class="heading-number heading-number-2">13.2</span> Uploading files</h2>{{{cindex(rsync)}}}
  {{{cindex(unison)}}}
<p>For those people already utilizing third party sync tools such as
  {{{command(rsync)}}} or {{{command(unison)}}}, it might be preferable
  not to use the built in remote publishing facilities of Org mode
  which rely heavily on Tramp. Tramp, while very useful and powerful,
  tends not to be so efficient for multiple file transfer and has been
  known to cause problems under heavy usage.</p>
<p>Specialized synchronization utilities offer several advantages. In
  addition to timestamp comparison, they also do content and
  permissions/attribute checks. For this reason you might prefer to
  publish your web to a local directory (possibly even in place with
  your Org files) and then use {{{file(unison)}}} or {{{file(rsync)}}}
  to do the synchronization with the remote host.</p>
<p>Since Unison (for example) can be configured as to which files to
  transfer to a certain remote destination, it can greatly simplify the
  project publishing definition. Simply keep all files in the correct
  location, process your Org files with <code>org-publish</code> and let the
  synchronization tool do the rest. You do not need, in this scenario,
  to include attachments such as {{{file(jpg)}}}, {{{file(css)}}} or
  {{{file(gif)}}} files in the project definition since the 3rd party
  tool syncs them.</p>
<p>Publishing to a local directory is also much faster than to a remote
  one, so that you can afford more easily to republish entire projects.
  If you set <code>org-publish-use-timestamps-flag</code> to <code>nil</code>, you gain the
  main benefit of re-including any changed external files such as source
  example files you might include with <code>#+INCLUDE:</code>. The timestamp
  mechanism in Org is not smart enough to detect if included files have
  been modified.</p>
<h2><span class="heading-number heading-number-2">13.3</span> Sample configuration</h2>Below we provide two example configurations.  The first one is a simple
  project publishing only a set of Org files.  The second example is
  more complex, with a multi-component project.
<h3><span class="heading-number heading-number-3">13.3.1</span> Simple example</h3>This example publishes a set of Org files to the {{{file(public_html)}}}
  directory on the local machine.
<pre class="src src-emacs-lisp">
(setq org-publish-project-alist
      '((&quot;org&quot;
         :base-directory &quot;~/org/&quot;
         :publishing-directory &quot;~/public_html&quot;
         :section-numbers nil
         :table-of-contents nil
         :style &quot;&lt;link rel=\&quot;stylesheet\&quot;
                href=\&quot;../other/mystyle.css\&quot;
                type=\&quot;text/css\&quot;/&gt;&quot;)))
</pre>
<h3><span class="heading-number heading-number-3">13.3.2</span> Complex example</h3>This more complicated example publishes an entire website, including
  Org files converted to HTML, image files, Emacs Lisp source code, and
  style sheets.  The publishing directory is remote and private files are
  excluded.
<p>To ensure that links are preserved, care should be taken to replicate
  your directory structure on the web server, and to use relative file
  paths. For example, if your Org files are kept in {{{file(~/org)}}}
  and your publishable images in {{{file(~/images)}}}, you would link to
  an image with</p>
<pre class="example">
file:../images/myimage.png
</pre>
<p>On the web server, the relative path to the image should be the
  same.  You can accomplish this by setting up an &#8220;images&#8221; folder in the
  right place on the web server, and publishing images to it.</p>
<pre class="src src-emacs-lisp">
(setq org-publish-project-alist
      '((&quot;orgfiles&quot;
          :base-directory &quot;~/org/&quot;
          :base-extension &quot;org&quot;
          :publishing-directory &quot;/ssh:user@@host:~/html/notebook/&quot;
          :publishing-function org-publish-org-to-html
          :exclude &quot;PrivatePage.org&quot;   ;; regexp
          :headline-levels 3
          :section-numbers nil
          :table-of-contents nil
          :style &quot;&lt;link rel=\&quot;stylesheet\&quot;
                  href=\&quot;../other/mystyle.css\&quot; type=\&quot;text/css\&quot;/&gt;&quot;
          :html-preamble t)

         (&quot;images&quot;
          :base-directory &quot;~/images/&quot;
          :base-extension &quot;jpg\\|gif\\|png&quot;
          :publishing-directory &quot;/ssh:user@@host:~/html/images/&quot;
          :publishing-function org-publish-attachment)

         (&quot;other&quot;
          :base-directory &quot;~/other/&quot;
          :base-extension &quot;css\\|el&quot;
          :publishing-directory &quot;/ssh:user@@host:~/html/other/&quot;
          :publishing-function org-publish-attachment)
         (&quot;website&quot; :components (&quot;orgfiles&quot; &quot;images&quot; &quot;other&quot;))))
</pre>
<h2><span class="heading-number heading-number-2">13.4</span> Triggering publication</h2>Once properly configured, Org can publish with the following commands:
<dl>
  <dt>{{{kbd(C-c C-e X)}}}, <code>org-publish</code></dt><dd>
    {{{kindex(C-c C-e X)}}}
    <p>Prompt for a specific project and publish all files that belong to it.</p>
  </dd>
  <dt>{{{kbd(C-c C-e P)}}}, <code>org-publish-current-project</code></dt><dd>
    {{{kindex(C-c C-e P)}}}
    <p>Publish the project containing the current file.</p>
  </dd>
  <dt>{{{kbd(C-c C-e F)}}}, <code>org-publish-current-file</code></dt><dd>
    {{{kindex(C-c C-e F)}}}
    <p>Publish only the current file.</p>
  </dd>
  <dt>{{{kbd(C-c C-e E)}}}, <code>org-publish-all</code></dt><dd>
    {{{kindex(C-c C-e E)}}}
    <p>Publish every project.</p>
  </dd>
</dl>
<p>{{{vindex(org-publish-use-timestamps-flag)}}}</p>
<p>Org uses timestamps to track when a file has changed. The above
  functions normally only publish changed files. You can override this
  and force publishing of all files by giving a prefix argument to any
  of the commands above, or by customizing the variable
  <code>org-publish-use-timestamps-flag</code>. This may be necessary in particular
  if files include other files via <code>#+SETUPFILE:</code> or <code>#+INCLUDE:</code>.</p>
<h1><span class="heading-number heading-number-1">14</span> Working with source code</h1>{{{cindex(Schulte&#92;\, Eric)}}}
  {{{cindex(Davison&#92;\, Dan)}}}
  {{{cindex(source code&#92;\, working with)}}}
<p>Source code can be included in Org mode documents using a
  {{{samp(src)}}} block, e.g.:</p>
<pre class="example">
(defun org-xor (a b)
   &quot;Exclusive or.&quot;
   (if a (not b) b))
</pre>
<p>Org mode provides a number of features for working with live source
  code, including editing of code blocks in their native major-mode,
  evaluation of code blocks, converting code blocks into source files
  (known as &#8220;tangling&#8221; in literate programming), and exporting code
  blocks and their results in several formats. This functionality was
  contributed by Eric Schulte and Dan Davison, and was originally named
  Org-babel.</p>
<p>The following sections describe Org mode&#8217;s code block handling facilities.</p>
<h2><span class="heading-number heading-number-2">14.1</span> Structure of code blocks</h2>{{{cindex(code block&#92;\, structure)}}}
  {{{cindex(source code&#92;\, block structure)}}}
  {{{cindex(#+NAME)}}}
  {{{cindex(#+BEGIN_SRC)}}}
<p>Live code blocks can be specified with a {{{samp(src)}}} block or
  inline.<sup><a class="footref" name="fnr.147" href="#fn.147">147</a></sup> The structure of a {{{samp(src)}}} block is shown in
  the following example:</p>
<pre class="example">
,#+NAME: &lt;name&gt;
,#+BEGIN_SRC &lt;language&gt; &lt;switches&gt; &lt;header arguments&gt;
  &lt;body&gt;
,#+END_SRC
</pre>
<p>The <code>#+NAME:</code> line is optional, and can be used to name the code
  block. Live code blocks require that a language be specified on the
  <code>#+BEGIN_SRC</code> line. Switches and header arguments are optional.
  {{{cindex(source code&#92;\, inline)}}}</p>
<p>Live code blocks can also be specified inline using the following
  syntax:</p>
<pre class="example">
src_&lt;language&gt;{&lt;body&gt;}
</pre>
<p>or</p>
<pre class="example">
src_&lt;language&gt;[&lt;header arguments&gt;]{&lt;body&gt;}
</pre>
<dl>
  <dt><code>&lt;#+NAME: name&gt;</code></dt><dd>
    {{{cindex(#+NAME)}}}
    <p>This line associates a name with the code block. This is similar to
      the <code>#+TBLNAME: NAME</code> lines that can be used to name tables in Org
      mode files. Referencing the name of a code block makes it possible to
      evaluate the block from other places in the file, from other files, or
      from Org mode table formulas (see <a href="The spreadsheet">The spreadsheet</a>). Names are assumed
      to be unique and the behavior of Org mode when two or more blocks
      share the same name is undefined.</p>
  </dd>
  <dt><code>&lt;language&gt;</code></dt><dd>
    {{{cindex(source code&#92;\, language)}}}
    <p>The language of the code in the block (see <a href="Languages">Languages</a>).</p>
  </dd>
  <dt><code>&lt;switches&gt;</code></dt><dd>
    {{{cindex(source code&#92;\, switches)}}}
    <p>Optional switches control code block export (see the discussion of
      switches in <a href="Literal examples">Literal examples</a>).</p>
  </dd>
  <dt><code>&lt;header arguments&gt;</code></dt><dd>
    {{{cindex(source code&#92;\, header arguments)}}}
    <p>Optional header arguments control many aspects of evaluation, export
      and tangling of code blocks (see <a href="Header arguments">Header arguments</a>). Header arguments
      can also be set on a per-buffer or per-subtree basis using properties.</p>
  </dd>
  <dt><code>&lt;body&gt;</code></dt><dd>
    <p>Source code in the specified language.</p>
  </dd>
</dl>
<h2><span class="heading-number heading-number-2">14.2</span> Editing source code</h2>{{{cindex(code block&#92;\, editing)}}}
  {{{cindex(source code&#92;\, editing)}}}
  {{{kindex(C-c &#8216;)}}}
<p>Use {{{kbd(C-c &#8216;)}}} to edit the current code block. This brings up a
  language major-mode edit buffer containing the body of the code block.
  Saving this buffer will write the new contents back to the Org buffer.
  Use {{{kbd(C-c &#8216;)}}} again to exit.</p>
<p>The <code>org-src-mode</code> minor mode will be active in the edit buffer. The
  following variables can be used to configure the behavior of the edit
  buffer. See also the customization group <code>org-edit-structure</code> for
  further configuration options.</p>
<dl>
  <dt><code>org-src-lang-modes</code></dt><dd>
    <p>If an Emacs major-mode named <code>&lt;lang&gt;-mode</code> exists, where
      <code>&lt;lang&gt;</code> is the language named in the header line of the code block,
      then the edit buffer will be placed in that major-mode.  This variable
      can be used to map arbitrary language names to existing major modes.</p>
  </dd>
  <dt><code>org-src-window-setup</code></dt><dd>
    <p>Controls the way Emacs windows are rearranged when the edit buffer is
      created.</p>
  </dd>
  <dt><code>org-src-preserve-indentation</code></dt><dd>
    <p>This variable is especially useful for tangling languages such as
      Python, in which whitespace indentation in the output is meaningful.</p>
  </dd>
  <dt><code>org-src-ask-before-returning-to-edit-buffer</code></dt><dd>
    <p>By default, Org will ask before returning to an open edit buffer.  Set this
      variable to nil to switch without asking.</p>
  </dd>
</dl>
<p>To turn on native code fontification in the Org mode buffer, configure
  the variable <code>org-src-fontify-natively</code>.</p>
<h2><span class="heading-number heading-number-2">14.3</span> Exporting code blocks</h2>{{{cindex(code block&#92;\, exporting)}}}
  {{{cindex(source code&#92;\, exporting)}}}
<p>It is possible to export the <i>code</i> of code blocks, the <i>results</i> of
  code block evaluation, <i>both</i> the code and the results of code block
  evaluation, or <i>none</i>. For most languages, the default exports code.
  However, for some languages (e.g., <code>ditaa</code>) the default exports the
  results of code block evaluation. For information on exporting code
  block bodies, see <a href="Literal examples">Literal examples</a>.</p>
<p>The <code>:exports</code> header argument can be used to specify export
  behavior with the following arguments:</p>
<dl>
  <dt><code>:exports code</code></dt><dd>
    <p>The default in most languages.  The body of the code block is exported, as
      described in <a href="Literal examples">Literal examples</a>.</p>
  </dd>
  <dt><code>:exports results</code></dt><dd>
    <p>The code block will be evaluated and the results will be placed in the
      Org mode buffer for export, either updating previous results of the
      code block located anywhere in the buffer or, if no previous results
      exist, placing the results immediately after the code block. The body
      of the code block will not be exported.</p>
  </dd>
  <dt><code>:exports both</code></dt><dd>
    <p>Both the code block and its results will be exported.</p>
  </dd>
  <dt><code>:exports none</code></dt><dd>
    <p>Neither the code block nor its results will be exported.</p>
  </dd>
</dl>
<p>It is possible to inhibit the evaluation of code blocks during export.
  Setting the <code>org-export-babel-evaluate</code> variable to <code>nil</code> will ensure
  that no code blocks are evaluated as part of the export process. This
  can be useful in situations where potentially untrusted Org mode files
  are exported in an automated fashion, for example when Org mode is
  used as the markup language for a wiki.</p>
<h2><span class="heading-number heading-number-2">14.4</span> Extracting source code</h2>{{{cindex(tangling)}}}
  {{{cindex(source code&#92;\, extracting)}}}
  {{{cindex(code block&#92;\, extracting source code)}}}
<p>Creating pure source code files by extracting code from source blocks
  is referred to as &#8220;tangling&#8221;&#8212;a term adopted from the literate
  programming community. During tangling of code blocks their bodies are
  expanded using <code>org-babel-expand-src-block</code> which can expand both
  variable and &#8220;noweb&#8221; style references (see <a href="Noweb reference syntax">Noweb reference syntax</a>).</p>
<h3><span class="heading-number heading-number-3">14.4.1</span> Header arguments for tangling</h3>
<dl>
  <dt><code>:tangle no</code></dt><dd>
    <p>The default.  The code block is not included in the tangled output.</p>
  </dd>
  <dt><code>:tangle yes</code></dt><dd>
    <p>Include the code block in the tangled output. The output file name is
      the name of the org file with the extension {{{samp(.org)}}} replaced
      by the extension for the block language.</p>
  </dd>
  <dt><code>:tangle filename</code></dt><dd>
    <p>Include the code block in the tangled output to file {{{samp(filename)}}}.</p>
  </dd>
</dl>
<h3><span class="heading-number heading-number-3">14.4.2</span> Functions for tangling</h3>
<dl>
  <dt><code>org-babel-tangle</code></dt><dd>
    {{{kindex(C-c C-v t)}}}
    <p>Tangle the current file.  Bound to {{{kbd(C-c C-v t)}}}.</p>
    <p>With a prefix argument only tangle the current code block.</p>
  </dd>
  <dt><code>org-babel-tangle-file</code></dt><dd>
    {{{kindex(C-c C-v f)}}}
    <p>Choose a file to tangle.  Bound to {{{kbd(C-c C-v f)}}}.</p>
  </dd>
</dl>
<h3><span class="heading-number heading-number-3">14.4.3</span> Hooks for tangling</h3>
<dl>
  <dt><code>org-babel-post-tangle-hook</code></dt><dd>
    <p>This hook is run from within code files tangled by <code>org-babel-tangle</code>.
      Example applications could include post-processing, compilation, or
      evaluation of tangled code files.</p>
  </dd>
</dl>
<h2><span class="heading-number heading-number-2">14.5</span> Evaluating code blocks</h2>{{{cindex(code block&#92;\, evaluating)}}}
  {{{cindex(source code&#92;\, evaluating)}}}
  {{{cindex(#+RESULTS)}}}
<p>Code blocks can be evaluated and the results of evaluation optionally
  placed in the Org mode buffer.<sup><a class="footref" name="fnr.148" href="#fn.148">148</a></sup> The results of evaluation are
  placed following a line that begins by default with <code>#+RESULTS</code> and
  optionally a cache identifier and/or the name of the evaluated code
  block. The default value of <code>#+RESULTS</code> can be changed with the
  customizable variable <code>org-babel-results-keyword</code>.</p>
<p>By default, the evaluation facility is only enabled for Lisp code
  blocks specified as <code>emacs-lisp</code>. However, source code blocks in many
  languages can be evaluated within Org mode (see <a href="Languages">Languages</a> for a list
  of supported languages and <a href="Structure of code blocks">Structure of code blocks</a> for information on
  the syntax used to define a code block).</p>
<p>{{{kindex(C-c C-c)}}}
  {{{kindex(C-c C-v e)}}}</p>
<p>There are a number of ways to evaluate code blocks. The simplest is to
  press {{{kbd(C-c C-c)}}} or {{{kbd(C-c C-v e)}}} with the point on a
  code block.<sup><a class="footref" name="fnr.149" href="#fn.149">149</a></sup> This will call the <code>org-babel-execute-src-block</code>
  function to evaluate the block and insert its results into the Org
  mode buffer.</p>
<p>{{{cindex(#+CALL)}}}</p>
<p>It is also possible to evaluate named code blocks from anywhere in an
  Org mode buffer or an Org mode table. Live code blocks located in the
  current Org mode buffer or in the &#8220;Library of Babel&#8221; (see @&lt;a href=&#8221;Library of
  Babel&#8221;&gt;Library of
  Babel</a>) can be executed. Named code blocks can be executed with a
  separate <code>#+CALL:</code> line or inline within a block of text.</p>
<p>The syntax of the <code>#+CALL:</code> line is:</p>
<pre class="example">
,#+CALL: &lt;name&gt;(&lt;arguments&gt;)
,#+CALL: &lt;name&gt;[&lt;inside header arguments&gt;](&lt;arguments&gt;) &lt;end header arguments&gt;
</pre>
<p>The syntax for inline evaluation of named code blocks is:</p>
<pre class="example">
... call_&lt;name&gt;(&lt;arguments&gt;) ...
... call_&lt;name&gt;[&lt;inside header arguments&gt;](&lt;arguments&gt;)[&lt;end header arguments&gt;] ...
</pre>
<dl>
  <dt><code>&lt;name&gt;</code></dt><dd>
    <p>The name of the code block to be evaluated (see @&lt;a href=&#8221;Structure of code
      blocks&#8221;&gt;Structure of code
      blocks</a>).</p>
  </dd>
  <dt><code>&lt;arguments&gt;</code></dt><dd>
    <p>Arguments specified in this section will be passed to the code block.
      These arguments use standard function call syntax, rather than header
      argument syntax. For example, a <code>#+CALL:</code> line that passes the number
      four to a code block named <code>double</code>, which declares the header
      argument <code>:var n=2</code>, would be written as <code>#+CALL: double(n=4)</code>.</p>
  </dd>
  <dt><code>&lt;inside header arguments&gt;</code></dt><dd>
    <p>Inside header arguments are passed through and applied to the named
      code block. These arguments use header argument syntax rather than
      standard function call syntax. Inside header arguments affect how the
      code block is evaluated. For example, <code>[:results output]</code> will collect
      the results of everything printed to <code>STDOUT</code> during execution of the
      code block.</p>
  </dd>
  <dt><code>&lt;end header arguments&gt;</code></dt><dd>
    <p>End header arguments are applied to the calling instance and do not
      affect evaluation of the named code block. They affect how the results
      are incorporated into the Org mode buffer and how the call line is
      exported. For example, <code>:results html</code> will insert the results of the
      call line evaluation in the Org buffer, wrapped in a <code>BEGIN_HTML:</code>
      block.</p>
  </dd>
</dl>
<p>For more examples of passing header arguments to <code>#+CALL:</code> lines see
  <a href="Header arguments in function calls">Header arguments in function calls</a>.</p>
<h2><span class="heading-number heading-number-2">14.6</span> Library of Babel</h2>{{{cindex(babel&#92;\, library of)}}}
  {{{cindex(source code&#92;\, library)}}}
  {{{cindex(code block&#92;\, library)}}}
<p>The &#8220;Library of Babel&#8221; consists of code blocks that can be called
  from any Org mode file. Code blocks defined in the &#8220;Library of
  Babel&#8221; can be called remotely as if they were in the current Org mode
  buffer (see <a href="Evaluating code blocks">Evaluating code blocks</a> for information on the syntax of
  remote code block evaluation).</p>
<p>The central repository of code blocks in the &#8220;Library of Babel&#8221; is
  housed in an Org mode file located in the {{{samp(contrib)}}}
  directory of Org mode.</p>
<p>Users can add code blocks they believe to be generally useful to their
  &#8220;Library of Babel.&#8221; The code blocks can be stored in any Org mode
  file and then loaded into the library with <code>org-babel-lob-ingest</code>.</p>
<p>{{{kindex(C-c C-v i)}}}</p>
<p>Code blocks located in any Org mode file can be loaded into the
  &#8220;Library of Babel&#8221; with the <code>org-babel-lob-ingest</code> function, bound
  to {{{kbd(C-c C-v i)}}}.</p>
<h2><span class="heading-number heading-number-2">14.7</span> Languages</h2>{{{cindex(babel&#92;\, languages)}}}
  {{{cindex(source code&#92;\, languages)}}}
  {{{cindex(code block&#92;\, languages)}}}
<p>Code blocks in the following languages are supported.</p>
<table>
  <tr><th>Language</th><th>Identifier</th><th></th><th>Language</th><th>Identifier</th></tr>
  <tr><td>Asymptote</td><td>asymptote</td><td></td><td>Awk</td><td>awk</td></tr>
  <tr><td>Emacs Calc</td><td>calc</td><td></td><td>C</td><td>C</td></tr>
  <tr><td>C++</td><td>C++</td><td></td><td>Clojure</td><td>clojure</td></tr>
  <tr><td>CSS</td><td>css</td><td></td><td>ditaa</td><td>ditaa</td></tr>
  <tr><td>Graphviz</td><td>dot</td><td></td><td>Emacs Lisp</td><td>emacs-lisp</td></tr>
  <tr><td>gnuplot</td><td>gnuplot</td><td></td><td>Haskell</td><td>haskell</td></tr>
  <tr><td>Java</td><td>java</td><td></td><td></td><td></td></tr>
  <tr><td>Javascript</td><td>js</td><td></td><td>LaTeX</td><td>latex</td></tr>
  <tr><td>Ledger</td><td>ledger</td><td></td><td>Lisp</td><td>lisp</td></tr>
  <tr><td>Lilypond</td><td>lilypond</td><td></td><td>MATLAB</td><td>matlab</td></tr>
  <tr><td>Mscgen</td><td>mscgen</td><td></td><td>Objective Caml</td><td>ocaml</td></tr>
  <tr><td>Octave</td><td>octave</td><td></td><td>Org mode</td><td>org</td></tr>
  <tr><td>Oz</td><td>oz</td><td></td><td>Perl</td><td>perl</td></tr>
  <tr><td>Plantuml</td><td>plantuml</td><td></td><td>Python</td><td>python</td></tr>
  <tr><td>R</td><td>R</td><td></td><td>Ruby</td><td>ruby</td></tr>
  <tr><td>Sass</td><td>sass</td><td></td><td>Scheme</td><td>scheme</td></tr>
  <tr><td>GNU Screen</td><td>screen</td><td></td><td>shell</td><td>sh</td></tr>
  <tr><td>SQL</td><td>sql</td><td></td><td>SQLite</td><td>sqlite</td></tr>
</table>
<p>Language-specific documentation is available for some languages. If
  available, it can be found at
  <a href="http://orgmode.org/worg/org-contrib/babel/languages.html">http://orgmode.org/worg/org-contrib/babel/languages.html</a>.</p>
<p>The variable <code>org-babel-load-languages</code> controls which languages are
  enabled for evaluation (by default only <code>emacs-lisp</code> is enabled). This
  variable can be set using the customization interface or by adding
  code like the following example, disables <code>emacs-lisp</code> evaluation and
  enables evaluation of <code>R</code> code blocks, to your emacs configuration:</p>
<pre class="src src-emacs-lisp">
(org-babel-do-load-languages
 'org-babel-load-languages
 '((emacs-lisp . nil)
   (R . t)))
</pre>
<p>It is also possible to enable support for a language by loading the
  related elisp file with <code>require</code>.</p>
<p>{{{noindent}}} The following example adds support for evaluating
  <code>clojure</code> code blocks:</p>
<pre class="src src-emacs-lisp">
(require 'ob-clojure)
</pre>
<h2><span class="heading-number heading-number-2">14.8</span> Header arguments</h2>{{{cindex(code block&#92;\, header arguments)}}}
  {{{cindex(source code&#92;\, block header arguments)}}}
<p>Code block functionality can be configured with header arguments. This
  section provides an overview of the use of header arguments, and then
  describes each header argument in detail.</p>
<h3><span class="heading-number heading-number-3">14.8.1</span> Using header arguments</h3>
<p>The values of header arguments can be set in six different ways, each
  more specific (and having higher priority) than the last.</p>
<h4><span class="heading-number heading-number-4">14.8.1.1</span> System-wide header arguments</h4>{{{vindex(org-babel-default-header-args)}}}
<p>System-wide values of header arguments can be specified by customizing
  the <code>org-babel-default-header-args</code> variable:</p>
<pre class="example">
:session    =&gt; &quot;none&quot;
:results    =&gt; &quot;replace&quot;
:exports    =&gt; &quot;code&quot;
:cache      =&gt; &quot;no&quot;
:noweb      =&gt; &quot;no&quot;
</pre>
<p>For example, the following code could be used to set the default
  value of <code>:noweb</code> header arguments to <code>yes</code>. This would have the
  effect of expanding <code>:noweb</code> references by default when evaluating
  source code blocks.</p>
<pre class="src src-emacs-lisp">
(setq org-babel-default-header-args
      (cons '(:noweb . &quot;yes&quot;)
            (assq-delete-all :noweb org-babel-default-header-args)))
</pre>
<h4><span class="heading-number heading-number-4">14.8.1.2</span> Language-specific header arguments</h4>
<p>Each language can define its own set of default header arguments. See
  the language-specific documentation available online at
  <a href="http://orgmode.org/worg/org-contrib/babel">http://orgmode.org/worg/org-contrib/babel</a>.</p>
<h4><span class="heading-number heading-number-4">14.8.1.3</span> Buffer-wide header arguments</h4>
<p>Buffer-wide header arguments may be specified as properties through
  the use of <code>#+PROPERTY:</code> lines placed anywhere in an Org mode file
  (see <a href="Property syntax">Property syntax</a>).</p>
<p>For example the following would set <code>session</code> to <code>*R*</code>, and <code>results</code>
  to <code>silent</code> for every code block in the buffer, ensuring that all
  execution took place in the same session, and no results would be
  inserted into the buffer.</p>
<pre class="example">
,#+PROPERTY: session *R*
,#+PROPERTY: results silent
</pre>
<h4><span class="heading-number heading-number-4">14.8.1.4</span> Header arguments in Org mode properties</h4>
<p>Header arguments are also read from Org mode properties (see @&lt;a href=&#8221;Property
  syntax&#8221;&gt;Property
  syntax</a>), which can be set on a buffer-wide or per-heading basis. An
  example of setting a header argument for all code blocks in a buffer
  is as follows:</p>
<pre class="example">
,#+PROPERTY: tangle yes
</pre>
<p>{{{vindex(org-use-property-inheritance)}}}</p>
<p>When properties are used to set default header arguments, they are
  looked up with inheritance, regardless of the value of
  <code>org-use-property-inheritance</code>. In the following example the value of
  the <code>:cache</code> header argument will default to <code>yes</code> in all code blocks
  in the subtree rooted at the following heading:</p>
<pre class="example">
,* outline header
,:PROPERTIES:
,:cache:    yes
,:END:
</pre>
<p>{{{kindex(C-c C-x p)}}}
  {{{vindex(org-babel-default-header-args)}}}</p>
<p>Properties defined in this way override the properties set in
  <code>org-babel-default-header-args</code>. It is convenient to use the
  <code>org-set-property</code> function bound to {{{kbd(C-c C-x p)}}} to set
  properties in Org mode documents.</p>
<h4><span class="heading-number heading-number-4">14.8.1.5</span> Code block specific header arguments</h4>
<p>The most common way to assign values to header arguments is at the
  code block level. This can be done by listing a sequence of header
  arguments and their values as part of the <code>#+BEGIN_SRC</code> line.
  Properties set in this way override both the values of
  <code>org-babel-default-header-args</code> and header arguments specified as
  properties. In the following example, the <code>:results</code> header argument
  is set to <code>silent</code>, meaning the results of execution will not be
  inserted in the buffer, and the <code>:exports</code> header argument is set to
  <code>code</code>, meaning only the body of the code block will be preserved on
  export to HTML or LaTeX.</p>
<pre class="example">
#+NAME: factorial
fac 0 = 1
fac n = n * fac (n-1)
</pre>
<p>Similarly, it is possible to set header arguments for inline code blocks:</p>
<pre class="example">
src_haskell[:exports both]@{fac 5@}
</pre>
<p>Code block header arguments can span multiple lines using <code>#+HEADER:</code>
  or <code>#+HEADERS:</code> lines preceding a code block or nested between the
  <code>#+NAME:</code> line and the <code>#+BEGIN_SRC</code> line of a named code block.</p>
<p>{{{cindex(#+HEADER:)}}}
  {{{cindex(#+HEADERS:)}}}</p>
<p>This is an example of multi-line header arguments on an un-named code
  block:</p>
<pre class="example">
,#+HEADERS: :var data1=1
,#+BEGIN_SRC emacs-lisp :var data2=2
   (message &quot;data1:%S, data2:%S&quot; data1 data2)
,#+END_SRC

,#+RESULTS:
: data1:1, data2:2
</pre>
<p>This is an example of multi-line header arguments on a named code block:</p>
<pre class="example">
,#+NAME: named-block
,#+HEADER: :var data=2
,#+BEGIN_SRC emacs-lisp
  (message &quot;data:%S&quot; data)
,#+END_SRC

,#+RESULTS: named-block
 : data:2
</pre>
<h4><span class="heading-number heading-number-4">14.8.1.6</span> Header arguments in function calls</h4>
<p>At the most specific level, header arguments for &#8220;Library of Babel&#8221;
  or <code>#+CALL:</code> lines can be set as shown in the two examples below. For
  more information on the structure of <code>#+CALL:</code> lines see @&lt;a href=&#8221;Evaluating
  code blocks&#8221;&gt;Evaluating
  code blocks</a>.</p>
<p>The following example will apply the <code>:exports results</code> header
  argument to the evaluation of the <code>#+CALL:</code> line:</p>
<pre class="example">
,#+CALL: factorial(n=5) :exports results
</pre>
<p>The following example will apply the <code>:session special</code> header
  argument to the evaluation of the <code>factorial</code> code block:</p>
<pre class="example">
,#+CALL: factorial[:session special](n=5)
</pre>
<h3><span class="heading-number heading-number-3">14.8.2</span> Specific header arguments</h3>Header arguments consist of an initial colon followed by the name of
  the argument in lowercase letters. Additional header arguments are
  defined on a language-specific basis, see <a href="Languages">Languages</a>.
<p>The following header arguments are defined:</p>
<h4><span class="heading-number heading-number-4">14.8.2.1</span> var</h4>The <code>:var</code> header argument is used to pass arguments to code blocks.
  The specifics of how arguments are included in a code block vary by
  language; these are addressed in the language-specific documentation.
  However, the syntax used to specify arguments is the same across all
  languages. In every case, variables require a default value when they
  are declared.
<p>The values passed to arguments can either be literal values,
  references, or Emacs Lisp code (see @&lt;a href=&#8221;Emacs Lisp evaluation of
  variables&#8221;&gt;Emacs Lisp evaluation of
  variables</a>). References include anything in the Org mode file that
  takes a <code>#+NAME:</code>, <code>#+TBLNAME:</code>, or <code>#+RESULTS:</code> line. This includes
  tables, lists, <code>#+BEGIN_EXAMPLE</code> blocks, other code blocks, and the
  results of other code blocks.</p>
<p>Argument values can be indexed in a manner similar to arrays (see
  <a href="Indexable variable values">Indexable variable values</a>).</p>
<p>The following syntax is used to pass arguments to code blocks using the
  <code>:var</code> header argument:</p>
<pre class="example">
:var name=assign
</pre>
<p>The argument, <code>assign</code>, can either be a literal value, such as a
  string {{{samp(&#8220;string&#8221;)}}} or a number {{{samp(9)}}}, or a reference
  to a table, a list, a literal example, another code block (with or
  without arguments), or the results of evaluating another code block.</p>
<p>Here are examples of passing values by reference:</p>
<dl>
  <dt>a table named with either <code>#+NAME:</code> or <code>#+TBLNAME:</code></dt><dd>
    <pre class="example">
#+TBLNAME: example-table
| 1 |
| 2 |
| 3 |
| 4 |

#+NAME: table-length
(length table)

#+RESULTS: table-length
: 4
    </pre>
  </dd>
  <dt>a simple list named with <code>#+NAME:</code></dt><dd>
    <pre class="example">
#+NAME: example-list
  - simple
    - not
    - nested
  - list

  (print x)

#+RESULTS:
| simple | list |
    </pre>
    <p>Note that nesting is not carried through to the source code block.</p>
  </dd>
  <dt>a named code block without arguments, optionally followed by parentheses</dt><dd>
    <pre class="example">
(* 2 length)

#+RESULTS:
: 8
    </pre>
  </dd>
  <dt>a named code block with arguments</dt><dd>
    <pre class="example">
#+NAME: double
(* 2 input)

#+RESULTS: double
: 16

#+NAME: squared
(* input input)

#+RESULTS: squared
: 4
    </pre>
  </dd>
  <dt>a literal example block</dt><dd>
    <pre class="example">
,#+NAME: literal-example
,#+BEGIN_EXAMPLE
A literal example
on two lines
,#+END_EXAMPLE

,#+NAME: read-literal-example
,#+BEGIN_SRC emacs-lisp :var x=literal-example
  (concatenate 'string x &quot; for you.&quot;)
,#+END_SRC

,#+RESULTS: read-literal-example
 : A literal example
 : on two lines for you.
    </pre>
  </dd>
</dl>
<p>&lt;&lt;Alternate argument syntax&gt;&gt;</p>
<p>It is also possible to specify arguments in a potentially more natural
  way using the <code>#+NAME:</code> line of a code block. As in the following
  example, arguments can be packed inside of parentheses, separated by
  commas, following the source name.</p>
<pre class="example">
,#+NAME: double(input=0, x=2)
,#+BEGIN_SRC emacs-lisp
 (* 2 (+ input x))
,#+END_SRC
</pre>
<p>&lt;&lt;Indexable variable values&gt;&gt;</p>
<p>It is possible to reference portions of variable values by
  <i>indexing</i> into the variables. Indexes are 0 based with negative
  values counting back from the end. If an index is separated by commas
  then each subsequent section will index into the next deepest nesting
  or dimension of the value. Note that this indexing occurs <i>before</i>
  other table related header arguments like <code>:hlines</code>, <code>:colnames</code>, and
  <code>:rownames</code> are applied. The following example assigns the last cell
  of the first row the table <code>example-table</code> to the variable <code>data</code>:</p>
<pre class="example">
,#+NAME: example-table
| 1 | a |
| 2 | b |
| 3 | c |
| 4 | d |

,#+BEGIN_SRC emacs-lisp :var data=example-table[0,-1]
  data
,#+END_SRC

,#+RESULTS:
: a
</pre>
<p>Ranges of variable values can be referenced using two integers
  separated by a <code>:</code>, in which case the entire inclusive range is
  referenced. The following example assigns the middle three rows of
  <code>example-table</code> to <code>data</code>.</p>
<pre class="example">
#+NAME: example-table
| 1 | a |
| 2 | b |
| 3 | c |
| 4 | d |
| 5 | 3 |

  data

#+RESULTS:
| 2 | b |
| 3 | c |
| 4 | d |
</pre>
<p>Additionally, an empty index, or the single character <code>*</code>, are both
  interpreted to mean the entire range and as such are equivalent to
  <code>0:-1</code>, as shown in the following example in which the entire first
  column is referenced:</p>
<pre class="example">
#+NAME: example-table
| 1 | a |
| 2 | b |
| 3 | c |
| 4 | d |

  data

#+RESULTS:
| 1 | 2 | 3 | 4 |
</pre>
<p>It is possible to index into the results of code blocks as well as
  tables. Any number of dimensions can be indexed. Dimensions are
  separated from one another by commas, as shown in the following
  example:</p>
<pre class="example">
#+NAME: 3D
  '(((1  2  3)  (4  5  6)  (7  8  9))
    ((10 11 12) (13 14 15) (16 17 18))
    ((19 20 21) (22 23 24) (25 26 27)))

  data

#+RESULTS:
| 11 | 14 | 17 |
</pre>
<p>&lt;&lt;Emacs Lisp evaluation of variables&gt;&gt;</p>
<p>Emacs lisp code can be used to initialize variable values. When a
  variable value starts with <code>(</code>, <code>[</code>, ~&#8217;~ or <code>`</code> it will be evaluated
  as Emacs Lisp and the result of the evaluation will be assigned as the
  variable value. The following example demonstrates use of this
  evaluation to reliably pass the file-name of the Org mode buffer to a
  code block:<sup><a class="footref" name="fnr.150" href="#fn.150">150</a></sup></p>
<pre class="example">
wc -w $filename
</pre>
<p>Note that values read from tables and lists will not be evaluated as
  Emacs Lisp, as shown in the following example, which contains a Lisp
  list as the sole table element:</p>
<pre class="example">
#+NAME: table
| (a b c) |

#+HEADERS: :var data=table[0,0]
  $data

#+RESULTS:
: (a b c)
</pre>
<h4><span class="heading-number heading-number-4">14.8.2.2</span> results</h4>There are three classes of <code>:results</code> header argument.  Only one option
  per class may be supplied per code block.
<dl>
  <dt>Collection</dt><dd>
    <p>These header arguments specify how the results should be collected
      from the code block.</p>
  </dd>
  <dt>Type</dt><dd>
    <p>These header arguments specify what type of result the code block will
      return&#8212;which has implications for how they will be inserted into the
      Org mode buffer.</p>
  </dd>
  <dt>Handling</dt><dd>
    <p>These header arguments specify how the results of evaluating the code
      block should be handled.</p>
  </dd>
</dl>
<p>&lt;&lt;Collection&gt;&gt;</p>
<p>The following <code>:results</code> options are mutually exclusive, and specify
  how the results should be collected from the code block.</p>
<dl>
  <dt><code>value</code></dt><dd>
    <p>This is the default. The result is the value of the last statement in
      the code block. This header argument places the evaluation in
      functional mode. Note that in some languages, e.g., Python, use of
      this result type requires that a <code>return</code> statement be included in the
      body of the source code block.</p>
  </dd>
  <dt><code>output</code></dt><dd>
    <p>The result is the collection of everything printed to STDOUT during
      the execution of the code block. This header argument places the
      evaluation in scripting mode.</p>
  </dd>
</dl>
<p>&lt;&lt;Type&gt;&gt;</p>
<p>The following <code>:results</code> options are mutually exclusive and specify
  what type of results the code block will return. By default, results
  are inserted as either a table or scalar depending on their value.</p>
<dl>
  <dt><code>table</code>, <code>vector</code></dt><dd>
    <p>The results should be interpreted as an Org mode table. If a single
      value is returned, it will be converted into a table with one row and
      one column. E.g., <code>:results value table</code>.</p>
  </dd>
  <dt><code>scalar</code>, <code>verbatim</code></dt><dd>
    <p>The results should be interpreted literally&#8212;they will not be
      converted into a table. The results will be inserted into the Org mode
      buffer as quoted text. E.g., <code>:results value verbatim</code>.</p>
  </dd>
  <dt><code>list</code></dt><dd>
    <p>The results should be interpreted as an Org mode list. If a single
      scalar value is returned it will be converted into a list with only
      one element.</p>
  </dd>
  <dt><code>file</code></dt><dd>
    <p>The results will be interpreted as the path to a file, and will be
      inserted into the Org mode buffer as a file link. E.g., <code>:results
      value file</code>.</p>
  </dd>
  <dt><code>raw</code></dt><dd>
    <p>The results are interpreted as raw Org mode code and are inserted
      directly into the buffer. If the results look like a table they will
      be aligned as such by Org mode. E.g., <code>:results value raw</code>.</p>
  </dd>
  <dt><code>org</code></dt><dd>
    <p>The results are will be enclosed in a <code>BEGIN_SRC org</code> block. They are
      not comma-escaped by default but they will be if you hit
      {{{kbd(TAB)}}} in the block and/or if you export the file. E.g.,
      <code>:results value org</code>.</p>
  </dd>
  <dt><code>html</code></dt><dd>
    <p>Results are assumed to be HTML and will be enclosed in a <code>BEGIN_HTML</code>
      block. E.g., <code>:results value html</code>.</p>
  </dd>
  <dt><code>latex</code></dt><dd>
    <p>Results assumed to be LaTeX and are enclosed in a <code>BEGIN_LaTeX</code>
      block. E.g., <code>:results value latex</code>.</p>
  </dd>
  <dt><code>code</code></dt><dd>
    <p>Result are assumed to be parsable code and are enclosed in a code
      block. E.g., <code>:results value code</code>.</p>
  </dd>
  <dt><code>pp</code></dt><dd>
    <p>The result is converted to pretty-printed code and is enclosed in a
      code block. This option currently supports Emacs Lisp, Python, and
      Ruby. E.g., <code>:results value pp</code>.</p>
  </dd>
  <dt><code>drawer</code></dt><dd>
    <p>The result is wrapped in a RESULTS drawer. This can be useful for
      inserting <code>raw</code> or <code>org</code> syntax results in such a way that their
      extent is known and they can be automatically removed or replaced.</p>
  </dd>
</dl>
<p>&lt;&lt;Handling&gt;&gt;
  The following <code>:results</code> options indicate what happens with the
  results once they are collected.</p>
<dl>
  <dt><code>replace</code></dt><dd>
    <p>The default value. Any existing results will be removed, and the new
      results will be inserted into the Org mode buffer in their place.
      E.g., <code>:results output replace</code>.</p>
  </dd>
  <dt><code>append</code></dt><dd>
    <p>If there are pre-existing results of the code block then the new
      results will be appended to the existing results. Otherwise the new
      results will be inserted as with <code>replace</code>.</p>
  </dd>
  <dt><code>prepend</code></dt><dd>
    <p>If there are pre-existing results of the code block then the new
      results will be prepended to the existing results. Otherwise the new
      results will be inserted as with <code>replace</code>.</p>
  </dd>
  <dt><code>silent</code></dt><dd>
    <p>The results will be echoed in the minibuffer but will not be inserted
      into the Org mode buffer. E.g., <code>:results output silent</code>.</p>
  </dd>
</dl>
<h4><span class="heading-number heading-number-4">14.8.2.3</span> file</h4>
<p>The header argument <code>:file</code> is used to specify an external file in
  which to save code block results. After code block evaluation an Org
  mode style <code>[[file:]]</code> link (see <a href="Link format">Link format</a>) to the file will be inserted
  into the Org mode buffer. Some languages including R, gnuplot, dot,
  and ditaa provide special handling of the <code>:file</code> header argument,
  automatically wrapping the code block body in the boilerplate code
  required to save output to the specified file. This is often useful
  for saving graphical output of a code block to the specified file.</p>
<p>The argument to <code>:file</code> should be either a string specifying the path
  to a file, or a list of two strings in which case the first element of
  the list should be the path to a file and the second a description for
  the link.</p>
<h4><span class="heading-number heading-number-4">14.8.2.4</span> file-desc</h4>
<p>The value of the <code>:file-desc</code> header argument is used to provide a
  description for file code block results which are inserted as Org mode
  links (see <a href="Link format">Link format</a>). If the <code>:file-desc</code> header argument is given
  with no value the link path will be placed in both the &#8220;link&#8221; and
  the &#8220;description&#8221; portion of the Org mode link.</p>
<h4><span class="heading-number heading-number-4">14.8.2.5</span> dir</h4>
<p>While the <code>:file</code> header argument can be used to specify the path to
  the output file, <code>:dir</code> specifies the default directory during code
  block execution. If it is absent, then the directory associated with
  the current buffer is used. In other words, supplying <code>:dir path</code>
  temporarily has the same effect as changing the current directory with
  {{{kbd(M-x cd path)}}}, and then not supplying <code>:dir</code>. Under the
  surface, <code>:dir</code> simply sets the value of the Emacs variable
  <code>default-directory</code>.</p>
<p>When using <code>:dir</code>, you should supply a relative path for file output
  (e.g., <code>:file myfile.jpg</code> or <code>:file results/myfile.jpg</code>) in which
  case that path will be interpreted relative to the default directory.</p>
<p>In other words, if you want your plot to go into a folder called
  {{{file(Work)}}} in your home directory, you could use a code block
  like the following example:</p>
<pre class="example">
matplot(matrix(rnorm(100), 10), type=&quot;l&quot;)
</pre>
<p>&lt;&lt;Remote execution&gt;&gt;</p>
<p>A directory on a remote machine can be specified using tramp file
  syntax, in which case the code will be evaluated on the remote
  machine. An example is:</p>
<pre class="example">
plot(1:10, main=system(&quot;hostname&quot;, intern=TRUE))
</pre>
<p>Text results will be returned to the local Org mode buffer as usual,
  and file output will be created on the remote machine with relative
  paths interpreted relative to the remote directory. An Org mode link
  to the remote file will be created.</p>
<p>So, in the above example a plot will be created on the remote machine,
  and a link of the following form will be inserted in the org buffer:</p>
<pre class="example">
[[file:/scp:dand@yakuba.princeton.edu:/home/dand/plot.png][plot.png]]
</pre>
<p>Most of this functionality follows immediately from the fact that
  <code>:dir</code> sets the value of the Emacs variable <code>default-directory</code>,
  thanks to tramp. Those using XEmacs, or GNU Emacs prior to version 23
  may need to install tramp separately in order for these features to
  work correctly.</p>
<p>&lt;&lt;Further points&gt;&gt;
  Please be aware of these further points:</p>
<ul>
  <li>If <code>:dir</code> is used in conjunction with <code>:session</code>, although it will
    determine the starting directory for a new session as expected, no
    attempt is currently made to alter the directory associated with an
    existing session.</li>
  <li><code>:dir</code> should typically not be used to create files during export
    with <code>:exports results</code> or <code>:exports both</code>.  The reason is that, in
    order to retain portability of exported material between machines,
    during export links inserted into the buffer will <i>not</i> be expanded
    against <code>default directory</code>.  Therefore, if <code>default-directory</code> is
    altered using <code>:dir</code>, it is probable that the file will be created
    in a location to which the link does not point.</li>
</ul>
<h4><span class="heading-number heading-number-4">14.8.2.6</span> exports</h4>The <code>:exports</code> header argument specifies what should be included in HTML
  or LaTeX exports of the Org mode file.
<dl>
  <dt><code>code</code></dt><dd>
    <p>The default. The body of code is included into the exported file.
      E.g., <code>:exports code</code>.</p>
  </dd>
  <dt><code>results</code></dt><dd>
    <p>The result of evaluating the code is included in the exported file.
      E.g., <code>:exports results</code>.</p>
  </dd>
  <dt><code>both</code></dt><dd>
    <p>Both the code and results are included in the exported file. E.g.,
      <code>:exports both</code>.</p>
  </dd>
  <dt><code>none</code></dt><dd>
    <p>Nothing is included in the exported file.  E.g., <code>:exports none</code>.</p>
  </dd>
</dl>
<h4><span class="heading-number heading-number-4">14.8.2.7</span> tangle</h4>
<p>The <code>:tangle</code> header argument specifies whether or not the code
  block should be included in tangled extraction of source code files.</p>
<dl>
  <dt><code>tangle</code></dt><dd>
    <p>The code block is exported to a source code file named after the full
      path (including the directory) and file name (w/o extension) of the
      Org mode file. E.g., <code>:tangle yes</code>.</p>
  </dd>
  <dt><code>no</code></dt><dd>
    <p>The default. The code block is not exported to a source code file.
      E.g., <code>:tangle no</code>.</p>
  </dd>
  <dt>other</dt><dd>
    <p>Any other string passed to the <code>:tangle</code> header argument is
      interpreted as a path (directory and file name relative to the
      directory of the Org mode file) to which the block will be exported,
      e.g., <code>:tangle path</code>.</p>
  </dd>
</dl>
<h4><span class="heading-number heading-number-4">14.8.2.8</span> mkdirp</h4>
<p>The <code>:mkdirp</code> header argument can be used to create parent directories
  of tangled files when missing. This can be set to <code>yes</code> to enable
  directory creation or to <code>no</code> to inhibit directory creation.</p>
<h4><span class="heading-number heading-number-4">14.8.2.9</span> comments</h4>
<p>By default code blocks are tangled to source-code files without any
  insertion of comments beyond those which may already exist in the body
  of the code block. The <code>:comments</code> header argument can be set as
  follows to control the insertion of extra comments into the tangled
  code file.</p>
<dl>
  <dt><code>no</code></dt><dd>
    <p>The default.  No extra comments are inserted during tangling.</p>
  </dd>
  <dt><code>link</code></dt><dd>
    <p>The code block is wrapped in comments which contain pointers back to
      the original Org file from which the code was tangled.</p>
  </dd>
  <dt><code>yes</code></dt><dd>
    <p>A synonym for &#8220;link&#8221; to maintain backwards compatibility.</p>
  </dd>
  <dt><code>org</code></dt><dd>
    <p>Include text from the Org mode file as a comment.</p>
    <p>The text is picked from the leading context of the tangled code and is
      limited by the nearest headline or source block as the case may be.</p>
  </dd>
  <dt><code>both</code></dt><dd>
    <p>Turns on both the &#8220;link&#8221; and &#8220;org&#8221; comment options.</p>
  </dd>
  <dt><code>noweb</code></dt><dd>
    <p>Turns on the &#8220;link&#8221; comment option, and additionally wraps expanded
      noweb references in the code block body in link comments.</p>
  </dd>
</dl>
<h4><span class="heading-number heading-number-4">14.8.2.10</span> padline</h4>
<p>Control in insertion of padding lines around code block bodies in tangled
  code files.  The default value is <code>yes</code> which results in insertion of
  newlines before and after each tangled code block.  The following arguments
  are accepted:</p>
<dl>
  <dt><code>yes</code></dt><dd>
    <p>Insert newlines before and after each code block body in tangled code
      files.</p>
  </dd>
  <dt><code>no</code></dt><dd>
    <p>Do not insert any newline padding in tangled output.</p>
  </dd>
</dl>
<h4><span class="heading-number heading-number-4">14.8.2.11</span> no-expand</h4>
<p>By default, code blocks are expanded with <code>org-babel-expand-src-block</code>
  during tangling. This has the effect of assigning values to variables
  specified with <code>:var</code> (see <a href="var">var</a>), and of replacing &#8220;noweb&#8221; references
  (see <a href="Noweb reference syntax">Noweb reference syntax</a>) with their targets. The <code>:no-expand</code>
  header argument can be used to turn off this behavior.</p>
<h4><span class="heading-number heading-number-4">14.8.2.12</span> session</h4>
<p>The <code>:session</code> header argument starts a session for an interpreted
  language where state is preserved.</p>
<p>By default, a session is not started.</p>
<p>A string passed to the <code>:session</code> header argument will give the
  session a name. This makes it possible to run concurrent sessions for
  each interpreted language.</p>
<h4><span class="heading-number heading-number-4">14.8.2.13</span> noweb</h4>
<p>The <code>:noweb</code> header argument controls expansion of &#8220;noweb&#8221; syntax
  references (see <a href="Noweb reference syntax">Noweb reference syntax</a>) when the code block is
  evaluated, tangled, or exported. The <code>:noweb</code> header argument can have
  one of the five values: <code>no</code>, <code>yes</code>, <code>tangle</code>, <code>no-export</code>, or
  <code>strip-export</code>.</p>
<dl>
  <dt><code>no</code></dt><dd>
    <p>The default. &#8220;Noweb&#8221; syntax references in the body of the code block
      will not be expanded before the code block is evaluated, tangled or
      exported.</p>
  </dd>
  <dt><code>yes</code></dt><dd>
    <p>&#8220;Noweb&#8221; syntax references in the body of the code block will be
      expanded before the code block is evaluated, tangled or exported.</p>
  </dd>
  <dt><code>tangle</code></dt><dd>
    <p>&#8220;Noweb&#8221; syntax references in the body of the code block will be
      expanded before the code block is tangled. However, &#8220;noweb&#8221; syntax
      references will not be expanded when the code block is evaluated or
      exported.</p>
  </dd>
  <dt><code>no-export</code></dt><dd>
    <p>&#8220;Noweb&#8221; syntax references in the body of the code block will be
      expanded before the block is evaluated or tangled. However, &#8220;noweb&#8221;
      syntax references will not be expanded when the code block is
      exported.</p>
  </dd>
  <dt><code>strip-export</code></dt><dd>
    <p>&#8220;Noweb&#8221; syntax references in the body of the code block will be
      expanded before the block is evaluated or tangled. However, &#8220;noweb&#8221;
      syntax references will not be removed when the code block is exported.</p>
  </dd>
  <dt><code>eval</code></dt><dd>
    <p>&#8220;Noweb&#8221; syntax references in the body of the code block will only be
      expanded before the block is evaluated.</p>
  </dd>
</dl>
<p>&lt;&lt;Noweb prefix lines&gt;&gt;</p>
<p>Noweb insertions are placed behind the line prefix of the
  <code>&lt;&lt;reference&gt;&gt;</code>. Because the <code>&lt;&lt;example&gt;&gt;</code> noweb reference appears
  behind the SQL comment syntax in the following example, each line of
  the expanded noweb reference will be commented.</p>
<p>This code block:</p>
<pre class="example">
-- &lt;&lt;example&gt;&gt;
</pre>
<p>expands to:</p>
<pre class="example">
-- this is the
-- multi-line body of example
</pre>
<p>Note that noweb replacement text that does not contain any newlines
  will not be inserted behind the line prefix, so it is always possible
  to use inline noweb references.</p>
<h4><span class="heading-number heading-number-4">14.8.2.14</span> noweb-ref</h4>
<p>When expanding &#8220;noweb&#8221; style references the bodies of all code block
  with <i>either</i> a block name matching the reference name <i>or</i> a
  <code>:noweb-ref</code> header argument matching the reference name will be
  concatenated together to form the replacement text.</p>
<p>By setting this header argument at the sub-tree or file level, simple code
  block concatenation may be achieved.  For example, when tangling the
  following Org mode file, the bodies of code blocks will be concatenated into
  the resulting pure code file.<sup><a class="footref" name="fnr.151" href="#fn.151">151</a></sup></p>
<pre class="example">
   &lt;&lt;fullest-disk&gt;&gt;
,* the mount point of the fullest disk
   :PROPERTIES:
   :noweb-ref: fullest-disk
   :END:

 ,** query all mounted disks
   df \

 ,** strip the header row
   |sed '1d' \

 ,** sort by the percent full
   |awk '@{print $5 &quot; &quot; $6@}'|sort -n |tail -1 \

 ,** extract the mount point
   |awk '@{print $2@}'
</pre>
<p>The <code>:noweb-sep</code> (see <a href="noweb-sep">noweb-sep</a>) header argument holds the string used
  to separate accumulate noweb references like those above. By default a
  newline is used.</p>
<h4><span class="heading-number heading-number-4">14.8.2.15</span> noweb-sep</h4>
<p>The <code>:noweb-sep</code> header argument holds the string used to separate
  accumulated noweb references (see <a href="noweb-ref">noweb-ref</a>). By default a newline is
  used.</p>
<h4><span class="heading-number heading-number-4">14.8.2.16</span> cache</h4>
<p>The <code>:cache</code> header argument controls the use of in-buffer caching of
  the results of evaluating code blocks. It can be used to avoid
  re-evaluating unchanged code blocks. Note that the <code>:cache</code> header
  argument will not attempt to cache results when the <code>:session</code> header
  argument is used, because the results of the code block execution may
  be stored in the session outside of the Org mode buffer. The <code>:cache</code>
  header argument can have one of two values: <code>yes</code> or <code>no</code>.</p>
<dl>
  <dt><code>no</code></dt><dd>
    <p>The default. No caching takes place, and the code block will be
      evaluated every time it is called.</p>
  </dd>
  <dt><code>yes</code></dt><dd>
    <p>Every time the code block is run a SHA1 hash of the code and arguments
      passed to the block will be generated. This hash is packed into the
      <code>#+RESULTS:</code> line and will be checked on subsequent executions of the
      code block. If the code block has not changed since the last time it
      was evaluated, it will not be re-evaluated.</p>
  </dd>
</dl>
<p>Code block caches notice if the value of a variable argument
  to the code block has changed.  If this is the case, the cache is
  invalidated and the code block is re-run.  In the following example,
  <code>caller</code> will not be re-run unless the results of <code>random</code> have
  changed since it was last run.</p>
<pre class="example">
#+NAME: random
runif(1)

#+RESULTS[a2a72cd647ad44515fab62e144796432793d68e1]: random
0.4659510825295

#+NAME: caller
x

#+RESULTS[bec9c8724e397d5df3b696502df3ed7892fc4f5f]: caller
0.254227238707244
</pre>
<h4><span class="heading-number heading-number-4">14.8.2.17</span> sep</h4>{{{kindex(C-c C-o)}}}
<p>The <code>:sep</code> header argument can be used to control the delimiter used
  when writing tabular results out to files external to Org mode. This
  is used either when opening tabular results of a code block by calling
  the <code>org-open-at-point</code> function bound to {{{kbd(C-c C-o)}}} on the
  code block, or when writing code block results to an external file
  (see <a href="file">file</a>) header argument.</p>
<p>By default, when <code>:sep</code> is not specified output tables are tab
  delimited.</p>
<h4><span class="heading-number heading-number-4">14.8.2.18</span> hlines</h4>
<p>Tables are frequently represented with one or more horizontal lines,
  or hlines. The <code>:hlines</code> argument to a code block accepts the values
  <code>yes</code> or <code>no</code>, with a default value of <code>no</code>.</p>
<dl>
  <dt><code>no</code></dt><dd>
    <p>Strips horizontal lines from the input table. In most languages this
      is the desired effect because an <code>hline</code> symbol is interpreted as an
      unbound variable and raises an error. Setting <code>:hlines no</code> or relying
      on the default value yields the following results.</p>
    <pre class="example">
#+TBLNAME: many-cols
| a | b | c |
|---+---+---|
| d | e | f |
|---+---+---|
| g | h | i |

#+NAME: echo-table
  return tab

#+RESULTS: echo-table
| a | b | c |
| d | e | f |
| g | h | i |
    </pre>
  </dd>
  <dt><code>yes</code></dt><dd>
    <p>Leaves hlines in the table. Setting <code>:hlines yes</code> has this effect.</p>
    <pre class="example">
#+TBLNAME: many-cols
| a | b | c |
|---+---+---|
| d | e | f |
|---+---+---|
| g | h | i |

#+NAME: echo-table
  return tab

#+RESULTS: echo-table
| a | b | c |
|---+---+---|
| d | e | f |
|---+---+---|
| g | h | i |
    </pre>
  </dd>
</dl>
<h4><span class="heading-number heading-number-4">14.8.2.19</span> colnames</h4>
<p>The <code>:colnames</code> header argument accepts the values <code>yes</code>, <code>no</code>, or
  <code>nil</code> for unassigned. The default value is <code>nil</code>. Note that the
  behavior of the <code>:colnames</code> header argument may differ across
  languages. For example Emacs Lisp code blocks ignore the <code>:colnames</code>
  header argument entirely given the ease with which tables with column
  names may be handled directly in Emacs Lisp.</p>
<dl>
  <dt><code>nil</code></dt><dd>
    <p>If an input table looks like it has column names (because its second
      row is an hline), then the column names will be removed from the table
      before processing, then reapplied to the results.</p>
    <pre class="example">
#+TBLNAME: less-cols
| a |
|---|
| b |
| c |

#+NAME: echo-table-again
  return [[val + '*' for val in row] for row in tab]

#+RESULTS: echo-table-again
| a  |
|----|
| b* |
| c* |
    </pre>
    <p>Please note that column names are not removed before the table is
      indexed using variable indexing. See <a href="Indexable variable values">Indexable variable values</a>.</p>
  </dd>
  <dt><code>no</code></dt><dd>
    <p>No column name pre-processing takes place</p>
  </dd>
  <dt><code>yes</code></dt><dd>
    <p>Column names are removed and reapplied as with <code>nil</code> even if the table
      does not &#8220;look like&#8221; it has column names (i.e., the second row is
      not an hline).</p>
  </dd>
</dl>
<h4><span class="heading-number heading-number-4">14.8.2.20</span> rownames</h4>
<p>The <code>:rownames</code> header argument can take on the values <code>yes</code>
  or <code>no</code>, with a default value of <code>no</code>.</p>
<dl>
  <dt><code>no</code></dt><dd>
    <p>No row name pre-processing will take place.</p>
  </dd>
  <dt><code>yes</code></dt><dd>
    <p>The first column of the table is removed from the table before
      processing, and is then reapplied to the results.</p>
    <pre class="example">
#+TBLNAME: with-rownames
| one | 1 | 2 | 3 | 4 |  5 |
| two | 6 | 7 | 8 | 9 | 10 |

#+NAME: echo-table-once-again
  return [[val + 10 for val in row] for row in tab]

#+RESULTS: echo-table-once-again
| one | 11 | 12 | 13 | 14 | 15 |
| two | 16 | 17 | 18 | 19 | 20 |
    </pre>
    <p>Please note that row names are not removed before the table is indexed
      using variable indexing. See <a href="Indexable variable values">Indexable variable values</a>.</p>
  </dd>
</dl>
<h4><span class="heading-number heading-number-4">14.8.2.21</span> shebang</h4>
<p>Setting the <code>:shebang</code> header argument to a string value (e.g.,
  {{{samp(:shebang &#8220;#!/bin/bash&#8221;)}}}) causes the string to be inserted as the
  first line of any tangled file holding the code block, and the file
  permissions of the tangled file are set to make it executable.</p>
<h4><span class="heading-number heading-number-4">14.8.2.22</span> eval</h4>
<p>The <code>:eval</code> header argument can be used to limit the evaluation of
  specific code blocks. The <code>:eval</code> header argument can be useful for
  protecting against the evaluation of dangerous code blocks or to
  ensure that evaluation will require a query regardless of the value of
  the <code>org-confirm-babel-evaluate</code> variable. The possible values of
  <code>:eval</code> and their effects are shown below.</p>
<dl>
  <dt><code>never</code> or <code>no</code></dt><dd>
    <p>The code block will not be evaluated under any circumstances.</p>
  </dd>
  <dt><code>query</code></dt><dd>
    <p>Evaluation of the code block will require an affirmative answer to a
      query.</p>
  </dd>
  <dt><code>never-export</code> or <code>no-export</code></dt><dd>
    <p>The code block will not be evaluated during export but may still be
      called interactively.</p>
  </dd>
  <dt><code>query-export</code></dt><dd>
    <p>Evaluation of the code block during export will require an affirmative
      answer to a query.</p>
  </dd>
</dl>
<p>If this header argument is not set then evaluation is determined by the value
  of the <code>org-confirm-babel-evaluate</code> variable (see @&lt;a href=&#8221;Code evaluation
  security&#8221;&gt;Code evaluation
  security</a>).</p>
<h4><span class="heading-number heading-number-4">14.8.2.23</span> wrap</h4>
<p>The <code>:wrap</code> header argument is used to mark the results of source
  block evaluation. The header argument can be passed a string that will
  be appended to <code>#+BEGIN_</code> and <code>#+END_</code>, which will then be used to
  wrap the results. If no string is specified then the results will be
  wrapped in a <code>#+BEGIN/END_RESULTS</code> block.</p>
<h2><span class="heading-number heading-number-2">14.9</span> Results of evaluation</h2>{{{cindex(code block&#92;\, results of evaluation)}}}
  {{{cindex(source code&#92;\, results of evaluation)}}}
<p>The way in which results are handled depends on whether a session is
  invoked, as well as on whether <code>:results value</code> or <code>:results output</code>
  is used. The following table shows the table possibilities. For a full
  listing of the possible results header arguments, see <a href="results">results</a>.</p>
<table>
  <tr><th></th><th><b>Non-session</b></th><th><b>Session</b></th></tr>
  <tr><td><code>:results value</code></td><td>value of last expression</td><td>value of last expression</td></tr>
  <tr><td><code>:results output</code></td><td>contents of STDOUT</td><td>concatenation of interpreter output</td></tr>
</table>
<p>Please note that with <code>:results value</code>, the result in both <code>:session</code>
  and non-session is returned to Org mode as a table (a one- or
  two-dimensional vector of strings or numbers) when appropriate.</p>
<h3><span class="heading-number heading-number-3">14.9.1</span> Non-session</h3>
<dl>
  <dt><code>:results value</code></dt><dd>
    <p>This is the default. Internally, the value is obtained by wrapping the
      code in a function definition in the external language, and evaluating
      that function. Therefore, code should be written as if it were the
      body of such a function. In particular, note that Python does not
      automatically return a value from a function unless a <code>return</code>
      statement is present, and so a {{{samp(return)}}} statement will
      usually be required in Python.</p>
    <p>This is the only one of the four evaluation contexts in which the code
      is automatically wrapped in a function definition.</p>
  </dd>
  <dt><code>:results output</code></dt><dd>
    <p>The code is passed to the interpreter as an external process, and the
      contents of the standard output stream are returned as text.<sup><a class="footref" name="fnr.152" href="#fn.152">152</a></sup></p>
  </dd>
</dl>
<h3><span class="heading-number heading-number-3">14.9.2</span> Session</h3>
<dl>
  <dt><code>:results value</code></dt><dd>
    <p>The code is passed to an interpreter running as an interactive Emacs
      inferior process. Only languages which provide tools for interactive
      evaluation of code have session support, so some language (e.g., C and
      ditaa) do not support the <code>:session</code> header argument, and in other
      languages (e.g., Python and Haskell) which have limitations on the
      code which may be entered into interactive sessions, those limitations
      apply to the code in code blocks using the <code>:session</code> header argument
      as well.</p>
    <p>Unless the <code>:results output</code> option is supplied (see below) the result
      returned is the result of the last evaluation performed by the
      interpreter.<sup><a class="footref" name="fnr.153" href="#fn.153">153</a></sup></p>
  </dd>
  <dt><code>:results output</code></dt><dd>
    <p>The code is passed to the interpreter running as an interactive Emacs
      inferior process. The result returned is the concatenation of the
      sequence of (text) output from the interactive interpreter. Notice
      that this is not necessarily the same as what would be sent to
      <code>STDOUT</code> if the same code were passed to a non-interactive interpreter
      running as an external process. Compare the following two
      examples:</p>
    <pre class="example">
 print &quot;hello&quot;
 2
 print &quot;bye&quot;

#+RESULTS:
: hello
: bye
    </pre>
    <p>In non-session mode, the `2&#8217; is not printed and does not appear.</p>
    <pre class="example">
 print &quot;hello&quot;
 2
 print &quot;bye&quot;

#+RESULTS:
: hello
: 2
: bye
    </pre>
    <p>But in <code>:session</code> mode, the interactive interpreter receives input `2&#8217;
      and prints out its value, `2&#8217;. (Indeed, the other print statements are
      unnecessary here).</p>
  </dd>
</dl>
<h2><span class="heading-number heading-number-2">14.10</span> Noweb reference syntax</h2>{{{cindex(code block&#92;\, noweb reference)}}}
  {{{cindex(syntax&#92;\, noweb)}}}
  {{{cindex(source code&#92;\, noweb reference)}}}
<p>The &#8220;noweb&#8221; (see <a href="http://www.cs.tufts.edu/~nr/noweb/">http://www.cs.tufts.edu/~nr/noweb/</a>) Literate
  Programming system allows named blocks of code to be referenced using
  the familiar Noweb syntax:</p>
<pre class="example">
&lt;&lt;code-block-name&gt;&gt;
</pre>
<p>When a code block is tangled or evaluated, whether or not &#8220;noweb&#8221;
  references are expanded depends upon the value of the <code>:noweb</code> header
  argument. If <code>:noweb yes</code>, then a Noweb reference is expanded before
  evaluation. If <code>:noweb no</code>, the default, then the reference is not
  expanded before evaluation. See the <a href="noweb-ref">noweb-ref</a> header argument for a
  more flexible way to resolve noweb references.</p>
<p>It is possible to include the <i>results</i> of a code block rather than
  the body. This is done by appending parenthesis to the code block
  name, which may optionally contain arguments to the code block as
  shown below.</p>
<pre class="example">
&lt;&lt;code-block-name(optional arguments)&gt;&gt;
</pre>
<p>Note that the default value, <code>:noweb no</code>, was chosen to ensure that
  correct code is not broken in a language, such as Ruby, where
  <code>&lt;&lt;arg&gt;&gt;</code> is a syntactically valid construct. If <code>&lt;&lt;arg&gt;&gt;</code> is not
  syntactically valid in languages that you use, then please consider
  setting the default value.</p>
<p>If noweb tangling is slow in large Org mode files, consider
  setting the <code>*org-babel-use-quick-and-dirty-noweb-expansion*</code> variable
  to true. This will result in faster noweb reference resolution at the
  expense of not correctly resolving inherited values of the
  <code>:noweb-ref</code> header argument.</p>
<h2><span class="heading-number heading-number-2">14.11</span> Key bindings and useful functions</h2>{{{cindex(code block&#92;\, key bindings)}}}
<p>Many common Org mode key sequences are re-bound depending on
  the context.</p>
<p>Within a code block, the following key bindings
  are active:
  {{{kindex(C-c C-c)}}}
  {{{kindex(C-c C-o)}}}
  {{{kindex(C-up)}}}
  {{{kindex(M-down)}}}</p>
<table>
  <tr><th>Key binding</th><th>Function</th></tr>
  <tr><td>{{{kbd(C-c C-c)}}}</td><td><code>org-babel-execute-src-block</code></td></tr>
  <tr><td>{{{kbd(C-c C-o)}}}</td><td><code>org-babel-open-src-block-result</code></td></tr>
  <tr><td>{{{kbdkey(C-,up)}}}</td><td><code>org-babel-load-in-session</code></td></tr>
  <tr><td>{{{kbdkey(M-,down)}}}</td><td><code>org-babel-pop-to-session</code></td></tr>
</table>
<p>In an Org mode buffer, the following key bindings are active:</p>
<p>{{{kindex(C-c C-v p)}}}
  {{{kindex(C-c C-v C-p)}}}
  {{{kindex(C-c C-v n)}}}
  {{{kindex(C-c C-v C-n)}}}
  {{{kindex(C-c C-v e)}}}
  {{{kindex(C-c C-v C-e)}}}
  {{{kindex(C-c C-v o)}}}
  {{{kindex(C-c C-v C-o)}}}
  {{{kindex(C-c C-v v)}}}
  {{{kindex(C-c C-v C-v)}}}
  {{{kindex(C-c C-v u)}}}
  {{{kindex(C-c C-v C-u)}}}
  {{{kindex(C-c C-v g)}}}
  {{{kindex(C-c C-v C-g)}}}
  {{{kindex(C-c C-v r)}}}
  {{{kindex(C-c C-v C-r)}}}
  {{{kindex(C-c C-v b)}}}
  {{{kindex(C-c C-v C-b)}}}
  {{{kindex(C-c C-v s)}}}
  {{{kindex(C-c C-v C-s)}}}
  {{{kindex(C-c C-v d)}}}
  {{{kindex(C-c C-v C-d)}}}
  {{{kindex(C-c C-v t)}}}
  {{{kindex(C-c C-v C-t)}}}
  {{{kindex(C-c C-v f)}}}
  {{{kindex(C-c C-v C-f)}}}
  {{{kindex(C-c C-v c)}}}
  {{{kindex(C-c C-v C-c)}}}
  {{{kindex(C-c C-v j)}}}
  {{{kindex(C-c C-v C-j)}}}
  {{{kindex(C-c C-v l)}}}
  {{{kindex(C-c C-v C-l)}}}
  {{{kindex(C-c C-v i)}}}
  {{{kindex(C-c C-v C-i)}}}
  {{{kindex(C-c C-v I)}}}
  {{{kindex(C-c C-v C-I)}}}
  {{{kindex(C-c C-v z)}}}
  {{{kindex(C-c C-v C-z)}}}
  {{{kindex(C-c C-v a)}}}
  {{{kindex(C-c C-v C-a)}}}
  {{{kindex(C-c C-v h)}}}
  {{{kindex(C-c C-v C-h)}}}
  {{{kindex(C-c C-v x)}}}
  {{{kindex(C-c C-v C-x)}}}</p>
<table>
  <tr><th>Key binding</th><th>Function</th></tr>
  <tr><td>{{{kbd(C-c C-v p)}}} or {{{kbd(C-c C-v C-p)}}}</td><td><code>org-babel-previous-src-block</code></td></tr>
  <tr><td>{{{kbd(C-c C-v n)}}} or {{{kbd(C-c C-v C-n)}}}</td><td><code>org-babel-next-src-block</code></td></tr>
  <tr><td>{{{kbd(C-c C-v e)}}} or {{{kbd(C-c C-v C-e)}}}</td><td><code>org-babel-execute-maybe</code></td></tr>
  <tr><td>{{{kbd(C-c C-v o)}}} or {{{kbd(C-c C-v C-o)}}}</td><td><code>org-babel-open-src-block-result</code></td></tr>
  <tr><td>{{{kbd(C-c C-v v)}}} or {{{kbd(C-c C-v C-v)}}}</td><td><code>org-babel-expand-src-block</code></td></tr>
  <tr><td>{{{kbd(C-c C-v u)}}} or {{{kbd(C-c C-v C-u)}}}</td><td><code>org-babel-goto-src-block-head</code></td></tr>
  <tr><td>{{{kbd(C-c C-v g)}}} or {{{kbd(C-c C-v C-g)}}}</td><td><code>org-babel-goto-named-src-block</code></td></tr>
  <tr><td>{{{kbd(C-c C-v r)}}} or {{{kbd(C-c C-v C-r)}}}</td><td><code>org-babel-goto-named-result</code></td></tr>
  <tr><td>{{{kbd(C-c C-v b)}}} or {{{kbd(C-c C-v C-b)}}}</td><td><code>org-babel-execute-buffer</code></td></tr>
  <tr><td>{{{kbd(C-c C-v s)}}} or {{{kbd(C-c C-v C-s)}}}</td><td><code>org-babel-execute-subtree</code></td></tr>
  <tr><td>{{{kbd(C-c C-v d)}}} or {{{kbd(C-c C-v C-d)}}}</td><td><code>org-babel-demarcate-block</code></td></tr>
  <tr><td>{{{kbd(C-c C-v t)}}} or {{{kbd(C-c C-v C-t)}}}</td><td><code>org-babel-tangle</code></td></tr>
  <tr><td>{{{kbd(C-c C-v f)}}} or {{{kbd(C-c C-v C-f)}}}</td><td><code>org-babel-tangle-file</code></td></tr>
  <tr><td>{{{kbd(C-c C-v c)}}} or {{{kbd(C-c C-v C-c)}}}</td><td><code>org-babel-check-src-block</code></td></tr>
  <tr><td>{{{kbd(C-c C-v j)}}} or {{{kbd(C-c C-v C-j)}}}</td><td><code>org-babel-insert-header-arg</code></td></tr>
  <tr><td>{{{kbd(C-c C-v l)}}} or {{{kbd(C-c C-v C-l)}}}</td><td><code>org-babel-load-in-session</code></td></tr>
  <tr><td>{{{kbd(C-c C-v i)}}} or {{{kbd(C-c C-v C-i)}}}</td><td><code>org-babel-lob-ingest</code></td></tr>
  <tr><td>{{{kbd(C-c C-v I)}}} or {{{kbd(C-c C-v C-I)}}}</td><td><code>org-babel-view-src-block-info</code></td></tr>
  <tr><td>{{{kbd(C-c C-v z)}}} or {{{kbd(C-c C-v C-z)}}}</td><td><code>org-babel-switch-to-session-with-code</code></td></tr>
  <tr><td>{{{kbd(C-c C-v a)}}} or {{{kbd(C-c C-v C-a)}}}</td><td><code>org-babel-sha1-hash</code></td></tr>
  <tr><td>{{{kbd(C-c C-v h)}}} or {{{kbd(C-c C-v C-h)}}}</td><td><code>org-babel-describe-bindings</code></td></tr>
  <tr><td>{{{kbd(C-c C-v x)}}} or {{{kbd(C-c C-v C-x)}}}</td><td><code>org-babel-do-key-sequence-in-edit-buffer</code></td></tr>
</table>
<h2><span class="heading-number heading-number-2">14.12</span> Batch execution</h2>{{{cindex(code block&#92;\, batch execution)}}}
  {{{cindex(source code&#92;\, batch execution)}}}
<p>It is possible to call functions from the command line.  This shell
  script calls <code>org-babel-tangle</code> on every one of its arguments.</p>
<p>Be sure to adjust the paths to fit your system.</p>
<pre class="example">
#!/bin/sh
# -*- mode: shell-script -*-
#
# tangle files with org-mode
#
DIR=`pwd`
FILES=&quot;&quot;

# wrap each argument in the code required to call tangle on it
for i in $@; do
    FILES=&quot;$FILES \&quot;$i\&quot;&quot;
done

emacs -Q --batch \
--eval &quot;(progn
(add-to-list 'load-path (expand-file-name \&quot;~/src/org/lisp/\&quot;))
(add-to-list 'load-path (expand-file-name \&quot;~/src/org/contrib/lisp/\&quot; t))
(require 'org)(require 'org-exp)(require 'ob)(require 'ob-tangle)
(mapc (lambda (file)
       (find-file (expand-file-name file \&quot;$DIR\&quot;))
       (org-babel-tangle)
       (kill-buffer)) '($FILES)))&quot; 2&gt;&amp;1 |grep tangled
</pre>
<h1><span class="heading-number heading-number-1">15</span> Miscellaneous</h1>
<h2><span class="heading-number heading-number-2">15.1</span> Completion</h2>{{{cindex(completion&#92;\, of @TeX{} symbols)}}}
  {{{cindex(completion&#92;\, of TODO keywords)}}}
  {{{cindex(completion&#92;\, of dictionary words)}}}
  {{{cindex(completion&#92;\, of option keywords)}}}
  {{{cindex(completion&#92;\, of tags)}}}
  {{{cindex(completion&#92;\, of property keys)}}}
  {{{cindex(completion&#92;\, of link abbreviations)}}}
  {{{cindex(@TeX{} symbol completion)}}}
  {{{cindex(TODO keywords completion)}}}
  {{{cindex(dictionary word completion)}}}
  {{{cindex(option keyword completion)}}}
  {{{cindex(tag completion)}}}
  {{{cindex(link abbreviations&#92;\, completion of)}}}
<p>Emacs would not be Emacs without completion, and Org mode uses it
  whenever it makes sense. If you prefer an iswitchb- or ido-like
  interface for some of the completion prompts, you can specify your
  preference by setting at most one of the variables
  <code>org-completion-use-iswitchb</code> or <code>org-completion-use-ido</code>.</p>
<p>Org supports in-buffer completion. This type of completion does not
  make use of the minibuffer. You simply type a few letters into the
  buffer and use the {{{key(TAB)}}} key to complete text right there.</p>
<dl>
  <dt>{{{kbdkey(M-,TAB)}}}</dt><dd>
    {{{kindex(M-@key{TAB})}}}
    <p>Complete word at point.</p>
    <dl>
      <dt>At the beginning of a headline</dt><dd>
        <p>Complete TODO keywords.</p>
      </dd>
      <dt>After {{{kbd(XXX)}}}</dt><dd>
        <p>Complete TeX symbols supported by the exporter.</p>
      </dd>
      <dt>After {{{samp(*)}}}</dt><dd>
        <p>Complete headlines in the current buffer so that they can be used in
          search links like:</p>
        <pre class="example">
[[*find this headline]]
        </pre>
      </dd>
      <dt>After {{{samp(:)}}} in a headline</dt><dd>
        <p>Complete tags. The list of tags is taken from the variable
          <code>org-tag-alist</code> (possibly set through the {{{samp(#+TAGS)}}} in-buffer
          option, see <a href="Setting tags">Setting tags</a>), or it is created dynamically from all tags
          used in the current buffer.</p>
      </dd>
      <dt>After {{{samp(:)}}} and not in a headline</dt><dd>
        <p>Complete property keys. The list of keys is constructed dynamically
          from all keys used in the current buffer.</p>
      </dd>
      <dt>After {{{samp([)}}}</dt><dd>
        <p>Complete link abbreviations (see <a href="Link abbreviations">Link abbreviations</a>).</p>
      </dd>
      <dt>After {{{samp(#+)}}}</dt><dd>
        <p>Complete the special keywords like {{{samp(TYP_TODO)}}} or
          {{{samp(OPTIONS)}}} which set file-specific options for Org mode. When
          the option keyword is already complete, pressing {{{kbdkey(M-,TAB)}}}
          again will insert example settings for this keyword.</p>
      </dd>
      <dt>In the line after {{{samp(#+STARTUP: )}}}</dt><dd>
        <p>Complete startup keywords, i.e., valid keys for this line.</p>
      </dd>
      <dt>Elsewhere</dt><dd>
        <p>Complete dictionary words using Ispell.</p>
      </dd>
    </dl>
  </dd>
</dl>
<h2><span class="heading-number heading-number-2">15.2</span> Easy templates</h2>{{{cindex(template insertion)}}}
  {{{cindex(insertion&#92;\, of templates)}}}
<p>Org mode supports insertion of empty structural elements (like
  <code>#+BEGIN_SRC</code> and <code>#+END_SRC</code> pairs) with just a few key strokes. This
  is achieved through a native template expansion mechanism. Note that
  Emacs has several other template mechanisms which could be used in a
  similar way, for example {{{file(yasnippet)}}}.</p>
<p>To insert a structural element, type a {{{kbd(&lt;)}}}, followed by a
  template selector and {{{kbdkey(,TAB)}}}. Completion takes effect only
  when the above keystrokes are typed on a line by itself.</p>
<p>The following template selectors are currently supported:
  {{{kindex(s)}}}
  {{{kindex(e)}}}
  {{{kindex(q)}}}
  {{{kindex(v)}}}
  {{{kindex(c)}}}
  {{{kindex(l)}}}
  {{{kindex(L)}}}
  {{{kindex(h)}}}
  {{{kindex(H)}}}
  {{{kindex(a)}}}
  {{{kindex(A)}}}
  {{{kindex(i)}}}
  {{{kindex(I)}}}</p>
<table>
  <tr><th>Selector</th><th>Template</th></tr>
  <tr><td>{{{kbd(a)}}}</td><td><code>#+BEGIN_ASCII</code> &#8230;~ #+END_ASCII~</td></tr>
  <tr><td>{{{kbd(A)}}}</td><td><code>#+ASCII:</code></td></tr>
  <tr><td>{{{kbd(c)}}}</td><td><code>#+BEGIN_CENTER</code> &#8230; <code>#+END_CENTER</code></td></tr>
  <tr><td>{{{kbd(e)}}}</td><td><code>#+BEGIN_EXAMPLE</code> &#8230; <code>#+END_EXAMPLE</code></td></tr>
  <tr><td>{{{kbd(h)}}}</td><td><code>#+BEGIN_HTML</code> &#8230; <code>#+END_HTML</code></td></tr>
  <tr><td>{{{kbd(H)}}}</td><td><code>#+HTML:</code></td></tr>
  <tr><td>{{{kbd(i)}}}</td><td><code>#+INDEX:</code></td></tr>
  <tr><td>{{{kbd(I)}}}</td><td><code>#+INCLUDE:</code></td></tr>
  <tr><td>{{{kbd(l)}}}</td><td><code>#+BEGIN_LaTeX</code> &#8230; <code>#+END_LaTeX</code></td></tr>
  <tr><td>{{{kbd(L)}}}</td><td><code>#+LaTeX:</code></td></tr>
  <tr><td>{{{kbd(q)}}}</td><td><code>#+BEGIN_QUOTE</code> &#8230; <code>#+END_QUOTE</code></td></tr>
  <tr><td>{{{kbd(s)}}}</td><td><code>#+BEGIN_SRC</code> &#8230; <code>#+END_SRC</code></td></tr>
  <tr><td>{{{kbd(v)}}}</td><td><code>#+BEGIN_VERSE</code> &#8230; <code>#+END_VERSE</code></td></tr>
</table>
<p>For example, on an empty line, typing &#8220;&lt;e&#8221; and then pressing TAB, will expand
  into a complete EXAMPLE template.</p>
<p>You can install additional templates by customizing the variable
  <code>org-structure-template-alist</code>.  See the docstring of the variable for
  additional details.</p>
<h2><span class="heading-number heading-number-2">15.3</span> Speed keys</h2>{{{cindex(speed keys)}}}
  {{{vindex(org-use-speed-commands)}}}
  {{{vindex(org-speed-commands-user)}}}
<p>Single keys can be made to execute commands when the cursor is at the
  beginning of a headline, i.e., before the first star. Configure the
  variable <code>org-use-speed-commands</code> to activate this feature. There is a
  pre-defined list of commands, and you can add more such commands using
  the variable <code>org-speed-commands-user</code>. Speed keys do not only speed
  up navigation and other commands, but they also provide an alternative
  way to execute commands bound to keys that are not or not easily
  available on a TTY, or on a small mobile device with a limited
  keyboard.</p>
<p>To see which commands are available, activate the feature and press
  {{{kbd(?)}}} with the cursor at the beginning of a headline.</p>
<h2><span class="heading-number heading-number-2">15.4</span> Code evaluation security</h2>
<p>Org provides tools to work with the code snippets, including
  evaluating them.</p>
<p>Running code on your machine always comes with a security risk. Badly
  written or malicious code can be executed on purpose or by accident.
  Org has default settings that will only evaluate source code if you
  give explicit permission to do so, and as a casual user of these
  features you should leave these precautions intact.</p>
<p>For people who regularly work with source code, the confirmation
  prompts can become annoying, and you might want to turn them off. This
  can be done, but you must be aware of the risks that are involved.</p>
<p>Code evaluation can happen under the following circumstances:</p>
<dl>
  <dt>Source code blocks</dt><dd>
    <p>Source code blocks can be evaluated during export, or when pressing
      {{{kbd(C-c C-c)}}} in the block. The most important thing to realize
      here is that Org mode files which contain code snippets are, in a
      certain sense, like executable files. So you should accept them and
      load them into Emacs only from trusted sources&#8212;just like you would
      do with a program you install on your computer.</p>
    <p>Make sure you know what you are doing before customizing the variables
      that take off the default security brakes.</p>
    <dl>
      <dt><code>org-confirm-babel-evaluate</code></dt><dd>
        <p>When <code>t</code> (the default), the user is asked before every code block
          evaluation. When <code>nil</code>, the user is not asked. When set to a function,
          it is called with two arguments (language and body of the code block)
          and should return <code>t</code> to ask and <code>nil</code> not to ask.</p>
      </dd>
    </dl>
    <p>For example, here is how to execute &#8220;ditaa&#8221; code (which is considered
      safe) without asking:</p>
    <pre class="src src-emacs-lisp">
(defun my-org-confirm-babel-evaluate (lang body)
  (not (string= lang &quot;ditaa&quot;)))  ; don't ask for ditaa
(setq org-confirm-babel-evaluate 'my-org-confirm-babel-evaluate)
    </pre>
  </dd>
  <dt>Following <code>shell</code> and <code>elisp</code> links</dt><dd>
    <p>Org has two link types that can directly evaluate code (see @&lt;a href=&#8221;External
      links&#8221;&gt;External
      links</a>). These links can be problematic because the code to be
      evaluated is not visible.</p>
    <dl>
      <dt><code>org-confirm-shell-link-function</code></dt><dd>
        <p>Function to queries user about shell link execution.</p>
      </dd>
      <dt><code>org-confirm-elisp-link-function</code></dt><dd>
        <p>Function to query user for Emacs Lisp link execution.</p>
      </dd>
    </dl>
  </dd>
  <dt>Formulas in tables</dt><dd>
    <p>Formulas in tables (see <a href="The spreadsheet">The spreadsheet</a>) are code that is evaluated
      either by the <i>calc</i> interpreter, or by the <i>Emacs Lisp</i> interpreter.</p>
  </dd>
</dl>
<h2><span class="heading-number heading-number-2">15.5</span> Customization</h2>{{{cindex(customization)}}}
  {{{cindex(options&#92;\, for customization)}}}
  {{{cindex(variables&#92;\, for customization)}}}
<p>There are more than 500 variables that can be used to customize Org.
  For the sake of compactness of the manual, I am not describing the
  variables here. A structured overview of customization variables is
  available with {{{kbd(M-x org-customize)}}}. Or select <code>Browse Org
  Group</code> from the <code>Org-&gt;Customization</code> menu. Many settings can also be
  activated on a per-file basis, by putting special lines into the
  buffer (see <a href="In-buffer settings">In-buffer settings</a>).</p>
<h2><span class="heading-number heading-number-2">15.6</span> In-buffer settings</h2>{{{cindex(in-buffer settings)}}}
  {{{cindex(special keywords)}}}
<p>Org mode uses special lines in the buffer to define settings on a
  per-file basis. These lines start with a {{{samp(#+)}}} followed by a
  keyword, a colon, and then individual words defining a setting.
  Several setting words can be in the same line, but you can also have
  multiple lines for the keyword. While these settings are described
  throughout the manual, here is a summary. After changing any of those
  lines in the buffer, press {{{kbd(C-c C-c)}}} with the cursor still in
  the line to activate the changes immediately. Otherwise they become
  effective only when the file is visited again in a new Emacs session.</p>
<p>{{{vindex(org-archive-location)}}}</p>
<dl>
  <dt>{{{kbd(#+ARCHIVE: %s_done)}}}</dt><dd>
    <p>This line sets the archive location for the agenda file. It applies to
      all subsequent lines, until the next {{{samp(#+ARCHIVE)}}} line or the
      end of the file. The first such line also applies to any entries
      before it. The corresponding variable is <code>org-archive-location</code>.</p>
  </dd>
  <dt>{{{kbd(#+CATEGORY:)}}}</dt><dd>
    <p>This line sets the category for the agenda file. The category applies
      to all subsequent lines, until the next {{{samp(#+CATEGORY)}}} line or
      the end of the file. The first such line also applies to any entries
      before it.</p>
  </dd>
  <dt>{{{kbd(#+COLUMNS: %25ITEM &#8230;)}}}</dt><dd>
    {{{cindex(property&#92;\, COLUMNS)}}}
    <p>Set the default format for columns view. This format applies when
      columns view is invoked in locations where no <code>COLUMNS</code> property
      applies.</p>
  </dd>
  <dt>{{{kbd(#+CONSTANTS: name1=value1 &#8230;)}}}</dt><dd>
    {{{vindex(org-table-formula-constants)}}}
    {{{vindex(org-table-formula)}}}
    <p>Set file-local values for constants to be used in table formulas. This
      line sets the local variable <code>org-table-formula-constants-local</code>. The
      global version of this variable is <code>org-table-formula-constants</code>.</p>
  </dd>
  <dt>{{{kbd(#+FILETAGS: :tag1:tag2:tag3:)}}}</dt><dd>
    <p>Set tags that can be inherited by any entry in the file, including the
      top-level entries.</p>
  </dd>
  <dt>{{{kbd(#+DRAWERS: NAME1 &#8230;)}}}</dt><dd>
    {{{vindex(org-drawers)}}}
    <p>Set the file-local set of additional drawers. The corresponding global
      variable is <code>org-drawers</code>.</p>
  </dd>
  <dt>{{{kbd(#+LINK:  linkword replace)}}}</dt><dd>
    {{{vindex(org-link-abbrev-alist)}}}
    <p>These lines (several are allowed) specify link abbreviations. See
      <a href="Link abbreviations">Link abbreviations</a>. The corresponding variable is <code>org-link-abbrev-alist</code>.</p>
  </dd>
  <dt>{{{kbd(#+PRIORITIES: highest lowest default)}}}</dt><dd>
    {{{vindex(org-highest-priority)}}}
    {{{vindex(org-lowest-priority)}}}
    {{{vindex(org-default-priority)}}}
    <p>This line sets the limits and the default for the priorities. All
      three must be either letters A-Z or numbers 0-9. The highest priority
      must have a lower ASCII number than the lowest priority.</p>
  </dd>
  <dt>{{{kbd(#+PROPERTY: Property_Name Value)}}}</dt><dd>
    <p>This line sets a default inheritance value for entries in the current
      buffer, most useful for specifying the allowed values of a property.</p>
  </dd>
  <dt>{{{kbd(#+SETUPFILE: file)}}}</dt><dd>
    {{{cindex(#+SETUPFILE)}}}
    <p>This line defines a file that holds more in-buffer setup. Normally
      this is entirely ignored. Only when the buffer is parsed for
      option-setting lines (i.e., when starting Org mode for a file, when
      pressing {{{kbd(C-c C-c)}}} in a settings line, or when exporting),
      then the contents of this file are parsed as if they had been included
      in the buffer. In particular, the file can be any other Org mode file
      with internal setup. You can visit the file the cursor is in the line
      with {{{kbd(C-c &#8216;)}}}.</p>
  </dd>
  <dt>{{{kbd(#+STARTUP:)}}}</dt><dd>
    {{{cindex(#+STARTUP:)}}}
    <p>This line sets options to be used at startup of Org mode, when an
      Org file is being visited.</p>
    <p>The first set of options deals with the initial visibility of the
      outline tree. The corresponding variable for global default settings
      is <code>org-startup-folded</code>, with a default value <code>t</code>, which means
      <code>overview</code>.</p>
    <p>{{{vindex(org-startup-folded)}}}
      {{{cindex(@code{overview}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{content}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{showall}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{showeverything}&#92;\, STARTUP keyword)}}}</p>
    <dl>
      <dt><code>overview</code></dt><dd>top-level headlines only</dd>
      <dt><code>content</code></dt><dd>all headlines</dd>
      <dt><code>showall</code></dt><dd>no folding of any entries</dd>
      <dt><code>showeverything</code></dt><dd>show even drawer contents</dd>
    </dl>
    <p>{{{vindex(org-startup-indented)}}}
      {{{cindex(@code{indent}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{noindent}&#92;\, STARTUP keyword)}}}</p>
    <p>Dynamic virtual indentation is controlled by the variable
      <code>org-startup-indented</code>.<sup><a class="footref" name="fnr.182" href="#fn.182">182</a></sup></p>
    <dl>
      <dt><code>indent</code></dt><dd>start with <code>org-indent-mode</code> turned on</dd>
      <dt><code>noindent</code></dt><dd>start with <code>org-indent-mode</code> turned off</dd>
    </dl>
    <p>{{{vindex(org-startup-align-all-tables)}}}</p>
    <p>Then there are options for aligning tables upon visiting a file.  This
      is useful in files containing narrowed table columns.  The corresponding
      variable is <code>org-startup-align-all-tables</code>, with a default value
      <code>nil</code>.</p>
    <p>{{{cindex(@code{align}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{noalign}&#92;\, STARTUP keyword)}}}</p>
    <dl>
      <dt><code>align</code></dt><dd>align all tables</dd>
      <dt><code>noalign</code></dt><dd>don&#8217;t align tables on startup</dd>
    </dl>
    <p>{{{vindex(org-startup-with-inline-images)}}}</p>
    <p>When visiting a file, inline images can be automatically displayed.
      The corresponding variable is <code>org-startup-with-inline-images</code>, with a
      default value <code>nil</code> to avoid delays when visiting a file.</p>
    <p>{{{cindex(@code{inlineimages}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{noinlineimages}&#92;\, STARTUP keyword)}}}</p>
    <ul>
      <li><code>inlineimages</code>   show inline images</li>
      <li><code>noinlineimages</code> don&#8217;t show inline images on startup</li>
    </ul>
    <p>{{{vindex(org-log-done)}}}
      {{{vindex(org-log-note-clock-out)}}}
      {{{vindex(org-log-repeat)}}}</p>
    <p>Logging the closing and reopening of TODO items and clock intervals
      can be configured using these options (see variables <code>org-log-done</code>,
      <code>org-log-note-clock-out</code>, and <code>org-log-repeat</code>).</p>
    <p>{{{cindex(@code{logdone}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{lognotedone}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{nologdone}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{lognoteclock-out}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{nolognoteclock-out}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{logrepeat}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{lognoterepeat}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{nologrepeat}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{logreschedule}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{lognotereschedule}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{nologreschedule}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{logredeadline}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{lognoteredeadline}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{nologredeadline}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{logrefile}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{lognoterefile}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{nologrefile}&#92;\, STARTUP keyword)}}}</p>
    <dl>
      <dt><code>logdone</code></dt><dd>record a timestamp when an item is marked DONE</dd>
      <dt><code>lognotedone</code></dt><dd>record timestamp and a note when DONE</dd>
      <dt><code>nologdone</code></dt><dd>don&#8217;t record when items are marked DONE</dd>
      <dt><code>logrepeat</code></dt><dd>record a time when reinstating a repeating item</dd>
      <dt><code>lognoterepeat</code></dt><dd>record a note when reinstating a repeating item</dd>
      <dt><code>nologrepeat</code></dt><dd>do not record when reinstating repeating item</dd>
      <dt><code>lognoteclock-out</code></dt><dd>record a note when clocking out</dd>
      <dt><code>nolognoteclock-out</code></dt><dd>don&#8217;t record a note when clocking out</dd>
      <dt><code>logreschedule</code></dt><dd>record a timestamp when scheduling time changes</dd>
      <dt><code>lognotereschedule</code></dt><dd>record a note when scheduling time changes</dd>
      <dt><code>nologreschedule</code></dt><dd>do not record when a scheduling date changes</dd>
      <dt><code>logredeadline</code></dt><dd>record a timestamp when deadline changes</dd>
      <dt><code>lognoteredeadline</code></dt><dd>record a note when deadline changes</dd>
      <dt><code>nologredeadline</code></dt><dd>do not record when a deadline date changes</dd>
      <dt><code>logrefile</code></dt><dd>record a timestamp when refiling</dd>
      <dt><code>lognoterefile</code></dt><dd>record a note when refiling</dd>
      <dt><code>nologrefile</code></dt><dd>do not record when refiling</dd>
    </dl>
    <p>{{{vindex(org-hide-leading-stars)}}}
      {{{vindex(org-odd-levels-only)}}}</p>
    <p>Here are the options for hiding leading stars in outline headings, and
      for indenting outlines. The corresponding variables are
      <code>org-hide-leading-stars</code> and <code>org-odd-levels-only</code>, both with a
      default setting <code>nil</code> (meaning <code>showstars</code> and <code>oddeven</code>).</p>
    <p>{{{cindex(@code{hidestars}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{showstars}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{odd}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{even}&#92;\, STARTUP keyword)}}}</p>
    <dl>
      <dt><code>hidestars</code></dt><dd>make all but one of the stars starting a headline invisible.</dd>
      <dt><code>showstars</code></dt><dd>show all stars starting a headline</dd>
      <dt><code>indent</code></dt><dd>virtual indentation according to outline level</dd>
      <dt><code>noindent</code></dt><dd>no virtual indentation according to outline level</dd>
      <dt><code>odd</code></dt><dd>allow only odd outline levels (1, 3, &#8230;)</dd>
      <dt><code>oddeven</code></dt><dd>allow all outline levels</dd>
    </dl>
    <p>{{{vindex(org-put-time-stamp-overlays)}}}
      {{{vindex(org-time-stamp-overlay-formats)}}}</p>
    <p>To turn on custom format overlays over timestamps (variables
      <code>org-put-time-stamp-overlays</code> and <code>org-time-stamp-overlay-formats</code>),
      use:</p>
    <p>{{{cindex(@code{customtime}&#92;\, STARTUP keyword)}}}</p>
    <dl>
      <dt><code>customtime</code></dt><dd>overlay custom time format</dd>
    </dl>
    <p>{{{vindex(constants-unit-system)}}}</p>
    <p>The following options influence the table spreadsheet (variable
      <code>constants-unit-system</code>).</p>
    <p>{{{cindex(@code{constcgs}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{constSI}&#92;\, STARTUP keyword)}}}</p>
    <dl>
      <dt><code>constcgs</code></dt><dd>{{{file(constants.el)}}} should use the c-g-s unit system</dd>
      <dt><code>constSI</code></dt><dd>{{{file(constants.el)}}} should use the SI unit system</dd>
    </dl>
    <p>{{{vindex(org-footnote-define-inline)}}}
      {{{vindex(org-footnote-auto-label)}}}
      {{{vindex(org-footnote-auto-adjust)}}}</p>
    <p>To influence footnote settings, use the following keywords. The
      corresponding variables are <code>org-footnote-define-inline</code>,
      <code>org-footnote-auto-label</code>, and <code>org-footnote-auto-adjust</code>.</p>
    <p>{{{cindex(@code{fninline}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{nofninline}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{fnlocal}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{fnprompt}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{fnauto}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{fnconfirm}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{fnplain}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{fnadjust}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{nofnadjust}&#92;\, STARTUP keyword)}}}</p>
    <dl>
      <dt><code>fninline</code></dt><dd>define footnotes inline</dd>
      <dt><code>fnnoinline</code></dt><dd>define footnotes in separate section</dd>
      <dt><code>fnlocal</code></dt><dd>define footnotes near first reference, but not inline</dd>
      <dt><code>fnprompt</code></dt><dd>prompt for footnote labels</dd>
      <dt><code>fnauto</code></dt><dd>create <code>[fn:1]</code>-like labels automatically (default)</dd>
      <dt><code>fnconfirm</code></dt><dd>offer automatic label for editing or confirmation</dd>
      <dt><code>fnplain</code></dt><dd>create <code>[1]</code>-like labels automatically</dd>
      <dt><code>fnadjust</code></dt><dd>automatically renumber and sort footnotes</dd>
      <dt><code>nofnadjust</code></dt><dd>do not renumber and sort automatically</dd>
    </dl>
    <p>{{{cindex(org-hide-block-startup)}}}</p>
    <p>To hide blocks on startup, use these keywords. The corresponding
      variable is <code>org-hide-block-startup</code>.</p>
    <p>{{{cindex(@code{hideblocks}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{nohideblocks}&#92;\, STARTUP keyword)}}}</p>
    <dl>
      <dt><code>hideblocks</code></dt><dd>Hide all begin/end blocks on startup</dd>
      <dt><code>nohideblocks</code></dt><dd>Do not hide blocks on startup</dd>
    </dl>
    <p>{{{cindex(org-pretty-entities)}}}</p>
    <p>The display of entities as UTF-8 characters is governed by the
      variable <code>org-pretty-entities</code> and the keywords</p>
    <p>{{{cindex(@code{entitiespretty}&#92;\, STARTUP keyword)}}}
      {{{cindex(@code{entitiesplain}&#92;\, STARTUP keyword)}}}</p>
    <dl>
      <dt><code>entitiespretty</code></dt><dd>Show entities as UTF-8 characters where possible</dd>
      <dt><code>entitiesplain</code></dt><dd>Leave entities plain</dd>
    </dl>
  </dd>
  <dt>{{{kbd(#+TAGS:  TAG1(c1) TAG2(c2))}}}</dt><dd>
    {{{vindex(org-tag-alist)}}}
    <p>These lines (several such lines are allowed) specify the valid tags in
      this file, and (potentially) the corresponding <i>fast tag selection</i>
      keys. The corresponding variable is <code>org-tag-alist</code>.</p>
  </dd>
  <dt>{{{kbd(#+TBLFM:)}}}</dt><dd>
    <p>This line contains the formulas for the table directly above the line.</p>
  </dd>
</dl>
<ul>
  <li>{{{kbd(#+TITLE:)}}}, {{{kbd(#+AUTHOR:)}}}, {{{kbd(#+EMAIL:)}}}, {{{kbd(#+LANGUAGE:)}}}, {{{kbd(#+TEXT:)}}}, {{{kbd(#+DATE:)}}}, {{{kbd(#+OPTIONS:)}}}, {{{kbd(#+BIND:)}}}, {{{kbd(#+XSLT:)}}}, {{{kbd(#+DESCRIPTION:)}}}, {{{kbd(#+KEYWORDS:)}}}, {{{kbd(#+LaTeX_HEADER:)}}}, {{{kbd(#+STYLE:)}}}, {{{kbd(#+LINK_UP:)}}}, {{{kbd(#+LINK_HOME:)}}}, {{{kbd(#+EXPORT_SELECT_TAGS:)}}}, {{{kbd(#+EXPORT_EXCLUDE_TAGS:)}}}
    <p>These lines provide settings for exporting files.  For more details see
      <a href="Export options">Export options</a>.</p>
  </li>
</ul>
<dl>
  <dt>{{{kbd(#+TODO:)}}}, {{{kbd(#+SEQ_TODO:)}}}, {{{kbd(#+TYP_TODO:)}}}</dt><dd>
    {{{vindex(org-todo-keywords)}}}
    <p>These lines set the TODO keywords and their interpretation in the
      current file. The corresponding variable is <code>org-todo-keywords</code>.</p>
  </dd>
</dl>
<h2><span class="heading-number heading-number-2">15.7</span> The very busy C-c C-c key</h2>{{{kindex(C-c C-c)}}}
  {{{cindex(C-c C-c&#92;\, overview)}}}
<p>The key {{{kbd(C-c C-c)}}} has many purposes in Org, which are all
  mentioned scattered throughout this manual.  One specific function of
  this key is to add <i>tags</i> to a headline (see <a href="Tags">Tags</a>).  In many
  other circumstances it means something like &#8220;Hey Org, look
  here and update according to what you see here.&#8221;  Here is a summary of
  what this means in different contexts.</p>
<ul>
  <li>If there are highlights in the buffer from the creation of a sparse
    tree, or from clock display, remove these highlights.</li>
  <li>If the cursor is in one of the special <code>#+KEYWORD</code> lines, this
    triggers scanning the buffer for these lines and updating the
    information.</li>
  <li>If the cursor is inside a table, realign the table. This command
    works even if the automatic table editor has been turned off.</li>
  <li>If the cursor is on a <code>#+TBLFM</code> line, re-apply the formulas to the
    entire table.</li>
  <li>If the current buffer is a capture buffer, close the note and file
    it. With a prefix argument, file it, without further interaction, to
    the default location.</li>
  <li>If the cursor is on a <code>&lt;&lt;&lt;target&gt;&gt;&gt;</code>, update radio targets and
    corresponding links in this buffer.</li>
  <li>If the cursor is in a property line or at the start or end of a
    property drawer, offer property commands.</li>
  <li>If the cursor is at a footnote reference, go to the corresponding
    definition, and vice versa.</li>
  <li>If the cursor is on a statistics cookie, update it.</li>
  <li>If the cursor is in a plain list item with a checkbox, toggle the
    status of the checkbox.</li>
  <li>If the cursor is on a numbered item in a plain list, renumber the
    ordered list.</li>
  <li>If the cursor is on the <code>#+BEGIN</code> line of a dynamic block, the block
    is updated.</li>
  <li>If the cursor is at a timestamp, fix the day name in the timestamp.</li>
</ul>
<h2><span class="heading-number heading-number-2">15.8</span> Clean view</h2>{{{cindex(hiding leading stars)}}}
  {{{cindex(dynamic indentation)}}}
  {{{cindex(odd-levels-only outlines)}}}
  {{{cindex(clean outline view)}}}
<p>Some people find it noisy and distracting that the Org headlines start
  with a potentially large number of stars, and that text below the
  headlines is not indented. While this is no problem when writing a
  <i>book-like</i> document where the outline headings are really section
  headings, in a more <i>list-oriented</i> outline, indented structure is a
  lot cleaner:</p>
<pre class="example">
,* Top level headline             |    * Top level headline
,** Second level                  |      * Second level
,*** 3rd level                    |        * 3rd level
some text                        |          some text
,*** 3rd level                    |        * 3rd level
more text                        |          more text
,* Another top level headline     |    * Another top level headline
</pre>
<p>{{{noindent}}} If you are using at least Emacs 23.2 and version 6.29
  of Org, this kind of view can be achieved dynamically at display time
  using <code>org-indent-mode</code>.<sup><a class="footref" name="fnr.183" href="#fn.183">183</a></sup> In this minor mode, all lines are
  prefixed for display with the necessary amount of space.<sup><a class="footref" name="fnr.154" href="#fn.154">154</a></sup> Also
  headlines are prefixed with additional stars, so that the amount of
  indentation shifts by two spaces per level.<sup><a class="footref" name="fnr.155" href="#fn.155">155</a></sup> All headline stars
  but the last one are made invisible using the <code>org-hide</code> face&#8212;see
  below under {{{samp(2.)}}} for more information on how this
  works.<sup><a class="footref" name="fnr.156" href="#fn.156">156</a></sup> You can turn on <code>org-indent-mode</code> for all files by
  customizing the variable <code>org-startup-indented</code>, or you can turn it on
  for individual files using</p>
<pre class="example">
,#+STARTUP: indent
</pre>
<p>If you want a similar effect in an earlier version of Emacs and/or
  Org, or if you want the indentation to be hard space characters so
  that the plain text file looks as similar as possible to the Emacs
  display, Org supports you in the following way:</p>
<dl>
  <dt>Indentation of text below headlines</dt><dd>
    <p>You may indent text below each headline to make the left boundary line up
      with the headline, like</p>
    <pre class="example">
,*** 3rd level
    more text, now indented
    </pre>
    <p>{{{vindex(org-adapt-indentation)}}}</p>
    <p>Org supports this with paragraph filling, line wrapping, and structure
      editing,
      preserving or adapting the indentation as appropriate.<sup><a class="footref" name="fnr.157" href="#fn.157">157</a></sup></p>
  </dd>
  <dt>Hiding leading stars</dt><dd>
    {{{vindex(org-hide-leading-stars)}}}
    <p>You can modify the display in such a way that all leading stars become
      invisible. To do this in a global way, configure the variable
      <code>org-hide-leading-stars</code> or change this on a per-file basis with</p>
    <pre class="example">
,#+STARTUP: hidestars
,#+STARTUP: showstars
    </pre>
    <p>With hidden stars, the tree becomes:</p>
    <pre class="example">
,* Top level headline
, * Second level
,  * 3rd level
  ...
    </pre>
    <p>{{{vindex(org-hide @r{(face)})}}}</p>
    <p>{{{noindent}}} The leading stars are not truly replaced by whitespace,
      they are only fontified with the face <code>org-hide</code> that uses the
      background color as font color. If you are not using either white or
      black background, you may have to customize this face to get the
      wanted effect. Another possibility is to set this font such that the
      extra stars are <i>almost</i> invisible, for example using the color
      <code>grey90</code> on a white background.</p>
  </dd>
  <dt>Odd levels</dt><dd>
    {{{vindex(org-odd-levels-only)}}}
    <p>Things become cleaner still if you skip all the even levels and use
      only odd levels 1, 3, 5, &#8230;, effectively adding two stars to go from
      one outline level to the next.<sup><a class="footref" name="fnr.158" href="#fn.158">158</a></sup> In this way we get the outline
      view shown at the beginning of this section. In order to make the
      structure editing and export commands handle this convention
      correctly, configure the variable <code>org-odd-levels-only</code>, or set this
      on a per-file basis with one of the following lines:</p>
    <pre class="example">
,#+STARTUP: odd
,#+STARTUP: oddeven
    </pre>
    <p>You can convert an Org file from single-star-per-level to the
      double-star-per-level convention with {{{kbdkey(M-x
      org-convert-to-odd-levels , RET)}}} in that file. The reverse
      operation is {{{kbd(M-x org-convert-to-oddeven-levels)}}}.</p>
  </dd>
</dl>
<h2><span class="heading-number heading-number-2">15.9</span> TTY keys</h2>
<p>Because Org contains a large number of commands, by default many of
  Org&#8217;s core commands are bound to keys that are generally not
  accessible on a tty, such as the cursor keys ({{{key(left)}}},
  {{{key(right)}}}, {{{key(up)}}}, {{{key(down)}}}), {{{key(TAB)}}} and
  {{{key(RET)}}}, in particular when used together with modifiers like
  {{{key(Meta)}}} and/or {{{key(Shift)}}}. To access these commands on a
  tty when special keys are unavailable, the following alternative
  bindings can be used. The tty bindings below will likely be more
  cumbersome; you may find for some of the bindings below that a
  customized workaround suits you better. For example, changing a
  timestamp is really only fun with {{{kbdkey(S-,cursor)}}} keys,
  whereas on a tty you would rather use {{{kbd(C-c .)}}} to re-insert
  the timestamp.</p>
<table>
  <tr><th>Default</th><th>Alternative 1</th><th>Speed key</th><th>Alternative 2</th></tr>
  <tr><td>{{{kbdkey(S-,TAB)}}}</td><td>{{{kbdspckey(C-u,TAB)}}}</td><td>{{{kbd(C)}}}</td><td></td></tr>
  <tr><td>{{{kbdkey(M-,left)}}}</td><td>{{{kbd(C-c C-x l)}}}</td><td>{{{kbd(l)}}}</td><td>{{{kbdkeys(,Esc,left)}}}</td></tr>
  <tr><td>{{{kbdkey(M-S-,left)}}}</td><td>{{{kbd(C-c C-x L)}}}</td><td>{{{kbd(L)}}}</td><td></td></tr>
  <tr><td>{{{kbdkey(M-,right)}}}</td><td>{{{kbd(C-c C-x r)}}}</td><td>{{{kbd(r)}}}</td><td>{{{kbdkeys(,Esc,right)}}}</td></tr>
  <tr><td>{{{kbdkey(M-S-,right)}}}</td><td>{{{kbd(C-c C-x R)}}}</td><td>{{{kbd(R)}}}</td><td></td></tr>
  <tr><td>{{{kbdkey(M-,up)}}}</td><td>{{{kbd(C-c C-x u)}}}</td><td>{{{kbd( )}}}</td><td>{{{kbdkeys(,Esc,up)}}}</td></tr>
  <tr><td>{{{kbdkey(M-S-,up)}}}</td><td>{{{kbd(C-c C-x U)}}}</td><td>{{{kbd(U)}}}</td><td></td></tr>
  <tr><td>{{{kbdkey(M-,down)}}}</td><td>{{{kbd(C-c C-x d)}}}</td><td>{{{kbd( )}}}</td><td>{{{kbdkeys(,Esc,down)}}}</td></tr>
  <tr><td>{{{kbdkey(M-S-,down)}}}</td><td>{{{kbd(C-c C-x D)}}}</td><td>{{{kbd(D)}}}</td><td></td></tr>
  <tr><td>{{{kbdkey(S-,RET)}}}</td><td>{{{kbd(C-c C-x c)}}}</td><td>{{{kbd( )}}}</td><td></td></tr>
  <tr><td>{{{kbdkey(M-,RET)}}}</td><td>{{{kbd(C-c C-x m)}}}</td><td>{{{kbd( )}}}</td><td>{{{kbdkeys(,Esc,RET)}}}</td></tr>
  <tr><td>{{{kbdkey(M-S-,RET)}}}</td><td>{{{kbd(C-c C-x M)}}}</td><td>{{{kbd( )}}}</td><td></td></tr>
  <tr><td>{{{kbdkey(S-,left)}}}</td><td>{{{kbdspckey(C-c,left)}}}</td><td>{{{kbd( )}}}</td><td></td></tr>
  <tr><td>{{{kbdkey(S-,right)}}}</td><td>{{{kbdspckey(C-c,right)}}}</td><td>{{{kbd( )}}}</td><td></td></tr>
  <tr><td>{{{kbdkey(S-,up)}}}</td><td>{{{kbdspckey(C-c,up)}}}</td><td>{{{kbd( )}}}</td><td></td></tr>
  <tr><td>{{{kbdkey(S-,down)}}}</td><td>{{{kbdspckey(C-c,down)}}}</td><td>{{{kbd( )}}}</td><td></td></tr>
  <tr><td>{{{kbdkey(C-S-,left)}}}</td><td>{{{kbdscpkey(C-c C-x,left)}}}</td><td>{{{kbd( )}}}</td><td></td></tr>
  <tr><td>{{{kbdkey(C-S-,right)}}}</td><td>{{{kbdspckey(C-c C-x,right)}}}</td><td>{{{kbd( )}}}</td><td></td></tr>
</table>
<h2><span class="heading-number heading-number-2">15.10</span> Interaction</h2>{{{cindex(packages&#92;\, interaction with other)}}}
  Org lives in the world of GNU Emacs and interacts in various ways
  with other code out there.
<h3><span class="heading-number heading-number-3">15.10.1</span> Cooperation</h3>
<dl>
  <dt>{{{file(calc.el)}}} by Dave Gillespie</dt><dd>
    {{{cindex(@file{calc.el})}}}
    {{{cindex(Gillespie&#92;\, Dave)}}}
    <p>Org uses the Calc package for implementing spreadsheet functionality
      in its tables (see <a href="The spreadsheet">The spreadsheet</a>). Org checks for the availability
      of Calc by looking for the function <code>calc-eval</code> which will have been
      autoloaded during setup if Calc has been installed properly. As of
      Emacs 22, Calc is part of the Emacs distribution. Another possibility
      for interaction between the two packages is using Calc for embedded
      calculations. See <a href="info:calc:Embedded Mode">GNU Emacs Calc Manual</a>.</p>
  </dd>
  <dt>{{{file(constants.el)}}} by Carsten Dominik</dt><dd>
    {{{cindex(@file{constants.el})}}}
    {{{cindex(Dominik&#92;\, Carsten)}}}
    {{{vindex(org-table-formula-constants)}}}
    <p>In a table formula (see <a href="The spreadsheet">The spreadsheet</a>), it is possible to use names
      for natural constants or units. Instead of defining your own constants
      in the variable <code>org-table-formula-constants</code>, install the
      {{{file(constants)}}} package which defines a large number of
      constants and units, and lets you use unit prefixes like {{{samp(M)}}}
      for {{{samp(Mega)}}}, etc. You will need version 2.0 of this package,
      available at <a href="http://www.astro.uva.nl/~dominik/Tools">http://www.astro.uva.nl/~dominik/Tools</a>. Org checks for
      the function <code>constants-get</code>, which has to be autoloaded in your
      setup. See the installation instructions in the file
      {{{file(constants.el)}}}.</p>
  </dd>
  <dt>{{{file(cdlatex.el)}}} by Carsten Dominik</dt><dd>
    {{{cindex(@file{cdlatex.el})}}}
    {{{cindex(Dominik&#92;\, Carsten)}}}
    <p>Org mode can make use of the CDLaTeX package to efficiently enter
      LaTeX fragments into Org files. See <a href="CDLaTeX mode">CDLaTeX mode</a>.</p>
  </dd>
  <dt>{{{file(imenu.el)}}} by Ake Stenhoff and Lars Lindberg</dt><dd>
    {{{cindex(@file{imenu.el})}}}
    {{{cindex(Stenhoff&#92;\, Ake)}}}
    {{{cindex(Lindberg&#92;\, Lars)}}}
    <p>Imenu allows menu access to an index of items in a file.  Org mode
      supports Imenu&#8212;all you need to do to get the index is the following:</p>
    <pre class="src src-emacs-lisp">
(add-hook 'org-mode-hook
          (lambda () (imenu-add-to-menubar &quot;Imenu&quot;)))
    </pre>
    <p>{{{vindex(org-imenu-depth)}}}</p>
    <p>By default the index is two levels deep&#8212;you can modify the depth
      using the option <code>org-imenu-depth</code>.</p>
  </dd>
  <dt>{{{file(remember.el)}}} by John Wiegley</dt><dd>
    {{{cindex(@file{remember.el})}}}
    {{{cindex(Wiegley&#92;\, John)}}}
    <p>Org used to use this package for capture, but no longer does.</p>
  </dd>
  <dt>{{{file(speedbar.el)}}} by Eric M. Ludlam</dt><dd>
    {{{cindex(@file{speedbar.el})}}}
    {{{cindex(Ludlam&#92;\, Eric M.)}}}
    <p>Speedbar is a package that creates a special frame displaying files and
      index items in files.  Org mode supports Speedbar and allows you to
      drill into Org files directly from the Speedbar.  It also allows you to
      restrict the scope of agenda commands to a file or a subtree by using
      the command {{{kbd(&lt;)}}} in the Speedbar frame.</p>
  </dd>
  <dt>{{{file(table.el)}}} by Takaaki Ota</dt><dd>
    {{{kindex(C-c C-c)}}}
    {{{cindex(table editor&#92;\, @file{table.el})}}}
    {{{cindex(@file{table.el})}}}
    {{{cindex(Ota&#92;\, Takaaki)}}}
    <p>Complex ASCII tables with automatic line wrapping, column- and row-spanning,
      and alignment can be created using the Emacs table package by Takaaki Ota
      (<a href="http://sourceforge.net/projects/table">http://sourceforge.net/projects/table</a>, and also part of Emacs 22).
      Org mode will recognize these tables and export them properly.  Because of
      interference with other Org mode functionality, you unfortunately cannot edit
      these tables directly in the buffer.  Instead, you need to use the command
      {{{kbd(C-c &#8216;)}}} to edit them, similar to source code snippets.</p>
    <dl>
      <dt>{{{kbd(C-c &#8216;)}}}, <code>org-edit-special</code></dt><dd>
        {{{kindex(C-c &#8216;)}}}
        <p>Edit a {{{file(table.el)}}} table. Works when the cursor is in a
          table.el table.</p>
      </dd>
      <dt>{{{kbd(C-c XXX)}}}, <code>org-table-create-with-table.el</code></dt><dd>
        {{{kindex(C-c ~)}}}
        <p>Insert a {{{file(table.el)}}} table. If there is already a table at
          point, this command converts it between the {{{file(table.el)}}}
          format and the Org mode format. See the documentation string of the
          command <code>org-convert-table</code> for the restrictions under which this is
          possible.</p>
      </dd>
    </dl>
    <p>{{{file(table.el)}}} is part of Emacs since Emacs 22.</p>
  </dd>
  <dt>{{{file(footnote.el)}}} by Steven L. Baur</dt><dd>
    {{{cindex(@file{footnote.el})}}}
    {{{cindex(Baur&#92;\, Steven L.)}}}
    <p>Org mode recognizes numerical footnotes as provided by this package.
      However, Org mode also has its own footnote support (see <a href="Creating footnotes">Creating footnotes</a>),
      which makes using {{{file(footnote.el)}}} unnecessary.</p>
  </dd>
</dl>
<h3><span class="heading-number heading-number-3">15.10.2</span> Conflicts</h3>
<p>{{{cindex(@code{shift-selection-mode})}}}
  {{{vindex(org-support-shift-select)}}}</p>
<p>In Emacs 23, <code>shift-selection-mode</code> is on by default, meaning that
  cursor motions combined with the shift key should start or enlarge
  regions. This conflicts with the use of {{{kbdkey(S-,cursor)}}}
  commands in Org to change timestamps, TODO keywords, priorities, and
  item bullet types if the cursor is at such a location. By default,
  {{{kbdkey(S-,cursor)}}} commands outside special contexts don&#8217;t do
  anything, but you can customize the variable
  <code>org-support-shift-select</code>. Org mode then tries to accommodate shift
  selection by using it outside of the special contexts where
  special commands apply, and by extending an existing active
  region even if the cursor moves across a special context.</p>
<dl>
  <dt>{{{file(CUA.el)}}} by Kim. F. Storm</dt><dd>
    {{{cindex(@file{CUA.el})}}}
    {{{cindex(Storm&#92;\, Kim. F.)}}}
    {{{vindex(org-replace-disputed-keys)}}}
    <p>Key bindings in Org conflict with the {{{kbdkey(S-,&lt;cursor&gt;)}}} keys
      used by CUA mode (as well as <code>pc-select-mode</code> and <code>s-region-mode</code>) to
      select and extend the region. In fact, Emacs 23 has this built-in in
      the form of <code>shift-selection-mode</code>, see previous paragraph. If you are
      using Emacs 23, you probably don&#8217;t want to use another package for
      this purpose. However, if you prefer to leave these keys to a
      different package while working in Org mode, configure the variable
      <code>org-replace-disputed-keys</code>. When set, Org will move the following key
      bindings in Org files, and in the agenda buffer (but not during date
      selection).</p>
    <table>
      <tr><td>S-UP      {{{result}}}  M-p</td><td>S-DOWN     {{{result}}}  M-n</td></tr>
      <tr><td>S-LEFT    {{{result}}}  M&#8211;</td><td>S-RIGHT    {{{result}}}  M-+</td></tr>
      <tr><td>C-S-LEFT  {{{result}}}  M-S&#8211;</td><td>C-S-RIGHT  {{{result}}}  M-S-+</td></tr>
    </table>
    <p>{{{vindex(org-disputed-keys)}}}</p>
    <p>Yes, these are unfortunately more difficult to remember. If you want
      to have other replacement keys, look at the variable
      <code>org-disputed-keys</code>.</p>
  </dd>
  <dt>{{{file(filladapt.el)}}} by Kyle Jones</dt><dd>
    {{{cindex(@file{filladapt.el})}}}
    {{{cindex(Jones&#92;\, Kyle)}}}
    <p>Org mode tries to do the right thing when filling paragraphs, list
      items and other elements. Many users reported they had problems using
      both {{{file(filladapt.el)}}} and Org mode, so a safe thing to do is
      to disable it like this:</p>
    <pre class="src src-emacs-lisp">
(add-hook 'org-mode-hook 'turn-off-filladapt-mode)
    </pre>
  </dd>
  <dt>{{{file(yasnippet.el)}}}</dt><dd>
    {{{cindex(@file{yasnippet.el})}}}
    <p>The way Org mode binds the {{{key(TAB)}}} key (binding to <code>[tab]</code>
      instead of ~&#8221;\t&#8221;~) overrules YASnippet&#8217;s access to this key. The
      following code fixed this problem:</p>
    <pre class="src src-emacs-lisp">
(add-hook 'org-mode-hook
          (lambda ()
            (org-set-local 'yas/trigger-key [tab])
            (define-key yas/keymap [tab] 'yas/next-field-or-maybe-expand)))
    </pre>
    <p>The latest version of yasnippet doesn&#8217;t play well with Org mode.  If the
      above code does not fix the conflict, start by defining the following
      function:</p>
    <pre class="src src-emacs-lisp">
(defun yas/org-very-safe-expand ()
       (let ((yas/fallback-behavior 'return-nil)) (yas/expand)))
    </pre>
    <p>Then, tell Org mode what to do with the new function:</p>
    <pre class="src src-emacs-lisp">
(add-hook 'org-mode-hook
          (lambda ()
              (make-variable-buffer-local 'yas/trigger-key)
              (setq yas/trigger-key [tab])
              (add-to-list 'org-tab-first-hook 'yas/org-very-safe-expand)
              (define-key yas/keymap [tab] 'yas/next-field)))
    </pre>
  </dd>
  <dt>{{{file(windmove.el)}}} by Hovav Shacham</dt><dd>
    {{{cindex(@file{windmove.el})}}}
    {{{cindex(Shacham&#92;\, Hovav)}}}
    <p>This package also uses the {{{kbd(S-&lt;cursor&gt;)}}} keys, so everything
      written in the paragraph above about CUA mode also applies here. If
      you want make the windmove function active in locations where Org mode
      does not have special functionality on {{{kbdkey(S-,cursor)}}}, add
      this to your configuration:</p>
    <pre class="src src-emacs-lisp">
;; Make windmove work in org-mode:
(add-hook 'org-shiftup-final-hook 'windmove-up)
(add-hook 'org-shiftleft-final-hook 'windmove-left)
(add-hook 'org-shiftdown-final-hook 'windmove-down)
(add-hook 'org-shiftright-final-hook 'windmove-right)
    </pre>
  </dd>
  <dt>{{{file(viper.el)}}} by Michael Kifer</dt><dd>
    {{{cindex(@file{viper.el})}}}
    {{{cindex(Kifer&#92;\, Michael)}}}
    {{{kindex(C-c /)}}}
    <p>Viper uses {{{kbd(C-c /)}}} and therefore makes this key not access the
      corresponding Org mode command <code>org-sparse-tree</code>.  You need to find
      another key for this command, or override the key in
      <code>viper-vi-global-user-map</code> with</p>
    <pre class="src src-emacs-lisp">
(define-key viper-vi-global-user-map &quot;C-c /&quot; 'org-sparse-tree)
    </pre>
  </dd>
</dl>
<h2><span class="heading-number heading-number-2">15.11</span> org-crypt</h2>{{{cindex(@file{org-crypt.el})}}}
  {{{cindex(@code{org-decrypt-entry})}}}
<p>Org-crypt will encrypt the text of an entry, but not the headline, or
  properties. Org-crypt uses the Emacs EasyPG library to encrypt and
  decrypt files.</p>
<p>Any text below a headline that has a {{{samp(:crypt:)}}} tag will
  automatically be encrypted when the file is saved. If you want to use
  a different tag just customize the <code>org-crypt-tag-matcher</code> setting.</p>
<p>To use org-crypt it is suggested that you have the following in your
  {{{file(.emacs)}}}:</p>
<pre class="src src-emacs-lisp">
(require 'org-crypt)
(org-crypt-use-before-save-magic)
(setq org-tags-exclude-from-inheritance (quote (&quot;crypt&quot;)))

(setq org-crypt-key nil)
  ;; GPG key to use for encryption
  ;; Either the Key ID or set to nil to use symmetric encryption.

(setq auto-save-default nil)
  ;; Auto-saving does not cooperate with org-crypt.el: so you need
  ;; to turn it off if you plan to use org-crypt.el quite often.
  ;; Otherwise, you'll get an (annoying) message each time you
  ;; start Org.

  ;; To turn it off only locally, you can insert this:
  ;;
  ;; # -*- buffer-auto-save-file-name: nil; -*-
</pre>
<p>Excluding the crypt tag from inheritance prevents already encrypted text
  being encrypted again.</p>
<h1><span class="heading-number heading-number-1">16</span> Hacking</h1>{{{cindex(hacking)}}}
<p>This appendix describes some ways a user can extend the functionality
  of Org.</p>
<h2><span class="heading-number heading-number-2">16.1</span> Hooks</h2>{{{cindex(hooks)}}}
<p>Org has a large number of hook variables that can be used to add
  functionality.  This appendix about hacking is going to illustrate the
  use of some of them.  A complete list of all hooks with documentation is
  maintained by the Worg project and can be found at
  <a href="http://orgmode.org/worg/org-configs/org-hooks.php">http://orgmode.org/worg/org-configs/org-hooks.php</a>.</p>
<h2><span class="heading-number heading-number-2">16.2</span> Add-on packages</h2>{{{cindex(add-on packages)}}}
<p>A large number of add-on packages have been written by various
  authors. These packages are not part of Emacs, but they are
  distributed as contributed packages with the separate release
  available at the Org mode home page at <a href="http://orgmode.org">http://orgmode.org</a>. The
  list of contributed packages, along with documentation about each
  package, is maintained by the Worg project at
  <a href="http://orgmode.org/worg/org-contrib/">http://orgmode.org/worg/org-contrib/</a>.</p>
<h2><span class="heading-number heading-number-2">16.3</span> Adding hyperlink types</h2>{{{cindex(hyperlinks&#92;\, adding new types)}}}
<p>Org has a large number of hyperlink types built-in (see <a href="Hyperlinks">Hyperlinks</a>).
  If you would like to add new link types, Org provides an interface for
  doing so. Let&#8217;s look at an example file, {{{file(org-man.el)}}}, that
  will add support for creating links like:</p>
<pre class="example">
[[man:printf][The printf manual]]
</pre>
<p>to show Unix manual pages inside Emacs:</p>
<pre class="src src-emacs-lisp">
;;; org-man.el - Support for links to manpages in Org

(require 'org)

(org-add-link-type &quot;man&quot; 'org-man-open)
(add-hook 'org-store-link-functions 'org-man-store-link)

(defcustom org-man-command 'man
  &quot;The Emacs command to be used to display a man page.&quot;
  :group 'org-link
  :type '(choice (const man) (const woman)))

(defun org-man-open (path)
  &quot;Visit the manpage on PATH.
PATH should be a topic that can be thrown at the man command.&quot;
  (funcall org-man-command path))

(defun org-man-store-link ()
  &quot;Store a link to a manpage.&quot;
  (when (memq major-mode '(Man-mode woman-mode))
    ;; This is a man page, we do make this link
    (let* ((page (org-man-get-page-name))
           (link (concat &quot;man:&quot; page))
           (description (format &quot;Manpage for %s&quot; page)))
      (org-store-link-props
       :type &quot;man&quot;
       :link link
       :description description))))

(defun org-man-get-page-name ()
  &quot;Extract the page name from the buffer name.&quot;
  ;; This works for both `Man-mode' and `woman-mode'.
  (if (string-match &quot; \\(\\S-+\\)\\*&quot; (buffer-name))
      (match-string 1 (buffer-name))
    (error &quot;Cannot create link to this man page&quot;)))

(provide 'org-man)

;;; org-man.el ends here
</pre>
<p>{{{noindent}}} You would activate this new link type in
  {{{file(.emacs)}}} with:</p>
<pre class="src src-emacs-lisp">
(require 'org-man)
</pre>
<p>{{{noindent}}} Let&#8217;s go through the file and see what it does.
  {{{vindex(org-store-link-functions)}}}</p>
<ol>
  <li>It does <code>(require 'org)</code> to make sure that {{{file(org.el)}}} has
    been loaded.</li>
  <li>The next line calls <code>org-add-link-type</code> to define a new link type
    with prefix {{{samp(man)}}}.  The call also contains the name of a
    function that will be called to follow such a link.</li>
  <li>The next line adds a function to <code>org-store-link-functions</code>, in
    order to allow the command {{{kbd(C-c l)}}} to record a useful link
    in a buffer displaying a man page.</li>
</ol>
<p>The rest of the file defines the necessary variables and functions.
  First there is a customization variable that determines which Emacs
  command should be used to display man pages. There are two options,
  <code>man</code> and <code>woman</code>. Then the function to follow a link is defined. It
  gets the link path as an argument&#8212;in this case the link path is just
  a topic for the manual command. The function calls the value of
  <code>org-man-command</code> to display the man page.</p>
<p>Finally the function <code>org-man-store-link</code> is defined. When you try to
  store a link with {{{kbd(C-c l)}}}, this function will be called to
  try to make a link. The function must first decide if it is supposed
  to create the link for this buffer type; we do this by checking the
  value of the variable <code>major-mode</code>. If not, the function must exit and
  return the value <code>nil</code>. If yes, the link is created by getting the
  manual topic from the buffer name and prefixing it with the string
  {{{samp(man:)}}}. Then it must call the command <code>org-store-link-props</code>
  and set the <code>:type</code> and <code>:link</code> properties. Optionally you can also
  set the <code>:description</code> property to provide a default for the link
  description when the link is later inserted into an Org buffer with
  {{{kbd(C-c C-l)}}}.</p>
<p>When it makes sense for your new link type, you may also define a
  function <code>org-PREFIX-complete-link</code> that implements special (e.g.,
  completion) support for inserting such a link with {{{kbd(C-c C-l)}}}.
  Such a function should not accept any arguments, and return the full
  link with prefix.</p>
<h2><span class="heading-number heading-number-2">16.4</span> Context-sensitive commands</h2>{{{cindex(context-sensitive commands&#92;\, hooks)}}}
  {{{cindex(add-ons&#92;\, context-sensitive commands)}}}
  {{{vindex(org-ctrl-c-ctrl-c-hook)}}}
<p>Org has several commands that act differently depending on context.
  The most important example is the {{{kbd(C-c C-c)}}} (see @&lt;a href=&#8221;The very
  busy C-c C-c key&#8221;&gt;The very
  busy C-c C-c key</a>). Also the {{{kbd(M-cursor)}}} and
  {{{kbd(M-S-cursor)}}} keys have this property.</p>
<p>Add-ons can tap into this functionality by providing a function that
  detects special context for that add-on and executes functionality
  appropriate for the context. Here is an example from Dan Davison&#8217;s
  {{{file(org-R.el)}}} which allows you to evaluate commands based on
  the {{{file(R)}}} programming language.<sup><a class="footref" name="fnr.159" href="#fn.159">159</a></sup> For this package,
  special contexts are lines that start with <code>#+R:</code> or <code>#+RR:</code>.</p>
<pre class="src src-emacs-lisp">
(defun org-R-apply-maybe ()
  &quot;Detect if this is context for org-R and execute R commands.&quot;
  (if (save-excursion
        (beginning-of-line 1)
        (looking-at &quot;#\\+RR?:&quot;))
      (progn (call-interactively 'org-R-apply)
             t) ;; to signal that we took action
    nil)) ;; to signal that we did not

(add-hook 'org-ctrl-c-ctrl-c-hook 'org-R-apply-maybe)
</pre>
<p>The function first checks if the cursor is in such a line. If that is
  the case, <code>org-R-apply</code> is called and the function returns <code>t</code> to
  signal that action was taken, and {{{kbd(C-c C-c)}}} will stop looking
  for other contexts. If the function finds it should do nothing
  locally, it returns <code>nil</code> so that other, similar functions can have a
  try.</p>
<h2><span class="heading-number heading-number-2">16.5</span> Tables in arbitrary syntax</h2>{{{cindex(tables&#92;\, in other modes)}}}
  {{{cindex(lists&#92;\, in other modes)}}}
  {{{cindex(Orgtbl mode)}}}
<p>Since Orgtbl mode can be used as a minor mode in arbitrary buffers, a
  frequent feature request has been to make it work with native tables
  in specific languages, for example LaTeX. However, this is
  extremely hard to do in a general way, would lead to a customization
  nightmare, and would take away much of the simplicity of the Orgtbl
  mode table editor.</p>
<p>This appendix describes a different approach.  We keep the Orgtbl mode
  table in its native format (the source table), and use a custom
  function to <i>translate</i> the table to the correct syntax, and to
  <i>install</i> it in the right location (the target table).  This puts
  the burden of writing conversion functions on the user, but it allows
  for a very flexible system.</p>
<p>Bastien added the ability to do the same with lists, in Orgstruct
  mode. You can use Org&#8217;s facilities to edit and structure lists by
  turning <code>orgstruct-mode</code> on, then locally exporting such lists in
  another format (HTML, LaTeX or Texinfo.)</p>
<h3><span class="heading-number heading-number-3">16.5.1</span> Radio tables</h3>{{{cindex(radio tables)}}}
<p>To define the location of the target table, you first need to create
  two lines that are comments in the current mode, but contain magic
  words for Orgtbl mode to find. Orgtbl mode will insert the translated
  table between these lines, replacing whatever was there before. For
  example:</p>
<pre class="example">
/* BEGIN RECEIVE ORGTBL table_name */
/* END RECEIVE ORGTBL table_name */
</pre>
<p>{{{noindent}}} Just above the source table, we put a special line that
  tells Orgtbl mode how to translate this table and where to install it.
  For example:</p>
<p>{{{cindex(#+ORGTBL)}}}</p>
<pre class="example">
,#+ORGTBL: SEND table_name translation_function arguments ...
</pre>
<p>{{{noindent}}} Here, <code>table_name</code> is the reference name for the table
  that is also used in the receiver lines. <code>translation_function</code> is the
  Lisp function that does the translation. Furthermore, the line can
  contain a list of arguments (alternating key and value) at the end.
  The arguments will be passed as a property list to the translation
  function for interpretation. A few standard parameters are already
  recognized and acted upon before the translation function is called:</p>
<dl>
  <dt><code>:skip N</code></dt><dd>
    <p>Skip the first N lines of the table. Hlines do count as separate lines
      for this parameter!</p>
  </dd>
  <dt><code>:skipcols (n1 n2 ...)</code></dt><dd>
    <p>List of columns that should be skipped. If the table has a column with
      calculation marks, that column is automatically discarded as well.
      Please note that the translator function sees the table <i>after</i> the
      removal of these columns, the function never knows that there have
      been additional columns.</p>
  </dd>
  <dt><code>:no-escape t</code></dt><dd>
    <p>When non-nil, do not escape special characters <code>&amp;%#_^</code> when exporting
      the table. The default value is nil.</p>
  </dd>
</dl>
<p>{{{noindent}}} The one problem remaining is how to keep the source
  table in the buffer without disturbing the normal workings of the
  file, for example during compilation of a C file or processing of a
  LaTeX file. There are a number of different solutions:</p>
<ul>
  <li>The table could be placed in a block comment if that is supported by
    the language.  For example, in C mode you could wrap the table
    between {{{samp(<i>*)}}} and {{{samp(*</i>)}}} lines.</li>
  <li>Sometimes it is possible to put the table after some kind of END
    statement, for example <code>\bye</code> in TeX and <code>\end{document}</code> in
    LaTeX.</li>
  <li>You can just comment the table line-by-line whenever you want to
    process the file, and uncomment it whenever you need to edit the
    table. This only sounds tedious&#8212;the command {{{kbd(M-x
    orgtbl-toggle-comment)}}} makes this comment-toggling very easy, in
    particular if you bind it to a key.</li>
</ul>
<h3><span class="heading-number heading-number-3">16.5.2</span> A LaTeX example</h3>{{{cindex(@LaTeX{}&#92;\, and Orgtbl mode)}}}
<p>The best way to wrap the source table in LaTeX is to use the
  <code>comment</code> environment provided by {{{file(comment.sty)}}}. It has to
  be activated by placing <code>\usepackage{comment}</code> into the document
  header. Orgtbl mode can insert a radio table skeleton with the command
  {{{kbd(M-x orgtbl-insert-radio-table)}}}.<sup><a class="footref" name="fnr.160" href="#fn.160">160</a></sup> You will be prompted
  for a table name, let&#8217;s say we use {{{samp(salesfigures)}}}. You will
  then get the following template:</p>
<p>{{{cindex(#+ORGTBL&#92;\, SEND)}}}</p>
<pre class="example">
% BEGIN RECEIVE ORGTBL salesfigures
% END RECEIVE ORGTBL salesfigures
\begin{comment}
#+ORGTBL: SEND salesfigures orgtbl-to-latex
| | |
\end{comment}
</pre>
<p>{{{vindex(@LaTeX{}-verbatim-environments)}}}</p>
<p>{{{noindent}}} The <code>#+ORGTBL: SEND</code> line tells Orgtbl mode to use the
  function <code>orgtbl-to-latex</code> to convert the table into LaTeX and to
  put it into the receiver location with name <code>salesfigures</code>. You may
  now fill in the table&#8212;feel free to use the spreadsheet features:<sup><a class="footref" name="fnr.161" href="#fn.161">161</a></sup></p>
<pre class="example">
% BEGIN RECEIVE ORGTBL salesfigures
% END RECEIVE ORGTBL salesfigures
\begin{comment}
#+ORGTBL: SEND salesfigures orgtbl-to-latex
| Month | Days | Nr sold | per day |
|-------+------+---------+---------|
| Jan   |   23 |      55 |     2.4 |
| Feb   |   21 |      16 |     0.8 |
| March |   22 |     278 |    12.6 |
#+TBLFM: $4=$3/$2;%.1f
% $ (optional extra dollar to keep font-lock happy, see footnote)
\end{comment}
</pre>
<p>{{{noindent}}} When you are done, press {{{kbd(C-c C-c)}}} in the
  table to get the converted table inserted between the two marker
  lines.</p>
<p>Now let&#8217;s assume you want to make the table header by hand, because
  you want to control how columns are aligned, etc. In this case we make
  sure that the table translator skips the first 2 lines of the source
  table, and tell the command to work as a splice, i.e., to not
  produce header and footer commands of the target table:</p>
<pre class="example">
\begin{tabular}{lrrr}
Month &amp; \multicolumn{1}{c}{Days} &amp; Nr.\ sold &amp; per day\\
% BEGIN RECEIVE ORGTBL salesfigures
% END RECEIVE ORGTBL salesfigures
\end{tabular}
%
\begin{comment}
#+ORGTBL: SEND salesfigures orgtbl-to-latex :splice t :skip 2
| Month | Days | Nr sold | per day |
|-------+------+---------+---------|
| Jan   |   23 |      55 |     2.4 |
| Feb   |   21 |      16 |     0.8 |
| March |   22 |     278 |    12.6 |
#+TBLFM: $4=$3/$2;%.1f
\end{comment}
</pre>
<p>The LaTeX translator function <code>orgtbl-to-latex</code> is already part of
  Orgtbl mode. It uses a <code>tabular</code> environment to typeset the table and
  marks horizontal lines with <code>\hline</code>. Furthermore, it interprets the
  following parameters (see also see <a href="Translator functions">Translator functions</a>):</p>
<dl>
  <dt><code>:splice nil/t</code></dt><dd>
    <p>When set to <code>t</code>, return only table body lines, don&#8217;t wrap them into a
      tabular environment. Default is <code>nil</code>.</p>
  </dd>
  <dt><code>:fmt fmt</code></dt><dd>
    <p>A format to be used to wrap each field, it should contain <code>%s</code> for the
      original field value. For example, to wrap each field value in
      dollars, you could use ~:fmt &#8220;$%s$&#8221;~. This may also be a property list
      with column numbers and formats, for example <code>:fmt (2 &quot;$%s$&quot; 4
      &quot;%s\\%%&quot;)</code>. A function of one argument can be used in place of the
      strings; the function must return a formatted string.</p>
  </dd>
  <dt><code>:efmt efmt</code></dt><dd>
    <p>Use this format to print numbers with exponentials. The format should
      have <code>%s</code> twice for inserting mantissa and exponent, for example:</p>
    <pre class="example">
&quot;%s\\times10^{%s}&quot;
    </pre>
    <p>The default is:</p>
    <pre class="example">
&quot;%s\\,(%s)&quot;
    </pre>
    <p>This may also be a property list with column numbers and formats, for
      example:</p>
    <pre class="example">
:efmt (2 &quot;$%s\\times10^{%s}$&quot; 4 &quot;$%s\\cdot10^{%s}$&quot;)
    </pre>
    <p>After <code>efmt</code> has been applied to a value, <code>fmt</code> will also be applied.
      Similar to <code>fmt</code>, functions of two arguments can be supplied instead
      of strings.</p>
  </dd>
</dl>
<h3><span class="heading-number heading-number-3">16.5.3</span> Translator functions</h3>{{{cindex(HTML&#92;\, and Orgtbl mode)}}}
  {{{cindex(translator function)}}}
<p>Orgtbl mode has several translator functions built-in: <code>orgtbl-to-csv</code>
  (comma-separated values), <code>orgtbl-to-tsv</code> (TAB-separated values)
  <code>orgtbl-to-latex</code>, <code>orgtbl-to-html</code>, and <code>orgtbl-to-texinfo</code>. Except
  for <code>orgtbl-to-html</code>, these all use a generic translator,
  <code>orgtbl-to-generic</code>.<sup><a class="footref" name="fnr.162" href="#fn.162">162</a></sup> For example, <code>orgtbl-to-latex</code> itself is
  a very short function that computes the column definitions for the
  <code>tabular</code> environment, defines a few field and line separators and
  then hands processing over to the generic translator. Here is the
  entire code:</p>
<pre class="src src-emacs-lisp">
(defun orgtbl-to-latex (table params)
  &quot;Convert the Orgtbl mode TABLE to LaTeX.&quot;
  (let* ((alignment (mapconcat (lambda (x) (if x &quot;r&quot; &quot;l&quot;))
                               org-table-last-alignment &quot;&quot;))
         (params2
          (list
           :tstart (concat &quot;\\begin@{tabular@}@{&quot; alignment &quot;@}&quot;)
           :tend &quot;\\end@{tabular@}&quot;
           :lstart &quot;&quot; :lend &quot; \\\\&quot; :sep &quot; &amp; &quot;
           :efmt &quot;%s\\,(%s)&quot; :hline &quot;\\hline&quot;)))
    (orgtbl-to-generic table (org-combine-plists params2 params))))
</pre>
<p>As you can see, the properties passed into the function (variable
  <code>PARAMS</code>) are combined with the ones newly defined in the function
  (variable <code>PARAMS2</code>). The ones passed into the function (i.e., the
  ones set by the {{{samp(ORGTBL SEND)}}} line) take precedence. So if
  you would like to use the LaTeX translator, but wanted the line
  endings to be <code>\\[2mm]</code> instead of the default <code>\\</code>, you could just
  overrule the default with:</p>
<pre class="example">
,#+ORGTBL: SEND test orgtbl-to-latex :lend &quot; \\\\[2mm]&quot;
</pre>
<p>For a new language, you can either write your own converter function
  in analogy with the LaTeX translator, or you can use the generic
  function directly. For example, if you have a language where a table
  is started with {{{samp(!BTBL!)}}}, ended with {{{samp(!ETBL!)}}}, and
  where table lines are started with {{{samp(!BL!)}}}, ended with
  {{{samp(!EL!)}}}, and where the field separator is a TAB, you could
  call the generic translator like this (on a single line!):</p>
<pre class="example">
,#+ORGTBL: SEND test orgtbl-to-generic :tstart &quot;!BTBL!&quot; :tend &quot;!ETBL!&quot;
                              :lstart &quot;!BL! &quot; :lend &quot; !EL!&quot; :sep &quot;\t&quot;
</pre>
<p>{{{noindent}}} Please check the documentation string of the function
  <code>orgtbl-to-generic</code> for a full list of parameters understood by that
  function, and remember that you can pass each of them into
  <code>orgtbl-to-latex</code>, <code>orgtbl-to-texinfo</code>, and any other function using
  the generic function.</p>
<p>Of course you can also write a completely new function doing
  complicated things the generic translator cannot do. A translator
  function takes two arguments. The first argument is the table, a list
  of lines, each line either the symbol <code>hline</code> or a list of fields. The
  second argument is the property list containing all parameters
  specified in the {{{samp(#+ORGTBL: SEND)}}} line. The function must
  return a single string containing the formatted table. If you write a
  generally useful translator, please post it to the <a href="mailto:emacs-orgmode@gnu.org">mailing list</a> so
  that others can benefit from your work.</p>
<h3><span class="heading-number heading-number-3">16.5.4</span> Radio lists</h3>{{{cindex(radio lists)}}}
  {{{cindex(org-list-insert-radio-list)}}}
<p>Sending and receiving radio lists works exactly the same way as
  sending and receiving radio tables (see <a href="Radio tables">Radio tables</a>). As for radio
  tables, you can insert radio list templates in HTML, LaTeX and
  Texinfo modes by calling <code>org-list-insert-radio-list</code>.</p>
<p>Here are the differences with radio tables:</p>
<ul>
  <li>Orgstruct mode must be active.</li>
  <li>Use the <code>ORGLST</code> keyword instead of <code>ORGTBL</code>.</li>
  <li>The available translation functions for radio lists don&#8217;t take
    parameters.</li>
  <li>{{{kbd(C-c C-c)}}} will work when pressed on the first item of the
    list.</li>
</ul>
<p>Here is a LaTeX example.  Let&#8217;s say that you have this in your
  LaTeX file:</p>
<p>{{{cindex(#+ORGLST)}}}</p>
<pre class="example">
% BEGIN RECEIVE ORGLST to-buy
% END RECEIVE ORGLST to-buy
\begin{comment}
#+ORGLST: SEND to-buy org-list-to-latex
- a new house
- a new computer
  + a new keyboard
  + a new mouse
- a new life
\end{comment}
</pre>
<p>Pressing `C-c C-c&#8217; on <code>a new house</code> will insert the converted
  LaTeX list between the two marker lines.</p>
<h2><span class="heading-number heading-number-2">16.6</span> Dynamic blocks</h2>{{{cindex(dynamic blocks)}}}
<p>Org documents can contain <i>dynamic blocks</i>. These are specially marked
  regions that are updated by some user-written function. A good example
  for such a block is the clock table inserted by the command
  {{{kbd(C-c C-x C-r)}}} (see <a href="Clocking work time">Clocking work time</a>).</p>
<p>Dynamic blocks are enclosed by a BEGIN-END structure that assigns a
  name to the block and can also specify parameters for the function
  producing the content of the block.</p>
<p>{{{cindex(#+BEGIN:dynamic block)}}}</p>
<pre class="example">
,#+BEGIN: myblock :parameter1 value1 :parameter2 value2 ...

,#+END:
</pre>
<p>Dynamic blocks are updated with the following commands:</p>
<dl>
  <dt>{{{kbd(C-c C-x C-u)}}}, <code>org-dblock-update</code></dt><dd>
    {{{kindex(C-c C-x C-u)}}}
    <p>Update dynamic block at point.</p>
  </dd>
  <dt>{{{kbd(C-u C-c C-x C-u)}}}</dt><dd>
    {{{kindex(C-u C-c C-x C-u)}}}
    <p>Update all dynamic blocks in the current file.</p>
  </dd>
</dl>
<p>Updating a dynamic block means to remove all the text between <code>BEGIN</code>
  and <code>END</code>, parse the <code>BEGIN</code> line for parameters and then call the
  specific writer function for this block to insert the new content. If
  you want to use the original content in the writer function, you can
  use the extra parameter <code>:content</code>.</p>
<p>For a block with name <code>myblock</code>, the writer function is
  <code>org-dblock-write:myblock</code> with as only parameter a property list
  with the parameters given in the begin line.  Here is a trivial example
  of a block that keeps track of when the block update function was last
  run:</p>
<pre class="example">
,#+BEGIN: block-update-time :format &quot;on %m/%d/%Y at %H:%M&quot;

,#+END:
</pre>
<p>{{{noindent}}} The corresponding block writer function could look like
  this:</p>
<pre class="src src-emacs-lisp">
(defun org-dblock-write:block-update-time (params)
   (let ((fmt (or (plist-get params :format) &quot;%d. %m. %Y&quot;)))
     (insert &quot;Last block update at: &quot;
             (format-time-string fmt (current-time)))))
</pre>
<p>If you want to make sure that all dynamic blocks are always
  up-to-date, you could add the function <code>org-update-all-dblocks</code> to a
  hook, for example <code>before-save-hook</code>. <code>org-update-all-dblocks</code> is
  written in a way such that it does nothing in buffers that are not in
  <code>org-mode</code>.</p>
<p>You can narrow the current buffer to the current dynamic block (like
  any other block) with <code>org-narrow-to-block</code>.</p>
<h2><span class="heading-number heading-number-2">16.7</span> Special agenda views</h2>{{{cindex(agenda views&#92;\, user-defined)}}}
  {{{vindex(org-agenda-skip-function)}}}
  {{{vindex(org-agenda-skip-function-global)}}}
<p>Org provides a special hook that can be used to narrow down the
  selection made by these agenda views: <code>agenda</code>, <code>todo</code>, <code>alltodo</code>,
  <code>tags</code>, <code>tags-todo</code>, <code>tags-tree</code>. You may specify a function that is
  used at each match to verify if the match should indeed be part of the
  agenda view, and if not, how much should be skipped. You can specify a
  global condition that will be applied to all agenda views, this
  condition would be stored in the variable
  <code>org-agenda-skip-function-global</code>. More commonly, such a definition is
  applied only to specific custom searches, using
  <code>org-agenda-skip-function</code>.</p>
<p>Let&#8217;s say you want to produce a list of projects that contain a
  <code>WAITING</code> tag anywhere in the project tree. Let&#8217;s further assume that
  you have marked all tree headings that define a project with the TODO
  keyword PROJECT. In this case you would run a TODO search for the
  keyword PROJECT, but skip the match unless there is a <code>WAITING</code> tag
  anywhere in the subtree belonging to the project line.</p>
<p>To achieve this, you must write a function that searches the subtree for
  the tag.  If the tag is found, the function must return <code>nil</code> to
  indicate that this match should not be skipped.  If there is no such
  tag, return the location of the end of the subtree, to indicate that
  search should continue from there.</p>
<pre class="src src-emacs-lisp">
(defun my-skip-unless-waiting ()
  &quot;Skip trees that are not waiting&quot;
  (let ((subtree-end (save-excursion (org-end-of-subtree t))))
    (if (re-search-forward &quot;:waiting:&quot; subtree-end t)
        nil          ; tag found, do not skip
      subtree-end))) ; tag not found, continue after end of subtree
</pre>
<p>Now you may use this function in an agenda custom command, for example
  like this:</p>
<pre class="src src-emacs-lisp">
(org-add-agenda-custom-command
 '(&quot;b&quot; todo &quot;PROJECT&quot;
   ((org-agenda-skip-function 'my-skip-unless-waiting)
    (org-agenda-overriding-header &quot;Projects waiting for something: &quot;))))
</pre>
<p>{{{vindex(org-agenda-overriding-header)}}}</p>
<p>Note that this also binds <code>org-agenda-overriding-header</code> to get a
  meaningful header in the agenda view.</p>
<p>{{{vindex(org-odd-levels-only)}}}
  {{{vindex(org-agenda-skip-function)}}}</p>
<p>A general way to create custom searches is to base them on a search
  for entries with a certain level limit. If you want to study all
  entries with your custom search function, simply do a search for
  {{{samp(LEVEL&gt;0)}}}, and then use <code>org-agenda-skip-function</code> to select
  the entries you really want to have.<sup><a class="footref" name="fnr.163" href="#fn.163">163</a></sup></p>
<p>You may also put a Lisp form into <code>org-agenda-skip-function</code>.  In
  particular, you may use the functions <code>org-agenda-skip-entry-if</code>
  and <code>org-agenda-skip-subtree-if</code> in this form, for example:</p>
<dl>
  <dt>{{{samp((org-agenda-skip-entry-if &#8216;scheduled))}}}</dt><dd>
    <p>Skip current entry if it has been scheduled.</p>
  </dd>
  <dt>{{{samp((org-agenda-skip-entry-if &#8216;notscheduled))}}}</dt><dd>
    <p>Skip current entry if it has not been scheduled.</p>
  </dd>
  <dt>{{{samp((org-agenda-skip-entry-if &#8216;deadline))}}}</dt><dd>
    <p>Skip current entry if it has a deadline.</p>
  </dd>
  <dt>{{{samp((org-agenda-skip-entry-if &#8216;scheduled &#8216;deadline))}}}</dt><dd>
    <p>Skip current entry if it has a deadline, or if it is scheduled.</p>
  </dd>
  <dt>{{{samp((org-agenda-skip-entry-if &#8216;todo &#8216;(&#8220;TODO&#8221; &#8220;WAITING&#8221;)))}}}</dt><dd>
    <p>Skip current entry if the TODO keyword is TODO or WAITING.</p>
  </dd>
  <dt>{{{samp((org-agenda-skip-entry-if &#8216;todo &#8216;done))}}}</dt><dd>
    <p>Skip current entry if the TODO keyword marks a DONE state.</p>
  </dd>
  <dt>{{{samp((org-agenda-skip-entry-if &#8216;timestamp))}}}</dt><dd>
    <p>Skip current entry if it has any timestamp, may also be deadline or scheduled.
      &lt;&lt;x-agenda-skip-entry-regexp&gt;&gt;</p>
  </dd>
  <dt>{{{samp((org-agenda-skip-entry-if &#8216;regexp &#8220;regular expression&#8221;))}}}</dt><dd>
    <p>Skip current entry if the regular expression matches in the entry.</p>
  </dd>
  <dt>{{{samp((org-agenda-skip-entry-if &#8216;notregexp &#8220;regular expression&#8221;))}}}</dt><dd>
    <p>Skip current entry unless the regular expression matches.</p>
  </dd>
  <dt>{{{samp((org-agenda-skip-subtree-if &#8216;regexp &#8220;regular expression&#8221;))}}}</dt><dd>
    <p>Same as above, but check and skip the entire subtree.</p>
  </dd>
</dl>
<p>Therefore we could also have written the search for WAITING projects
  like this, even without defining a special function:</p>
<pre class="src src-emacs-lisp">
(org-add-agenda-custom-command
 '(&quot;b&quot; todo &quot;PROJECT&quot;
   ((org-agenda-skip-function '(org-agenda-skip-subtree-if
                                'regexp &quot;:waiting:&quot;))
    (org-agenda-overriding-header &quot;Projects waiting for something: &quot;))))
</pre>
<h2><span class="heading-number heading-number-2">16.8</span> Extracting agenda information</h2>{{{cindex(agenda&#92;\, pipe)}}}
  {{{cindex(Scripts&#92;\, for agenda processing)}}}
  {{{vindex(org-agenda-custom-commands)}}}
<p>Org provides commands to access agenda information for the command
  line in Emacs batch mode. This extracted information can be sent
  directly to a printer, or it can be read by a program that does
  further processing of the data. The first of these commands is the
  function <code>org-batch-agenda</code>, that produces an agenda view and sends it
  as ASCII text to STDOUT. The command takes a single string as
  parameter. If the string has length 1, it is used as a key to one of
  the commands you have configured in <code>org-agenda-custom-commands</code>,
  basically any key you can use after {{{kbd(C-c a)}}}. For example, to
  directly print the current TODO list, you could use:</p>
<pre class="src src-sh">
emacs -batch -l ~/.emacs -eval '(org-batch-agenda &quot;t&quot;)' | lpr
</pre>
<p>If the parameter is a string with 2 or more characters, it is used as
  a tags/TODO match string. For example, to print your local shopping
  list (all items with the tag {{{samp(shop)}}}, but excluding the tag
  {{{samp(NewYork)}}}), you could use:</p>
<pre class="src src-sh">
emacs -batch -l ~/.emacs                                      \
      -eval '(org-batch-agenda &quot;+shop-NewYork&quot;)' | lpr
</pre>
<p>{{{noindent}}} You may also modify parameters on the fly like this:</p>
<pre class="src src-sh">
emacs -batch -l ~/.emacs                                      \
   -eval '(org-batch-agenda &quot;a&quot;                               \
            org-agenda-span (quote month)                     \
            org-agenda-include-diary nil                      \
            org-agenda-files (quote (&quot;~/org/project.org&quot;)))'  \
   | lpr
</pre>
<p>{{{noindent}}} which will produce a 30-day agenda, fully restricted to
  the Org file {{{file(~/org/projects.org)}}}, not even including the
  diary.</p>
<p>If you want to process the agenda data in more sophisticated ways, you
  can use the command <code>org-batch-agenda-csv</code> to get a comma-separated
  list of values for each agenda item.  Each line in the output will
  contain a number of fields separated by commas.  The fields in a line
  are:</p>
<dl>
  <dt>category</dt><dd>The category of the item</dd>
  <dt>head</dt><dd>The headline, without TODO keyword, TAGS and PRIORITY</dd>
  <dt>type</dt><dd>The type of the agenda entry, can be:
    <dl>
      <dt>todo</dt><dd>selected in TODO match</dd>
      <dt>tagsmatch</dt><dd>selected in tags match</dd>
      <dt>diary</dt><dd>imported from diary</dd>
      <dt>deadline</dt><dd>a deadline</dd>
      <dt>scheduled</dt><dd>scheduled</dd>
      <dt>timestamp</dt><dd>appointment, selected by timestamp</dd>
      <dt>closed</dt><dd>entry was closed on date</dd>
      <dt>upcoming-deadline</dt><dd>warning about nearing deadline</dd>
      <dt>past-scheduled</dt><dd>forwarded scheduled item</dd>
      <dt>block</dt><dd>entry has date block including date</dd>
    </dl>
  </dd>
  <dt>todo</dt><dd>The TODO keyword, if any</dd>
  <dt>tags</dt><dd>All tags including inherited ones, separated by colons</dd>
  <dt>date</dt><dd>The relevant date, like 2007-2-14</dd>
  <dt>time</dt><dd>The time, like 15:00-16:50</dd>
  <dt>extra</dt><dd>String with extra planning info</dd>
  <dt>priority-l</dt><dd>The priority letter if any was given</dd>
  <dt>priority-n</dt><dd>The computed numerical priority</dd>
</dl>
<p>{{{noindent}}} Time and date will only be given if a timestamp (or
  deadline/scheduled) led to the selection of the item.</p>
<p>A CSV list like this is very easy to use in a post-processing script.
  For example, here is a Perl program that gets the TODO list from
  Emacs/Org and prints all the items, preceded by a checkbox:</p>
<pre class="src src-perl">
#!/usr/bin/perl

# define the Emacs command to run
$cmd = &quot;emacs -batch -l ~/.emacs -eval '(org-batch-agenda-csv \&quot;t\&quot;)'&quot;;

# run it and capture the output
$agenda = qx@{$cmd 2&gt;/dev/null@};

# loop over all lines
foreach $line (split(/\n/,$agenda)) @{
  # get the individual values
  ($category,$head,$type,$todo,$tags,$date,$time,$extra,
   $priority_l,$priority_n) = split(/,/,$line);
  # process and print
  print &quot;[ ] $head\n&quot;;
@}
</pre>
<h2><span class="heading-number heading-number-2">16.9</span> Using the property API</h2>{{{cindex(API&#92;\, for properties)}}}
  {{{cindex(properties&#92;\, API)}}}
<p>Here is a description of the functions that can be used to work with
  properties.</p>
<p>{{{defun}}} org-entry-properties &amp;optional pom which
  Get all properties of the entry at point-or-marker POM.
  This includes the TODO keyword, the tags, time strings for deadline,
  scheduled, and clocking, and any additional properties defined in the
  entry.  The return value is an alist.  Keys may occur multiple times
  if the property key was used several times.@*
  POM may also be nil, in which case the current entry is used.
  If WHICH is nil or `all&#8217;, get all properties.  If WHICH is
  `special&#8217; or `standard&#8217;, only get that subclass.
  {{{enddefun}}}</p>
<p>{{{vindex(org-use-property-inheritance)}}}
  {{{findex(org-insert-property-drawer)}}}</p>
<p>{{{defun}}} org-entry-get pom property &amp;optional inherit
  Get value of PROPERTY for entry at point-or-marker POM.  By default,
  this only looks at properties defined locally in the entry.  If INHERIT
  is non-nil and the entry does not have the property, then also check
  higher levels of the hierarchy.  If INHERIT is the symbol
  <code>selective</code>, use inheritance if and only if the setting of
  <code>org-use-property-inheritance</code> selects PROPERTY for inheritance.
  {{{enddefun}}}</p>
<p>{{{defun}}} org-entry-delete pom property
  Delete the property PROPERTY from entry at point-or-marker POM.
  {{{enddefun}}}</p>
<p>{{{defun}}} org-entry-put pom property value
  Set PROPERTY to VALUE for entry at point-or-marker POM.
  {{{enddefun}}}</p>
<p>{{{defun}}} org-buffer-property-keys &amp;optional include-specials
  Get all property keys in the current buffer.
  {{{enddefun}}}</p>
<p>{{{defun}}} org-insert-property-drawer
  Insert a property drawer for the current entry.  Also
  {{{enddefun}}}</p>
<p>{{{defun}}} org-entry-put-multivalued-property pom property &amp;rest values
  Set PROPERTY at point-or-marker POM to VALUES.  VALUES should be a list of
  strings.  They will be concatenated, with spaces as separators.
  {{{enddefun}}}</p>
<p>{{{defun}}} org-entry-get-multivalued-property pom property
  Treat the value of the property PROPERTY as a whitespace-separated list of
  values and return the values as a list of strings.
  {{{enddefun}}}</p>
<p>{{{defun}}} org-entry-add-to-multivalued-property pom property value
  Treat the value of the property PROPERTY as a whitespace-separated list of
  values and make sure that VALUE is in this list.
  {{{enddefun}}}</p>
<p>{{{defun}}} org-entry-remove-from-multivalued-property pom property value
  Treat the value of the property PROPERTY as a whitespace-separated list of
  values and make sure that VALUE is <i>not</i> in this list.
  {{{enddefun}}}</p>
<p>{{{defun}}} org-entry-member-in-multivalued-property pom property value
  Treat the value of the property PROPERTY as a whitespace-separated list of
  values and check if VALUE is in this list.
  {{{enddefun}}}</p>
<p>{{{defopt}}} org-property-allowed-value-functions
  Hook for functions supplying allowed values for a specific property.
  The functions must take a single argument, the name of the property, and
  return a flat list of allowed values.  If {{{samp(:ETC)}}} is one of
  the values, use the values as completion help, but allow also other values
  to be entered.  The functions must return <code>nil</code> if they are not
  responsible for this property.
  {{{enddefopt}}}</p>
<h2><span class="heading-number heading-number-2">16.10</span> Using the mapping API</h2>{{{cindex(API&#92;\, for mapping)}}}
  {{{cindex(mapping entries&#92;\, API)}}}
<p>Org has sophisticated mapping capabilities to find all entries satisfying
  certain criteria.  Internally, this functionality is used to produce agenda
  views, but there is also an API that can be used to execute arbitrary
  functions for each or selected entries.  The main entry point for this API
  is:</p>
<p>{{{defun}}} org-map-entries func &amp;optional match scope &amp;rest skip
  Call FUNC at each headline selected by MATCH in SCOPE.</p>
<p>FUNC is a function or a Lisp form.  The function will be called without
  arguments, with the cursor positioned at the beginning of the headline.
  The return values of all calls to the function will be collected and
  returned as a list.</p>
<p>The call to FUNC will be wrapped into a save-excursion form, so FUNC
  does not need to preserve point.  After evaluation, the cursor will be
  moved to the end of the line (presumably of the headline of the
  processed entry) and search continues from there.  Under some
  circumstances, this may not produce the wanted results.  For example,
  if you have removed (e.g., archived) the current (sub)tree it could
  mean that the next entry will be skipped entirely.  In such cases, you
  can specify the position from where search should continue by making
  FUNC set the variable `org-map-continue-from&#8217; to the desired buffer
  position.</p>
<p>MATCH is a tags/property/todo match as it is used in the agenda match view.
  Only headlines that are matched by this query will be considered during
  the iteration.  When MATCH is nil or t, all headlines will be
  visited by the iteration.</p>
<p>SCOPE determines the scope of this command.  It can be any of:</p>
<dl>
  <dt>nil</dt><dd>
    <p>The current buffer, respecting the restriction, if any.</p>
  </dd>
  <dt>tree</dt><dd>
    <p>The subtree started with the entry at point.</p>
  </dd>
  <dt>region</dt><dd>
    <p>The entries within the active region, if any.</p>
  </dd>
  <dt>file</dt><dd>
    <p>The current buffer, without restriction.</p>
  </dd>
  <dt>file-with-archives</dt><dd>
    <p>The current buffer, and any archives associated with it.</p>
  </dd>
  <dt>agenda</dt><dd>
    <p>All agenda files.</p>
  </dd>
  <dt>agenda-with-archives</dt><dd>
    <p>All agenda files with any archive files associated with them.</p>
  </dd>
  <dt>(file1 file2 &#8230;)</dt><dd>
    <p>If this is a list, all files in the list will be scanned.</p>
  </dd>
</dl>
<p>{{{noindent}}} The remaining args are treated as settings for the
  skipping facilities of the scanner. The following items can be given
  here:</p>
<p>{{{vindex(org-agenda-skip-function)}}}</p>
<dl>
  <dt><code>archive</code></dt><dd>
    <p>Skip trees with the archive tag.</p>
  </dd>
  <dt><code>comment</code></dt><dd>
    <p>Skip trees with the COMMENT keyword.</p>
  </dd>
  <dt>function or Lisp form</dt><dd>
    <p>Will be used as value for <code>org-agenda-skip-function</code>, so whenever the
      function returns t, FUNC will not be called for that entry and search
      will continue from the point where the function leaves it.</p>
  </dd>
</dl>
<p>{{{enddefun}}}</p>
<p>The function given to that mapping routine can really do anything you like.
  It can use the property API (see <a href="Using the property API">Using the property API</a>) to gather more
  information about the entry, or in order to change metadata in the entry.
  Here are a few functions that might be handy:</p>
<p>{{{defun}}} org-todo &amp;optional arg
  Change the TODO state of the entry.  See the docstring of the functions for
  the many possible values for the argument ARG.
  {{{enddefun}}}</p>
<p>{{{defun}}} org-priority &amp;optional action
  Change the priority of the entry.  See the docstring of this function for the
  possible values for ACTION.
  {{{enddefun}}}</p>
<p>{{{defun}}} org-toggle-tag tag &amp;optional onoff
  Toggle the tag TAG in the current entry.  Setting ONOFF to either <code>on</code>
  or <code>off</code> will not toggle tag, but ensure that it is either on or off.
  {{{enddefun}}}</p>
<p>{{{defun}}} org-promote
  Promote the current entry.
  {{{enddefun}}}</p>
<p>{{{defun}}} org-demote
  Demote the current entry.
  {{{enddefun}}}</p>
<p>The following simple example will turn all entries in the current file
  with a tag <code>TOMORROW</code> into TODO entries with the keyword <code>UPCOMING</code>.
  Entries in comment trees and in archive trees will be ignored.</p>
<pre class="src src-emacs-lisp">
(org-map-entries
   '(org-todo &quot;UPCOMING&quot;)
   &quot;+TOMORROW&quot; 'file 'archive 'comment)
</pre>
<p>The following example counts the number of entries with TODO keyword
  <code>WAITING</code>, in all agenda files.</p>
<pre class="src src-emacs-lisp">
(length (org-map-entries t &quot;/+WAITING&quot; 'agenda))
</pre>
<h1><span class="heading-number heading-number-1">17</span> MobileOrg</h1>{{{cindex(iPhone)}}}
  {{{cindex(MobileOrg)}}}
  {{{cindex(Moreland&#92;\, Richard)}}}
  {{{cindex(Jones&#92;\, Matt)}}}
<p>MobileOrg is the name of the mobile companion app for Org mode,
  currently available for iOS and for Android. MobileOrg offers
  offline viewing and capture support for an Org mode system rooted on a
  &#8220;real&#8221; computer. It does also allow you to record changes to
  existing entries. The <a href="http://mobileorg.ncogni.to/">iOS implementation</a> for the iPhone/iPod
  Touch/iPad series of devices, was developed by Richard Moreland.
  Android users should check out <a href="http://wiki.github.com/matburt/mobileorg-android/">MobileOrg Android</a> by Matt Jones. The
  two implementations are not identical but offer similar features.</p>
<p>This appendix describes the support Org has for creating agenda views
  in a format that can be displayed by MobileOrg, and for integrating
  notes captured and changes made by MobileOrg into the main system.</p>
<p>For changing tags and TODO states in MobileOrg, you should have set up
  the customization variables <code>org-todo-keywords</code> and <code>org-tags-alist</code>
  to cover all important tags and TODO keywords, even if individual
  files use only part of these. MobileOrg will also offer you states and
  tags set up with in-buffer settings, but it will understand the
  logistics of TODO state <i>sets</i> (see <a href="Per-file keywords">Per-file keywords</a>) and <i>mutually
  exclusive</i> tags (see <a href="Setting tags">Setting tags</a>) only for those set in these
  variables.</p>
<h2><span class="heading-number heading-number-2">17.1</span> Setting up the staging area</h2>
<p>MobileOrg needs to interact with Emacs through a directory on a
  server. If you are using a public server, you should consider to
  encrypt the files that are uploaded to the server. This can be done
  with Org mode 7.02 and with MobileOrg 1.5 (iPhone version), and you
  need an {{{file(openssl)}}} installation on your system. To turn on
  encryption, set a password in MobileOrg and, on the Emacs side,
  configure the variable <code>org-mobile-use-encryption</code>.<sup><a class="footref" name="fnr.164" href="#fn.164">164</a></sup></p>
<p>The easiest way to create that directory is to use a free <a href="http://dropbox.com">Dropbox</a>
  account.<sup><a class="footref" name="fnr.165" href="#fn.165">165</a></sup> When MobileOrg first connects to your Dropbox, it
  will create a directory MobileOrg inside the Dropbox. After the
  directory has been created, tell Emacs about it:</p>
<pre class="src src-emacs-lisp">
(setq org-mobile-directory &quot;~/Dropbox/MobileOrg&quot;)
</pre>
<p>Org mode has commands to put files for MobileOrg into that
  directory, and to read captured notes from there.</p>
<h2><span class="heading-number heading-number-2">17.2</span> Pushing to MobileOrg</h2>
<p>This operation copies all files currently listed in <code>org-mobile-files</code>
  to the directory <code>org-mobile-directory</code>. By default this list contains
  all agenda files (as listed in <code>org-agenda-files</code>), but additional
  files can be included by customizing <code>org-mobile-files</code>. File names
  will be staged with paths relative to <code>org-directory</code>, so all files
  should be inside this directory.<sup><a class="footref" name="fnr.184" href="#fn.184">184</a></sup></p>
<p>The push operation also creates a special Org file
  {{{file(agendas.org)}}} with all custom agenda view defined by the
  user.<sup><a class="footref" name="fnr.166" href="#fn.166">166</a></sup></p>
<p>Finally, Org writes the file {{{file(index.org)}}}, containing links
  to all other files. MobileOrg first reads this file from the server,
  and then downloads all agendas and Org files listed in it. To speed up
  the download, MobileOrg will only read files whose checksums have
  changed.<sup><a class="footref" name="fnr.167" href="#fn.167">167</a></sup></p>
<h2><span class="heading-number heading-number-2">17.3</span> Pulling from MobileOrg</h2>
<p>When MobileOrg synchronizes with the server, it not only pulls the
  Org files for viewing. It also appends captured entries and pointers
  to flagged and changed entries to the file {{{file(mobileorg.org)}}}
  on the server. Org has a <i>pull</i> operation that integrates this
  information into an inbox file and operates on the pointers to flagged
  entries. Here is how it works:</p>
<ol>
  <li>Org moves all entries found in {{{file(mobileorg.org)}}} and
    appends them to the file pointed to by the variable
    <code>org-mobile-inbox-for-pull</code>.<sup><a class="footref" name="fnr.168" href="#fn.168">168</a></sup> Each captured entry and each
    editing event will be a top-level entry in the inbox file.</li>
  <li>After moving the entries, Org will attempt to implement the changes
    made in MobileOrg. Some changes are applied directly and without
    user interaction. Examples are all changes to tags, TODO state,
    headline and body text that can be cleanly applied. Entries that
    have been flagged for further action will receive a tag
    <code>:FLAGGED:</code>, so that they can be easily found again. When there is
    a problem finding an entry or applying the change, the pointer
    entry will remain in the inbox and will be marked with an error
    message. You need to later resolve these issues by hand.</li>
  <li>Org will then generate an agenda view with all flagged entries. The
    user should then go through these entries and do whatever actions
    are necessary. If a note has been stored while flagging an entry in
    MobileOrg, that note will be displayed in the echo area when the
    cursor is on the corresponding agenda line.
    <dl>
      <dt>{{{kbd(?)}}}</dt><dd>
        {{{kindex(?)}}}
        <p>Pressing {{{kbd(?)}}} in that special agenda will display the full
          flagging note in another window and also push it onto the kill ring.
          So you could use {{{kbd(? z C-y C-c C-c)}}} to store that flagging
          note as a normal note in the entry. Pressing {{{kbd(?)}}} twice in
          succession will offer to remove the <code>:FLAGGED:</code> tag along with the
          recorded flagging note (which is stored in a property). In this way
          you indicate that the intended processing for this flagged entry is
          finished.</p>
      </dd>
    </dl>
  </li>
</ol>
<p>{{{kindex(C-c a ?)}}}</p>
<p>If you are not able to process all flagged entries directly, you can always
  return to this agenda view using {{{kbd(C-c a ?)}}}.<sup><a class="footref" name="fnr.169" href="#fn.169">169</a></sup></p>
<h1><span class="heading-number heading-number-1">18</span> History and acknowledgments</h1>
<h2><span class="heading-number heading-number-2">18.1</span> From Carsten</h2>
<p>Org was born in 2003, out of frustration over the user interface of
  the Emacs Outline mode. I was trying to organize my notes and
  projects, and using Emacs seemed to be the natural way to go. However,
  having to remember eleven different commands with two or three keys
  per command, only to hide and show parts of the outline tree, that
  seemed entirely unacceptable to me. Also, when using outlines to take
  notes, I constantly wanted to restructure the tree, organizing it
  parallel to my thoughts and plans. <i>Visibility cycling</i> and <i>structure
  editing</i> were originally implemented in the package
  {{{file(outline-magic.el)}}}, but quickly moved to the more general
  {{{file(org.el)}}}. As this environment became comfortable for project
  planning, the next step was adding <i>TODO entries</i>, basic <i>timestamps</i>,
  and <i>table support</i>. These areas highlighted the two main goals that
  Org still has today: to be a new, outline-based, plain text mode with
  innovative and intuitive editing features, and to incorporate project
  planning functionality directly into a notes file.</p>
<p>Since the first release, literally thousands of emails to me or to the
  <a href="mailto:emacs-orgmode@gnu.org">mailing list</a> have provided a constant stream of bug reports, feedback,
  new ideas, and sometimes patches and add-on code. Many thanks to
  everyone who has helped to improve this package. I am trying to keep
  here a list of the people who had significant influence in shaping one
  or more aspects of Org. The list may not be complete, if I have
  forgotten someone, please accept my apologies and let me know.</p>
<p>Before I get to this list, a few special mentions are in order:</p>
<dl>
  <dt>Bastien Guerry</dt><dd>
    <p>Bastien has written a large number of extensions to Org (most of them
      integrated into the core by now), including the LaTeX exporter and
      the plain list parser. His support during the early days, when he
      basically acted as co-maintainer, was central to the success of this
      project. Bastien also invented Worg, helped establishing the Web
      presence of Org, and sponsored hosting costs for the <code>orgmode.org</code>
      website.</p>
  </dd>
  <dt>Eric Schulte and Dan Davison</dt><dd>
    <p>Eric and Dan are jointly responsible for the Org-babel system, which
      turns Org into a multi-language environment for evaluating code and
      doing literate programming and reproducible research.</p>
  </dd>
  <dt>John Wiegley</dt><dd>
    <p>John has contributed a number of great ideas and patches directly to
      Org, including the attachment system ({{{file(org-attach.el)}}}),
      integration with Apple Mail ({{{file(org-mac-message.el)}}}),
      hierarchical dependencies of TODO items, habit tracking
      ({{{file(org-habits.el)}}}), and encryption
      ({{{file(org-crypt.el)}}}). Also, the capture system is really an
      extended copy of his great {{{file(remember.el)}}}.</p>
  </dd>
  <dt>Sebastian Rose</dt><dd>
    <p>Without Sebastian, the HTML/XHTML publishing of Org would be the
      pitiful work of an ignorant amateur. Sebastian has pushed this part of
      Org onto a much higher level. He also wrote {{{file(org-info.js)}}}, a
      Java script for displaying webpages derived from Org using an
      Info-like or a folding interface with single-key navigation.</p>
  </dd>
</dl>
<p>{{{noindent}}} See <a href="List of contributions">below</a> for the full list of contributions! Again,
  please let me know what I am missing here!</p>
<h2><span class="heading-number heading-number-2">18.2</span> From Bastien</h2>
<p>I (Bastien) have been maintaining Org since January 2011. This
  appendix would not be complete without adding a few more
  acknowledgements and thanks to Carsten&#8217;s ones above.</p>
<p>I am first grateful to Carsten for his trust while handing me over the
  maintainership of Org. His support as been great since day one of this
  new adventure, and it helped a lot.</p>
<p>When I took over maintainership, I knew I would have to make Org more
  collaborative than ever, as I would have to rely on people that are
  more knowledgeable than I am on many parts of the code. Here is a list
  of the persons I could rely on, they should really be considered
  co-maintainers, either of the code or the community:</p>
<dl>
  <dt>Eric Schulte</dt><dd>
    <p>Eric is maintaining the Babel parts of Org. His reactivity here kept
      me away from worrying about possible bugs here and let me focus on
      other parts.</p>
  </dd>
  <dt>Nicolas Goaziou</dt><dd>
    <p>Nicolas is maintaining the consistency of the deepest parts of Org.
      His work on {{{file(org-element.el)}}} and {{{file(org-export.el)}}}
      has been outstanding, and opened the doors for many new ideas and
      features.</p>
  </dd>
  <dt>Jambunathan K</dt><dd>
    <p>Jambunathan contributed the ODT exporter, definitly a killer feature
      of Org mode. He also contributed the new HTML exporter, which is
      another core feature of Org. Here too, I knew I could rely on him to
      fix bugs in these areas and to patiently explain the users what was
      the problems and solutions.</p>
  </dd>
  <dt>Achim Gratz</dt><dd>
    <p>Achim rewrote the building process of Org, turning some <i>ad hoc</i> tools
      into a flexible and conceptually clean process. He patiently coped
      with the many hicups that such a change can create for users.</p>
  </dd>
  <dt>Nick Dokos</dt><dd>
    <p>The Org mode mailing list would not be such a nice place without Nick,
      who patiently helped users so many times. It is impossible to
      overestimate such a great help, and the list would not be so active
      without him.</p>
  </dd>
</dl>
<p>I received support from so many users that it is clearly impossible to be
  fair when shortlisting a few of them&#8212;but Org&#8217;s history would not be
  complete if the ones above were not mentioned in this manual.</p>
<h2><span class="heading-number heading-number-2">18.3</span> List of contributions</h2>
<ul>
  <li>Russel Adams came up with the idea for drawers.</li>
  <li>Thomas Baumann wrote {{{file(org-bbdb.el)}}} and {{{file(org-mhe.el)}}}.</li>
  <li>Christophe Bataillon created the great unicorn logo that we use on
    the Org mode website.</li>
  <li>Alex Bochannek provided a patch for rounding timestamps.</li>
  <li>Jan Böcker wrote {{{file(org-docview.el)}}}.</li>
  <li>Brad Bozarth showed how to pull RSS feed data into Org mode files.</li>
  <li>Tom Breton wrote {{{file(org-choose.el)}}}.</li>
  <li>Charles Cave&#8217;s suggestion sparked the implementation of templates
    for Remember, which are now templates for capture.</li>
  <li>Pavel Chalmoviansky influenced the agenda treatment of items with
    specified time.</li>
  <li>Gregory Chernov patched support for Lisp forms into table
    calculations and improved XEmacs compatibility, in particular by
    porting {{{file(nouline.el)}}} to XEmacs.</li>
  <li>Sacha Chua suggested copying some linking code from Planner.</li>
  <li>Baoqiu Cui contributed the DocBook exporter.</li>
  <li>Eddward DeVilla proposed and tested checkbox statistics.  He also
    came up with the idea of properties, and that there should be an API
    for them.</li>
  <li>Nick Dokos tracked down several nasty bugs.</li>
  <li>Kees Dullemond used to edit projects lists directly in HTML and so
    inspired some of the early development, including HTML export.  He
    also asked for a way to narrow wide table columns.</li>
  <li>Thomas S. Dye contributed documentation on Worg and helped
    integrating the Org-Babel documentation into the manual.</li>
  <li>Christian Egli converted the documentation into Texinfo format,
    inspired the agenda, patched CSS formatting into the HTML exporter,
    and wrote {{{file(org-taskjuggler.el)}}}.</li>
  <li>David Emery provided a patch for custom CSS support in exported
    HTML agendas.</li>
  <li>Nic Ferrier contributed mailcap and XOXO support.</li>
  <li>Miguel A. Figueroa-Villanueva implemented hierarchical checkboxes.</li>
  <li>John Foerch figured out how to make incremental search show
    context around a match in a hidden outline tree.</li>
  <li>Raimar Finken wrote {{{file(org-git-line.el)}}}.</li>
  <li>Mikael Fornius works as a mailing list moderator.</li>
  <li>Austin Frank works as a mailing list moderator.</li>
  <li>Eric Fraga drove the development of BEAMER export with ideas and
    testing.</li>
  <li>Barry Gidden did proofreading the manual in preparation for the
    book publication through Network Theory Ltd.</li>
  <li>Niels Giesen had the idea to automatically archive DONE trees.</li>
  <li>Nicolas Goaziou rewrote much of the plain list code.</li>
  <li>Kai Grossjohann pointed out key-binding conflicts with other packages.</li>
  <li>Brian Gough of Network Theory Ltd publishes the Org mode manual as
    a book.</li>
  <li>Bernt Hansen has driven much of the support for auto-repeating
    tasks, task state change logging, and the clocktable. His clear
    explanations have been critical when we started to adopt the Git
    version control system.</li>
  <li>Manuel Hermenegildo has contributed various ideas, small fixes
    and patches.</li>
  <li>Phil Jackson wrote {{{file(org-irc.el)}}}.</li>
  <li>Scott Jaderholm proposed footnotes, control over whitespace
    between folded entries, and column view for properties.</li>
  <li>Matt Jones wrote <i>MobileOrg Android</i>.</li>
  <li>Tokuya Kameshima wrote {{{file(org-wl.el)}}} and {{{file(org-mew.el)}}}.</li>
  <li>Shidai Liu (&#8220;Leo&#8221;) asked for embedded LaTeX and tested it.  He
    also provided frequent feedback and some patches.</li>
  <li>Matt Lundin has proposed last-row references for table formulas
    and named invisible anchors.  He has also worked a lot on the FAQ.</li>
  <li>David Maus wrote {{{file(org-atom.el)}}}, maintains the issues
    file for Org, and is a prolific contributor on the mailing list with
    competent replies, small fixes and patches.</li>
  <li>Jason F. McBrayer suggested agenda export to CSV format.</li>
  <li>Max Mikhanosha came up with the idea of refiling.</li>
  <li>Dmitri Minaev sent a patch to set priority limits on a per-file
    basis.</li>
  <li>Stefan Monnier provided a patch to keep the Emacs-Lisp compiler
    happy.</li>
  <li>Richard Moreland wrote <i>MobileOrg</i> for the iPhone.</li>
  <li>Rick Moynihan proposed allowing multiple TODO sequences in a file
    and being able to quickly restrict the agenda to a subtree.</li>
  <li>Todd Neal provided patches for links to Info files and Elisp forms.</li>
  <li>Greg Newman refreshed the unicorn logo into its current form.</li>
  <li>Tim O&#8217;Callaghan suggested in-file links, search options for
    general file links, and TAGS.</li>
  <li>Osamu Okano wrote {{{file(orgcard2ref.pl)}}}, a Perl program to
    create a text version of the reference card.</li>
  <li>Takeshi Okano translated the manual and David O&#8217;Toole&#8217;s tutorial
    into Japanese.</li>
  <li>Oliver Oppitz suggested multi-state TODO items.</li>
  <li>Scott Otterson sparked the introduction of descriptive text for
    links, among other things.</li>
  <li>Pete Phillips helped during the development of the TAGS feature,
    and provided frequent feedback.</li>
  <li>Martin Pohlack provided the code snippet to bundle character
    insertion into bundles of 20 for undo.</li>
  <li>T.V. Raman reported bugs and suggested improvements.</li>
  <li>Matthias Rempe (Oelde) provided ideas, Windows support, and
    quality control.</li>
  <li>Paul Rivier provided the basic implementation of named footnotes.
    He also acted as mailing list moderator for some time.</li>
  <li>Kevin Rogers contributed code to access VM files on remote hosts.</li>
  <li>Frank Ruell solved the mystery of the <code>keymapp nil</code> bug, a
    conflict with {{{file(allout.el)}}}.</li>
  <li>Jason Riedy generalized the send-receive mechanism for Orgtbl
    tables with extensive patches.</li>
  <li>Philip Rooke created the Org reference card, provided lots of
    feedback, developed and applied standards to the Org documentation.</li>
  <li>Christian Schlauer proposed angular brackets around links, among
    other things.</li>
  <li>Paul Sexton wrote {{{file(org-ctags.el)}}}.</li>
  <li>Tom Shannon&#8217;s {{{file(organizer-mode.el)}}} inspired linking to VM/BBDB/Gnus.</li>
  <li>Ilya Shlyakhter proposed the Archive Sibling, line numbering in
    literal examples, and remote highlighting for referenced code lines.</li>
  <li>Stathis Sideris wrote the {{{file(ditaa.jar)}}} ASCII to PNG
    converter that is now packaged into Org&#8217;s {{{file(contrib)}}}
    directory.</li>
  <li>Daniel Sinder came up with the idea of internal archiving by
    locking subtrees.</li>
  <li>Dale Smith proposed link abbreviations.</li>
  <li>James TD Smith has contributed a large number of patches for
    useful tweaks and features.</li>
  <li>Adam Spiers asked for global linking commands, inspired the link
    extension system, added support for mairix, and proposed the mapping
    API.</li>
  <li>Ulf Stegemann created the table to translate special symbols to
    HTML, LaTeX, UTF-8, Latin-1 and ASCII.</li>
  <li>Andy Stewart contributed code to {{{file(org-w3m.el)}}}, to copy
    HTML content with links transformation to Org syntax.</li>
  <li>David O&#8217;Toole wrote {{{file(org-publish.el)}}} and drafted the
    manual chapter about publishing.</li>
  <li>Jambunathan K contributed the ODT exporter.</li>
  <li>Sebastien Vauban reported many issues with LaTeX and BEAMER
    export and enabled source code highlighting in Gnus.</li>
  <li>Stefan Vollmar organized a video-recorded talk at the
    Max-Planck-Institute for Neurology.  He also inspired the creation
    of a concept index for HTML export.</li>
  <li>J&#34;urgen Vollmer contributed code generating the table of contents
    in HTML output.</li>
  <li>Samuel Wales has provided important feedback and bug reports.</li>
  <li>Chris Wallace provided a patch implementing the {{{samp(QUOTE)}}}
    keyword.</li>
  <li>David Wainberg suggested archiving, and improvements to the
    linking system.</li>
  <li>Carsten Wimmer suggested some changes and helped fix a bug in
    linking to Gnus.</li>
  <li>Roland Winkler requested additional key bindings to make Org work
    on a tty.</li>
  <li>Piotr Zielinski wrote {{{file(org-mouse.el)}}}, proposed agenda
    blocks and contributed various ideas and code snippets.</li>
</ul>
<h1><span class="heading-number heading-number-1">19</span> Concept index</h1>
<h1><span class="heading-number heading-number-1">20</span> Key index</h1>
<h1><span class="heading-number heading-number-1">21</span> Command and function index</h1>
<h1><span class="heading-number heading-number-1">22</span> Variable index</h1>
<p>This is not a complete index of variables and faces, only the ones
  that are mentioned in the manual. For a more complete list, use
  {{{kbdspckey(M-x org-customize,RET)}}} and then click yourself through
  the tree.</p>
<h1><span class="heading-number heading-number-1">23</span> Copying</h1>
<p>This manual is for Org version {{{value(VERSION)}}}.</p>
<p>Copyright (C) 2004-2013  Free Software Foundation, Inc.</p>
<blockquote>
  <p>Permission is granted to copy, distribute and/or modify this document
    under the terms of the GNU Free Documentation License, Version 1.3 or
    any later version published by the Free Software Foundation; with no
    Invariant Sections, with the Front-Cover texts being &#8220;A GNU Manual,&#8221;
    and with the Back-Cover Texts as in (a) below.  A copy of the license
    is included in the section entitled &#8220;GNU Free Documentation License.&#8221;</p>
  <p>(a) The FSF&#8217;s Back-Cover Text is: &#8220;You have the freedom to copy and
    modify this GNU manual.  Buying copies from the FSF supports it in
    developing GNU and promoting software freedom.&#8221;</p>
  <p>This document is part of a collection distributed under the GNU Free
    Documentation License.  If you want to distribute this document
    separately from the collection, you can do so by adding a copy of the
    license to the document, as described in section 6 of the license.</p>
</blockquote>
<h1><span class="heading-number heading-number-1">24</span> Instructions for use</h1>
<ul>
  <li>[ ] Tangle the makefile, `C-c C-v t&#8217;</li>
  <li>[ ] Execute <a href="Editing setup">this source code block</a></li>
  <li>[ ] Asynchronously generate the info file, `C-e i i&#8217;</li>
</ul>
<h1><span class="heading-number heading-number-1">25</span> Improvements and fixes [6/12]</h1>
<ul>
  <li>[X] Jon will fix detailed node listing</li>
  <li>[X] Jon will fix :INDEX: property</li>
  <li>[ ] New link type to generate pxref? (asked on ML)</li>
  <li>[X] New macro for kbdkey that preserves space, e.g., `C-c &lt;RET&gt;&#8217;</li>
  <li>[X] Indent examples one more space to match indentation of footnotes</li>
  <li>[ ] How to generate @kbd{\}?</li>
  <li>[ ] How to generate @kbd{~}?</li>
  <li>[ ] How to include GNU Free Documentation License as Appendix D?</li>
  <li>[X] Straighten out footnotes</li>
  <li>[ ] Truncated footnote (asked on ML)</li>
  <li>[ ] Resolve macros with XXX arguments</li>
  <li>[X] Get @appendix instead of @chapter?</li>
</ul>
<h1><span class="heading-number heading-number-1">26</span> Nicolas Goaziou&#8217;s instructions for v.8</h1>
<h2><span class="heading-number heading-number-2">26.1</span> Global Changes</h2>
<p>All occurrences of &#8220;#+LABEL:&#8221; should be replaced with &#8220;#+NAME:&#8221;.</p>
<h3><span class="heading-number heading-number-3">26.1.1</span> TODO Replace #+LABEL with #+NAME</h3>
<h2><span class="heading-number heading-number-2">26.2</span> Chapter 2, Document Structure</h2>In &#8220;2. Document Structure&#8221;, one section could be added about
  cross-referencing, which would point to &#8220;Internal links&#8221;. There, targets
  in comments can be removed. Also most back-ends will turn links to
  targets into proper cross-reference number (see `org-export-get-ordinal&#8217;
  docstring for cases handled).
<h3><span class="heading-number heading-number-3">26.2.1</span> TODO Add section about cross-referencing</h3>
<h2><span class="heading-number heading-number-2">26.3</span> Chapter 4, Hyperlinks</h2>&#8220;Internal links&#8221;. There, targets
  in comments can be removed. Also most back-ends will turn links to
  targets into proper cross-reference number (see `org-export-get-ordinal&#8217;
  docstring for cases handled).
<h3><span class="heading-number heading-number-3">26.3.1</span> TODO Remove targets in comments</h3>
<h2><span class="heading-number heading-number-2">26.4</span> Chapter 11, Markup for Rich Export</h2>
<h3><span class="heading-number heading-number-3">26.4.1</span> Include Keyword</h3>
<p>The &#8220;#+INCLUDE:&#8221; keyword syntax and effect is slightly different. You
  may want to look at `org-export-expand-include-keyword&#8217;.</p>
<h4><span class="heading-number heading-number-4">26.4.1.1</span> TODO Revise Include keyword</h4>
<h2><span class="heading-number heading-number-2">26.5</span> Chapter 12, Exporting</h2>
<h3><span class="heading-number heading-number-3">26.5.1</span> Export Options</h3>
<p>In &#8220;12. Exporting&#8221;, &#8220;Export options&#8221; section need an overhaul. See
  `org-export-options-alist&#8217; for the default list of export options. Other
  options are back-end specific and should be introduced in their own
  section. Also &#8220;#+KEYWORD:&#8221; renaming into &#8220;:EXPORT_KEYWORD:&#8221; property is
  systematic.</p>
<h4><span class="heading-number heading-number-4">26.5.1.1</span> TODO Overhaul Export options section</h4>
<h4><span class="heading-number heading-number-4">26.5.1.2</span> TODO KEYWORD now EXPORT_KEYWORD</h4>
<h3><span class="heading-number heading-number-3">26.5.2</span> Macros</h3>
<p>There should also be a section about macros (and move it out of &#8220;11
  Markup for rich export&#8221;), general, hard-coded ({{{time(&#8230;)}}},
  {{{property(&#8230;)}}}, {{{input-file}}} and {{{modification-time(&#8230;)}}})
  and specific ({{{date}}}, {{{author}}}, {{{title}}} and {{{email}}}). It
  should be specified that macros are recursive and only apply to one
  line. Therefore, they are appropriate for small replacements. For more
  complex ones, one may use Babel instead.</p>
<h4><span class="heading-number heading-number-4">26.5.2.1</span> TODO Write macros section</h4>
<p>Subsections: General, Hard-coded, Specific</p>
<h3><span class="heading-number heading-number-3">26.5.3</span> Filters</h3>
<p>There should also be a section about filters used to customize export
  output and another one about `org-export-define-derived-backend&#8217; which
  allow someone to tweak a back-end.</p>
<h4><span class="heading-number heading-number-4">26.5.3.1</span> TODO Write filters section</h4>
<h3><span class="heading-number heading-number-3">26.5.4</span> Define derived back-end</h3>
<p>and another one about `org-export-define-derived-backend&#8217; which
  allow someone to tweak a back-end.</p>
<h4><span class="heading-number heading-number-4">26.5.4.1</span> TODO Write derived back-end section</h4>
<h3><span class="heading-number heading-number-3">26.5.5</span> Export Snippets</h3>
<p>A section can be added about export snippets, i.e.</p>
<p>@@ob-latex:\something{&#8230;}@@</p>
<p>They are a generalization for <html> tags.</p>
<h4><span class="heading-number heading-number-4">26.5.5.1</span> TODO Write export snippets section</h4>
<h3><span class="heading-number heading-number-3">26.5.6</span> Captions</h3>
<p>There may be a section about captions and their syntax. A note should
  specify that export back-ends may or may not respect a caption. On the
  other hand &#8220;11.2 Images and Tables&#8221; focuses on captions. Since these are
  not specific to Images and Tables, it may be removed.</p>
<h4><span class="heading-number heading-number-4">26.5.6.1</span> TODO Write captions section</h4>
<h3><span class="heading-number heading-number-3">26.5.7</span> Back-ends</h3>
<p>I would also regroup every back-end into a sub-section to not clutter
  main section.</p>
<p>Other options are back-end specific and should be introduced in their
  own section.</p>
<p>Also most back-ends will turn links to
  targets into proper cross-reference number (see `org-export-get-ordinal&#8217;
  docstring for cases handled).</p>
<h4><span class="heading-number heading-number-4">26.5.7.1</span> Old back-ends</h4>
<p>&#8220;DocBook export&#8221; (though texinfo back-end can export to DocBook) and
  &#8220;XOXO export&#8221; sections can be removed as the back-ends are discontinued.
  There is no equivalent to &#8220;Taskjuggler export&#8221; yet, so it can be removed
  too.</p>
<h5><span class="heading-number heading-number-5">26.5.7.1.1</span> TODO Remove DocBook backend</h5>
<h5><span class="heading-number heading-number-5">26.5.7.1.2</span> TODO Remove XOXO backend</h5>
<h5><span class="heading-number heading-number-5">26.5.7.1.3</span> TODO Remove Taskjuggler backend</h5>
<h4><span class="heading-number heading-number-4">26.5.7.2</span> Back-end template</h4>
<p>These are only suggestion. There is also probably many more things to
  do. But I think that the hardest part is to start writing it. If you
  come up with a good organization for e-latex back-end documentation, we
  can use it for other back-ends thereafter.</p>
<h5><span class="heading-number heading-number-5">26.5.7.2.1</span> TODO Write back-end template</h5>
<h6><span class="heading-number heading-number-6">26.5.7.2.1.1</span> TODO Does back-end turn links to targets?</h6>
<h4><span class="heading-number heading-number-4">26.5.7.3</span> LaTeX Back-end</h4>
<p>About the latex back-end, you know certainly a lot. It should be
  specified that it introduces 3 new keywords, namely &#8220;LATEX_CLASS&#8221;,
  &#8220;LATEX_CLASS_OPTIONS&#8221; and &#8220;LATEX_HEADER&#8221;. It also introduces
  &#8220;BEGIN_LATEX&#8221; and &#8220;BEGIN_TEX&#8221; blocks (the latter being just a synonym
  for the former). It would be worth to add that it handles footnotes in
  item tags and footnotes within footnotes. It also handles booktabs,
  paralist types, automatic babel language selection with #+LANGUAGE: in
  addition to already present features (minted/listings package handling).</p>
<h5><span class="heading-number heading-number-5">26.5.7.3.1</span> TODO Write LaTeX back-end</h5>
<h4><span class="heading-number heading-number-4">26.5.7.4</span> Beamer Back-end</h4>
<p>The BEAMER export back-end deserves, IMO, its own section.</p>
<h5><span class="heading-number heading-number-5">26.5.7.4.1</span> TODO Write Beamer back-end</h5>
<h4><span class="heading-number heading-number-4">26.5.7.5</span> TexInfo Back-end</h4>
<p>&gt; BTW, it would be great to have a texinfo exporter so the Org
  &gt; documentation could be written in Org-mode :)</p>
<p>There is one, albeit barely tested: (require &#8216;org-e-texinfo).</p>
<p>though texinfo back-end can export to DocBook</p>
<h5><span class="heading-number heading-number-5">26.5.7.5.1</span> TODO Write texinfo backend</h5>
<h3><span class="heading-number heading-number-3">26.5.8</span> Export dispatcher</h3>
<p>I think that the export dispatcher doesn&#8217;t deserve its own section. The
  introduction to Export subsystem can talk about &#8220;M-x
  org-export-dispatch&#8221; (bound to C-c C-e) instead.</p>
<h4><span class="heading-number heading-number-4">26.5.8.1</span> TODO Remove export dispatcher section</h4>
<h3><span class="heading-number heading-number-3">26.5.9</span> Smart quotes</h3>
<p>There should be a section about smart-quotes too.</p>
<h4><span class="heading-number heading-number-4">26.5.9.1</span> TODO Add smart quotes section</h4>
<h1><span class="heading-number heading-number-1">27</span> Org-mode setup</h1>
<h2><span class="heading-number heading-number-2">27.1</span> Editing setup</h2>
<pre class="src src-emacs-lisp">
(require 'ox-texinfo)
(define-key org-mode-map (kbd &quot;C-c e&quot;) 'org-export-dispatch)
(setq org-src-preserve-indentation t)
(setq org-export-in-background t)
(setq org-export-async-debug t)
(setq org-export-async-init-file (expand-file-name &quot;init.el&quot;))
(setq org-pretty-entities nil)
(setq org-footnote-auto-adjust nil)
(setq org-confirm-babel-evaluate nil)
(org-babel-do-load-languages
 'org-babel-load-languages
 '((emacs-lisp . t)
   (sh . t)))
(org-add-link-type
   &quot;pxref&quot; nil
   (lambda (path desc format)
     (cond
      ((eq format 'html)
       (format &quot;&lt;span class=\&quot;pxref\&quot;&gt;%s&lt;/span&gt;&quot; path))
      ((eq format 'latex)
       (format &quot;\\ref{%s}&quot; path))
      ((eq format 'texinfo)
       (format &quot;@pxref{%s,%s}&quot; path desc)))))
(add-to-list 'org-export-snippet-translation-alist
             '(&quot;info&quot; . &quot;texinfo&quot;))
</pre>
<h2><span class="heading-number heading-number-2">27.2</span> init.el file</h2>
<p>This source code block requires paths to your Org mode installation.
  Modify accordingly.</p>
<pre class="src src-emacs-lisp">
(setq load-path (cons &quot;~/.emacs.d/src/org-mode/lisp&quot; load-path))
; (setq load-path (cons &quot;~/.emacs.d/src/org-mode/contrib/lisp&quot; load-path))
(require 'ox-texinfo)
(setq org-src-preserve-indentation t)
(setq org-confirm-babel-evaluate nil)
(setq org-footnote-auto-adjust nil)
(org-babel-do-load-languages
 'org-babel-load-languages
 '((emacs-lisp . t)
   (makefile . t)
   (sh . t)))
(add-to-list 'org-export-snippet-translation-alist
             '(&quot;info&quot; . &quot;texinfo&quot;))
</pre>
<h2><span class="heading-number heading-number-2">27.3</span> Texi -&gt; Org helpers</h2>
<p>This section contains source code blocks that help translate from
  <code>texinfo</code> to <code>Org</code>.</p>
<pre class="src src-emacs-lisp">
&lt;&lt;tsd-index-to-macro&gt;&gt;
&lt;&lt;tsd-samp-to-macro&gt;&gt;
&lt;&lt;tsd-kbdkey-to-macro&gt;&gt;
&lt;&lt;tsd-kbd-to-macro&gt;&gt;
&lt;&lt;tsd-key-to-macro&gt;&gt;
&lt;&lt;tsd-command-to-macro&gt;&gt;
&lt;&lt;tsd-file-to-macro&gt;&gt;
&lt;&lt;tsd-noindent&gt;&gt;
&lt;&lt;tsd-example-block-begin&gt;&gt;
&lt;&lt;tsd-example-block-end&gt;&gt;
&lt;&lt;tsd-table-begin&gt;&gt;
&lt;&lt;tsd-table-end&gt;&gt;
&lt;&lt;tsd-pxref&gt;&gt;
&lt;&lt;tsd-xref&gt;&gt;
&lt;&lt;tsd-ref&gt;&gt;
&lt;&lt;tsd-orgcmd&gt;&gt;
&lt;&lt;tsd-orgkey&gt;&gt;
&lt;&lt;tsd-code-to-markup&gt;&gt;
&lt;&lt;tsd-emph-to-markup&gt;&gt;
&lt;&lt;tsd-i-to-markup&gt;&gt;
&lt;&lt;tsd-lisp-begin&gt;&gt;
&lt;&lt;tsd-lisp-end&gt;&gt;
</pre>
<pre class="example">
tsd-lisp-end
</pre>
<pre class="src src-emacs-lisp">
(defun tsd-index-to-macro ()
  &quot;Make macros out of @[cpfvk]index commands.  Doesn't handle commas.&quot;
  (interactive)
  (query-replace-regexp &quot;@\\([cpfvk]\\)index\\ \\(.*\\)$&quot; &quot;{{{\\1index(\\2)}}}&quot; nil))
</pre>
<pre class="src src-emacs-lisp">
(defun tsd-samp-to-macro ()
  &quot;Make macros out of @samp commands.&quot;
  (interactive)
  (query-replace-regexp &quot;@samp{\\([^}]*\\)}&quot; &quot;{{{samp(\\1)}}}&quot; nil))
</pre>
<pre class="src src-emacs-lisp">
(defun tsd-kbdkey-to-macro ()
  &quot;Make macros out of @kbd,@key commands.&quot;
  (interactive)
  (query-replace-regexp &quot;@kbd{\\([^@]*\\)@key{\\([^}]*\\)}}&quot; &quot;{{{kbdkey(\\1,\\2)}}}&quot; nil))
</pre>
<pre class="src src-emacs-lisp">
(defun tsd-kbd-to-macro ()
  &quot;Make macros out of @kbd commands.&quot;
  (interactive)
  (query-replace-regexp &quot;@kbd{\\([^}]*\\)}&quot; &quot;{{{kbd(\\1)}}}&quot; nil))
</pre>
<pre class="src src-emacs-lisp">
(defun tsd-key-to-macro ()
  &quot;Make macros out of @key commands.&quot;
  (interactive)
  (query-replace-regexp &quot;@key{\\([^}]*\\)}&quot; &quot;{{{key(\\1)}}}&quot; nil))
</pre>
<pre class="src src-emacs-lisp">
(defun tsd-command-to-macro ()
  &quot;Make macros out of @command commands.&quot;
  (interactive)
  (query-replace-regexp &quot;@command{\\([^}]*\\)}&quot; &quot;{{{command(\\1)}}}&quot; nil))
</pre>
<pre class="src src-emacs-lisp">
(defun tsd-file-to-macro ()
  &quot;Make macros out of @file commands.&quot;
  (interactive)
  (query-replace-regexp &quot;@file{\\([^}]*\\)}&quot; &quot;{{{file(\\1)}}}&quot; nil))
</pre>
<pre class="src src-emacs-lisp">
(defun tsd-noindent ()
  &quot;Make macros out of @noindent commands.&quot;
  (interactive)
  (query-replace &quot;@noindent&quot; &quot;{{{noindent}}}&quot; t))
</pre>
<pre class="src src-emacs-lisp">
(defun tsd-example-block-begin ()
  &quot;Convert example blocks.&quot;
  (interactive)
  (query-replace &quot;@example&quot; &quot;#+begin_example&quot; t))
</pre>
<pre class="src src-emacs-lisp">
(defun tsd-example-block-end ()
  &quot;Convert example blocks.&quot;
  (interactive)
  (query-replace &quot;@end example&quot; &quot;#+end_example&quot; nil))
</pre>
<pre class="src src-emacs-lisp">
(defun tsd-table-begin ()
  &quot;Convert table blocks.&quot;
  (interactive)
  (query-replace-regexp &quot;@table\\ \\([@a-z]*\\)&quot; &quot;#+attr_texinfo: :table-type \&quot;table\&quot; :indic \&quot;\\1\&quot;&quot; t))
</pre>
<pre class="src src-emacs-lisp">
(defun tsd-table-end ()
  &quot;Convert table blocks.&quot;
  (interactive)
  (query-replace &quot;@end table&quot; &quot;&quot; nil))
</pre>
<pre class="src src-emacs-lisp">
(defun tsd-pxref ()
  &quot;Convert @pxref to links.&quot;
  (interactive)
  (query-replace-regexp &quot;@pxref{\\([^}]*\\)}&quot; &quot;see \[\[\\1\]\]&quot; nil))
</pre>
<pre class="src src-emacs-lisp">
(defun tsd-xref ()
  &quot;Convert @xref to links.&quot;
  (interactive)
  (query-replace-regexp &quot;@xref{\\([^}]*\\)}&quot; &quot;See \[\[\\1\]\]&quot; nil))
</pre>
<pre class="src src-emacs-lisp">
(defun tsd-ref ()
  &quot;Convert @ref to links.&quot;
  (interactive)
  (query-replace-regexp &quot;@ref{\\([^}]*\\)}&quot; &quot;\[\[\\1\]\]&quot; nil))
</pre>
<pre class="src src-emacs-lisp">
(defun tsd-orgcmd ()
  &quot;Convert @orgcmd to list entry.&quot;
  (interactive)
  (query-replace-regexp &quot;@orgcmd{\\([^,]*\\),\\([^}]*\\)}&quot; &quot;- {{{kbd(\\1)}}}, ~\\2~ ::&quot; nil))
</pre>
<pre class="src src-emacs-lisp">
(defun tsd-orgkey ()
  &quot;Convert @orgkey to list entry.&quot;
  (interactive)
  (query-replace-regexp &quot;@orgkey{\\([^}]*\\)}&quot; &quot;- {{{kbd(\\1)}}} ::&quot; nil))
</pre>
<pre class="src src-emacs-lisp">
(defun tsd-code-to-markup ()
  &quot;Convert @code to markup.&quot;
  (interactive)
  (query-replace-regexp &quot;@code{\\([^}]*\\)}&quot; &quot;~\\1~&quot; nil))
</pre>
<pre class="src src-emacs-lisp">
(defun tsd-emph-to-markup ()
  &quot;Convert @emph to markup.&quot;
  (interactive)
  (query-replace-regexp &quot;@emph{\\([^}]*\\)}&quot; &quot;/\\1/&quot; nil))
</pre>
<pre class="src src-emacs-lisp">
(defun tsd-i-to-markup ()
  &quot;Convert @i to markup.&quot;
  (interactive)
  (query-replace-regexp &quot;@i{\\([^}]*\\)}&quot; &quot;/\\1/&quot; nil))
</pre>
<pre class="src src-emacs-lisp">
(defun tsd-b-to-markup ()
  &quot;Convert @b to markup.&quot;
  (interactive)
  (query-replace-regexp &quot;@b{\\([^}]*\\)}&quot; &quot;*\\1*&quot; nil))
</pre>
<pre class="src src-emacs-lisp">
(defun tsd-lisp-begin ()
  &quot;Convert @lisp blocks.&quot;
  (interactive)
  (query-replace &quot;@lisp&quot; &quot;#+begin_src emacs-lisp&quot; t))
</pre>
<pre class="src src-emacs-lisp">
(defun tsd-lisp-end ()
  &quot;Convert @lisp blocks.&quot;
  (interactive)
  (query-replace &quot;@end lisp&quot; &quot;#+end_src&quot; nil))
</pre>
<h1><span class="heading-number heading-number-1">28</span> Footnotes</h1>
<p><sup><a class="footref" name="fnr.1" href="#fn.1">1</a></sup> The iCalendar file will contain TODO and agenda items only.</p>
<p><sup><a class="footref" name="fnr.2" href="#fn.2">2</a></sup> If your Emacs distribution does not come with Org,
  the function <code>org-version</code> will not be defined.</p>
<p><sup><a class="footref" name="fnr.3" href="#fn.3">3</a></sup> The <code>master</code> branch is where development takes place.</p>
<p><sup><a class="footref" name="fnr.4" href="#fn.4">4</a></sup> The output from install-info (if any) is system dependent. In
  particular, Debian and its derivatives use two different versions of
  install-info. You may safely ignore the message:</p>
<pre class="example">
This is not dpkg install-info anymore, but GNU install-info
See the man page for ginstall-info for command line arguments
</pre>
<p>returned by install-info.</p>
<p><sup><a class="footref" name="fnr.5" href="#fn.5">5</a></sup> If you don&#8217;t use font-lock globally, turn it on in an Org
  buffer with <code>(add-hook 'org-mode-hook 'turn-on-font-lock)</code>.</p>
<p><sup><a class="footref" name="fnr.6" href="#fn.6">6</a></sup> Please consider subscribing to the mailing list in order to
  minimize the work the mailing list moderators have to do.</p>
<p><sup><a class="footref" name="fnr.7" href="#fn.7">7</a></sup> Easy templates insert lowercase keywords and Babel dynamically
  inserts <code>#+results</code>.</p>
<p><sup><a class="footref" name="fnr.8" href="#fn.8">8</a></sup> See the variables <code>org-special-ctrl-a/e</code>, <code>org-special-ctrl-k</code>,
  and <code>org-ctrl-k-protect-subtree</code> to configure special behavior of
  {{{kbd(C-a)}}}, {{{kbd(C-e)}}}, and {{{kbd(C-k)}}} in headlines. Note
  also that clocking only works with headings indented less than 30
  stars.</p>
<p><sup><a class="footref" name="fnr.9" href="#fn.9">9</a></sup> See the option <code>org-cycle-global-at-bob</code>.</p>
<p><sup><a class="footref" name="fnr.10" href="#fn.10">10</a></sup> The indirect buffer will contain the entire buffer, but will
  be narrowed to the current tree. Editing the indirect buffer will also
  change the original buffer, but without affecting visibility in that
  buffer. For more information about indirect buffers,
  <a href="info:emacs:Indirect Buffers">GNU Emacs Manual</a>.</p>
<p><sup><a class="footref" name="fnr.11" href="#fn.11">11</a></sup> If you do not want the line to be split, customize the
  variable <code>org-M-RET-may-split-line</code>.</p>
<p><sup><a class="footref" name="fnr.12" href="#fn.12">12</a></sup> See also the variables <code>org-show-hierarchy-above</code>,
  <code>org-show-following-heading</code>, <code>org-show-siblings</code>, and
  <code>org-show-entry-below</code> for detailed control on how much context is
  shown around each match.</p>
<p><sup><a class="footref" name="fnr.13" href="#fn.13">13</a></sup> This depends on the option <code>org-remove-highlights-with-change</code>.</p>
<p><sup><a class="footref" name="fnr.14" href="#fn.14">14</a></sup> This does not work under XEmacs, because XEmacs uses selective
  display for outlining, not text properties.</p>
<p><sup><a class="footref" name="fnr.15" href="#fn.15">15</a></sup> When using <code>*</code> as a bullet, lines must be indented or they will
  be seen as top-level headlines.  Also, when you are hiding leading
  stars to get a clean outline view, plain list items starting with a
  star may be hard to distinguish from true headlines.  In short: even
  though <code>*</code> is supported, it may be better to not use it for plain list
  items.</p>
<p><sup><a class="footref" name="fnr.16" href="#fn.16">16</a></sup> You can filter out any of them by configuring
  <code>org-plain-list-ordered-item-terminator</code>.</p>
<p><sup><a class="footref" name="fnr.17" href="#fn.17">17</a></sup> If there&#8217;s a checkbox in the item, the cookie must be put
  <span style="text-decoration:underline;">before</span> the checkbox.  If you have activated alphabetical lists, you
  can also use counters like <code>[@b]</code>.</p>
<p><sup><a class="footref" name="fnr.18" href="#fn.18">18</a></sup> Org only changes the filling settings for Emacs. For XEmacs,
  you should use Kyle E. Jones&#8217; {{{file(filladapt.el)}}}.</p>
<p><sup><a class="footref" name="fnr.19" href="#fn.19">19</a></sup> If you do not want the item to be split, customize the
  variable <code>org-M-RET-may-split-line</code>.</p>
<p><sup><a class="footref" name="fnr.20" href="#fn.20">20</a></sup> If you want to cycle around items that way, you may customize
  <code>org-list-use-circular-motion</code>.</p>
<p><sup><a class="footref" name="fnr.21" href="#fn.21">21</a></sup> See <code>org-list-use-circular-motion</code> for a cyclic behavior.</p>
<p><sup><a class="footref" name="fnr.24" href="#fn.24">24</a></sup> Centering does not work inside Emacs, but it does have an
  effect when exporting to HTML.</p>
<p><sup><a class="footref" name="fnr.26" href="#fn.26">26</a></sup> For backward compatibility you can also use special names like
  <code>$LR5</code> and <code>$LR12</code> to refer in a stable way to the fifth and twelfth
  field in the last row of the table. However, this syntax is
  deprecated, it should not be used for new documents. Use <code>@&gt;$</code>
  instead.</p>
<p><sup><a class="footref" name="fnr.25" href="#fn.25">25</a></sup> Org will understand references typed by the user as
  {{{samp(B4)}}}, but it will not use this syntax when offering a
  formula for editing. You can customize this behavior using the
  variable <code>org-table-use-standard-references</code>.</p>
<p><sup><a class="footref" name="fnr.22" href="#fn.22">22</a></sup> To insert a vertical bar into a table field, use <code>\vert</code> or,
  inside a word <code>abc\vert{}def</code>.</p>
<p><sup><a class="footref" name="fnr.23" href="#fn.23">23</a></sup> This feature does not work on XEmacs.</p>
<p><sup><a class="footref" name="fnr.27" href="#fn.27">27</a></sup> The computation time scales as O(N^2) because table FOO is
  parsed for each field to be copied.</p>
<p><sup><a class="footref" name="fnr.28" href="#fn.28">28</a></sup> The {{{file(calc)}}} package has the non-standard
  convention that <code>/</code> has lower precedence than <code>*</code>, so that <code>a/b*c</code> is
  interpreted as <code>a/(b*c)</code>.</p>
<p><sup><a class="footref" name="fnr.29" href="#fn.29">29</a></sup> The <code>printf</code> reformatting is limited in precision because the
  value passed to it is converted into an <code>integer</code> or <code>double</code>. The
  <code>integer</code> is limited in size by truncating the signed value to 32
  bits. The <code>double</code> is limited in precision to 64 bits overall which
  leaves approximately 16 significant decimal digits.</p>
<p><sup><a class="footref" name="fnr.30" href="#fn.30">30</a></sup> Such names must start with an alphabetic character and use
  only alphanumeric/underscore characters.</p>
<p><sup><a class="footref" name="fnr.31" href="#fn.31">31</a></sup> Note that text before the first headline is usually not
  exported, so the first such target should be after the first headline,
  or in the line directly before the first headline.</p>
<p><sup><a class="footref" name="fnr.32" href="#fn.32">32</a></sup> To insert a link targeting a headline, in-buffer completion
  can be used. Just type a star followed by a few optional letters into
  the buffer and press {{{kbdkey(M-,TAB)}}}. All headlines in the
  current buffer will be offered as completions.</p>
<p><sup><a class="footref" name="fnr.33" href="#fn.33">33</a></sup> The actual behavior of the search will depend on the value of
  the variable <code>org-link-search-must-match-exact-headline</code>. If its value
  is <code>nil</code>, then a fuzzy text search will be done. If it is <code>t</code>, then
  only the exact headline will be matched. If the value is
  {{{samp(&#8216;query-to-create)}}}, then an exact headline will be searched;
  if it is not found, then the user will be queried to create it.</p>
<p><sup><a class="footref" name="fnr.34" href="#fn.34">34</a></sup> If the headline contains a timestamp, it will be removed from
  the link and result in a wrong link &#8211; you should avoid putting a
  timestamp in the headline.</p>
<p><sup><a class="footref" name="fnr.35" href="#fn.35">35</a></sup> Note that you don&#8217;t have to use this command to insert a link.
  Links in Org are plain text, and you can type or paste them straight
  into the buffer. By using this command, the links are automatically
  enclosed in double brackets, and you will be asked for the optional
  descriptive text.</p>
<p><sup><a class="footref" name="fnr.36" href="#fn.36">36</a></sup> After insertion of a stored link, the link will be removed
  from the list of stored links. To keep it in the list later use, use a
  triple {{{kbd(C-u)}}} prefix argument to {{{kbd(C-c C-l)}}}, or
  configure the option <code>org-keep-stored-link-after-insertion</code>.</p>
<p><sup><a class="footref" name="fnr.37" href="#fn.37">37</a></sup> This works by calling a special function
  <code>org-PREFIX-complete-link</code>.</p>
<p><sup><a class="footref" name="fnr.38" href="#fn.38">38</a></sup> See the variable <code>org-display-internal-link-with-indirect-buffer</code>.</p>
<p><sup><a class="footref" name="fnr.44" href="#fn.44">44</a></sup> Check also the variable <code>org-fast-tag-selection-include-todo</code>,
  it allows you to change the TODO state through the tags interface
  (<a href="Setting tags">Setting tags</a>), in case you like to mingle the two concepts. Note that
  this means you need to come up with unique keys across both sets of
  keywords.</p>
<p><sup><a class="footref" name="fnr.39" href="#fn.39">39</a></sup> For backward compatibility, line numbers can also follow a
  single colon.</p>
<p><sup><a class="footref" name="fnr.40" href="#fn.40">40</a></sup> Of course, you can make a document that contains only long
  lists of TODO items, but this is not required.</p>
<p><sup><a class="footref" name="fnr.41" href="#fn.41">41</a></sup> Changing the variable <code>org-todo-keywords</code> only becomes
  effective after restarting Org mode in a buffer.</p>
<p><sup><a class="footref" name="fnr.42" href="#fn.42">42</a></sup> This is also true for the {{{kbd(t)}}} command in the timeline
  and agenda buffers.</p>
<p><sup><a class="footref" name="fnr.43" href="#fn.43">43</a></sup> All characters are allowed except <code>@^!</code>, which have a special
  meaning here.</p>
<p><sup><a class="footref" name="fnr.45" href="#fn.45">45</a></sup> Org mode parses these lines only when Org mode is activated
  after visiting a file. {{{kbd(C-c C-c)}}} with the cursor in a line
  starting with {{{samp(#+)}}} is simply restarting Org mode for the
  current buffer.</p>
<p><sup><a class="footref" name="fnr.46" href="#fn.46">46</a></sup> The corresponding in-buffer setting is: <code>#+STARTUP: logdone</code>.</p>
<p><sup><a class="footref" name="fnr.47" href="#fn.47">47</a></sup> The corresponding in-buffer setting is: <code>#+STARTUP: lognotedone</code>.</p>
<p><sup><a class="footref" name="fnr.48" href="#fn.48">48</a></sup> See the variable <code>org-log-states-order-reversed</code>.</p>
<p><sup><a class="footref" name="fnr.54" href="#fn.54">54</a></sup> {{{kbd(C-u C-c C-c)}}} on the <i>first</i> item of a list with no
  checkbox will add checkboxes to the rest of the list.</p>
<p><sup><a class="footref" name="fnr.49" href="#fn.49">49</a></sup> It is possible that Org mode will record two timestamps when
  you are using both <code>org-log-done</code> and state change logging. However,
  it will never prompt for two notes&#8212;if you have configured both, the
  state change recording note will take precedence and cancel the
  {{{samp(Closing Note)}}}.</p>
<p><sup><a class="footref" name="fnr.50" href="#fn.50">50</a></sup> See also the option <code>org-priority-start-cycle-with-default</code>.</p>
<p><sup><a class="footref" name="fnr.51" href="#fn.51">51</a></sup> To keep subtasks out of the global TODO list, see the
  <code>org-agenda-todo-list-sublevels</code>.</p>
<p><sup><a class="footref" name="fnr.52" href="#fn.52">52</a></sup> With the exception of description lists. But you can allow it
  by modifying <code>org-list-automatic-rules</code> accordingly.</p>
<p><sup><a class="footref" name="fnr.53" href="#fn.53">53</a></sup> Set the variable <code>org-hierarchical-checkbox-statistics</code> if you
  want such cookies to count all checkboxes below the cookie, not just
  those belonging to direct children.</p>
<p><sup><a class="footref" name="fnr.55" href="#fn.55">55</a></sup> As with all these in-buffer settings, pressing
  {{{kbd(C-c C-c)}}} activates any changes in the line.</p>
<p><sup><a class="footref" name="fnr.56" href="#fn.56">56</a></sup> This is only true if the search does not involve more complex
  tests including properties (see <a href="Property searches">Property searches</a>).</p>
<p><sup><a class="footref" name="fnr.57" href="#fn.57">57</a></sup> Keys will automatically be assigned to tags that have no
  configured keys.</p>
<p><sup><a class="footref" name="fnr.58" href="#fn.58">58</a></sup> Please note that the COLUMNS definition must be on a single
  line&#8212;it is wrapped here only because of formatting constraints.</p>
<p><sup><a class="footref" name="fnr.59" href="#fn.59">59</a></sup> Contributed packages are not part of Emacs, but are
  distributed with the main distribution of Org (visit
  <a href="http://orgmode.org">http://orgmode.org</a>).</p>
<p><sup><a class="footref" name="fnr.60" href="#fn.60">60</a></sup> The Org date format is inspired by the standard ISO 8601
  date/time format. To use an alternative format, see @&lt;a href=&#8221;Custom time
  format&#8221;&gt;Custom time
  format</a>. The day name is optional when you type the date yourself.
  However, any dates inserted or modified by Org will add that day name,
  for reading convenience.</p>
<p><sup><a class="footref" name="fnr.61" href="#fn.61">61</a></sup> When working with the standard diary sexp functions, you need
  to be very careful with the order of the arguments. That order depends
  evilly on the variable <code>calendar-date-style</code> (or, for older Emacs
  versions, <code>european-calendar-style</code>). For example, to specify a date
  December 12, 2005, the call might look like <code>(diary-date 12 1 2005)</code>
  or <code>(diary-date 1 12 2005)</code> or <code>(diary-date 2005 12 1)</code>, depending on
  the settings. This has been the source of much confusion. Org mode
  users can resort to special versions of these functions like
  <code>org-date</code> or <code>org-anniversary</code>. These work just like the
  corresponding <code>diary-</code> functions, but with stable ISO order of
  arguments (year, month, day) wherever applicable, independent of the
  value of <code>calendar-date-style</code>.</p>
<p><sup><a class="footref" name="fnr.62" href="#fn.62">62</a></sup> See the variable <code>org-read-date-prefer-future</code>. You may
  set that variable to the symbol <code>time</code> to even make a time before now
  shift the date to tomorrow.</p>
<p><sup><a class="footref" name="fnr.63" href="#fn.63">63</a></sup> If you don&#8217;t need/want the calendar, configure the variable
  <code>org-popup-calendar-for-date-prompt</code>.</p>
<p><sup><a class="footref" name="fnr.64" href="#fn.64">64</a></sup> If you find this distracting, turn off the display with
  <code>org-read-date-display-live</code>.</p>
<p><sup><a class="footref" name="fnr.65" href="#fn.65">65</a></sup> It will still be listed on that date after it has been marked
  DONE. If you don&#8217;t like this, set the variable
  <code>org-agenda-skip-scheduled-if-done</code>.</p>
<p><sup><a class="footref" name="fnr.66" href="#fn.66">66</a></sup> The {{{samp(SCHEDULED)}}} and {{{samp(DEADLINE)}}} dates are
  inserted on the line right below the headline. Don&#8217;t put any text
  between this line and the headline.</p>
<p><sup><a class="footref" name="fnr.67" href="#fn.67">67</a></sup> Note the corresponding <code>#+STARTUP</code> keywords <code>logredeadline</code>,
  <code>lognoteredeadline</code>, and <code>nologredeadline</code>.</p>
<p><sup><a class="footref" name="fnr.68" href="#fn.68">68</a></sup> Note the corresponding <code>#+STARTUP</code> keywords <code>logreschedule</code>,
  <code>lognotereschedule</code>, and <code>nologreschedule</code>.</p>
<p><sup><a class="footref" name="fnr.69" href="#fn.69">69</a></sup> In fact, the target state is taken from, in this sequence, the
  <code>REPEAT_TO_STATE</code> property or the variable <code>org-todo-repeat-to-state</code>.
  If neither of these is specified, the target state defaults to the
  first state of the TODO state sequence.</p>
<p><sup><a class="footref" name="fnr.70" href="#fn.70">70</a></sup> You can change this using the option <code>org-log-repeat</code>, or the
  <code>#+STARTUP</code> options <code>logrepeat</code>, <code>lognoterepeat</code>, and <code>nologrepeat</code>.
  With <code>lognoterepeat</code>, you will also be prompted for a note.</p>
<p><sup><a class="footref" name="fnr.71" href="#fn.71">71</a></sup> Clocking only works if all headings are indented with less
  than 30 stars. This is a hardcoded limitation of <code>lmax</code> in
  <code>org-clock-sum</code>.</p>
<p><sup><a class="footref" name="fnr.72" href="#fn.72">72</a></sup> To resume the clock under the assumption that you have worked
  on this task while outside Emacs, use <code>(setq org-clock-persist t)</code>.</p>
<p><sup><a class="footref" name="fnr.73" href="#fn.73">73</a></sup> To add an effort estimate &#8220;on the fly&#8221;, hook a function
  doing this to <code>org-clock-in-prepare-hook</code>.</p>
<p><sup><a class="footref" name="fnr.74" href="#fn.74">74</a></sup> The last reset of the task is recorded by the <code>LAST_REPEAT</code>
  property.</p>
<p><sup><a class="footref" name="fnr.75" href="#fn.75">75</a></sup> See also the variable <code>org-clock-modeline-total</code>.</p>
<p><sup><a class="footref" name="fnr.76" href="#fn.76">76</a></sup> The corresponding in-buffer setting is:
  <code>#+STARTUP: lognoteclock-out</code>.</p>
<p><sup><a class="footref" name="fnr.77" href="#fn.77">77</a></sup> Language terms can be set through the variable
  <code>org-clock-clocktable-language-setup</code>.</p>
<p><sup><a class="footref" name="fnr.78" href="#fn.78">78</a></sup> Note that all parameters must be specified in a single
  line&#8212;the line is broken here only to fit it into the manual.</p>
<p><sup><a class="footref" name="fnr.79" href="#fn.79">79</a></sup> On computers using Mac OS X, idleness is based on actual user
  idleness, not just Emacs&#8217; idle time. For X11, you can install a
  utility program {{{file(x11idle.c)}}}, available in the
  <code>contrib/scripts</code> directory of the Org git distribution, to get the
  same general treatment of idleness. On other systems, idle time refers
  to Emacs idle time only.</p>
<p><sup><a class="footref" name="fnr.80" href="#fn.80">80</a></sup> You may change the property being used with the variable
  <code>org-effort-property</code>.</p>
<p><sup><a class="footref" name="fnr.86" href="#fn.86">86</a></sup> Note the corresponding <code>#+STARTUP</code> keywords <code>logrefile</code>,
  <code>lognoterefile</code>, and <code>nologrefile</code>.</p>
<p><sup><a class="footref" name="fnr.81" href="#fn.81">81</a></sup> Please select your own key, {{{kbd(C-c c)}}} is only a
  suggestion.</p>
<p><sup><a class="footref" name="fnr.82" href="#fn.82">82</a></sup> If you need one of these sequences literally, escape the
  {{{kbd(%)}}} with a backslash.</p>
<p><sup><a class="footref" name="fnr.83" href="#fn.83">83</a></sup> If you define your own link types (see @&lt;a href=&#8221;Adding hyperlink
  types&#8221;&gt;Adding hyperlink
  types</a>), any property you store with <code>org-store-link-props</code> can be
  accessed in capture templates in a similar way.</p>
<p><sup><a class="footref" name="fnr.84" href="#fn.84">84</a></sup> This will always be the other, not the user.  See the variable
  <code>org-from-is-user-regexp</code>.</p>
<p><sup><a class="footref" name="fnr.85" href="#fn.85">85</a></sup> If you move entries or Org files from one directory to
  another, you may want to configure <code>org-attach-directory</code> to contain
  an absolute path.</p>
<p><sup><a class="footref" name="fnr.87" href="#fn.87">87</a></sup> For backward compatibility, the following also works: If there
  are several such lines in a file, each specifies the archive location
  for the text below it. The first such line also applies to any text
  before its definition. However, using this method is <i>strongly</i>
  deprecated as it is incompatible with the outline structure of the
  document. The correct method for setting multiple archive locations in
  a buffer is using properties.</p>
<p><sup><a class="footref" name="fnr.94" href="#fn.94">94</a></sup> Only tags filtering will be respected here, effort filtering
  is ignored.</p>
<p><sup><a class="footref" name="fnr.88" href="#fn.88">88</a></sup> When using the dispatcher, pressing {{{kbd(&lt;)}}} before
  selecting a command will actually limit the command to the current
  file, and ignore <code>org-agenda-files</code> until the next dispatcher command.</p>
<p><sup><a class="footref" name="fnr.89" href="#fn.89">89</a></sup> For backward compatibility, you can also press {{{kbd(1)}}} to
  restrict to the current buffer.</p>
<p><sup><a class="footref" name="fnr.90" href="#fn.90">90</a></sup> For backward compatibility, you can also press {{{kbd(0)}}} to
  restrict to the current region/subtree.</p>
<p><sup><a class="footref" name="fnr.91" href="#fn.91">91</a></sup> For backward compatibility, the universal prefix
  {{{kbd(C-u)}}} causes all TODO entries to be listed before the agenda.
  This feature is deprecated, use the dedicated TODO list, or a block
  agenda instead (see <a href="Block agenda">Block agenda</a>).</p>
<p><sup><a class="footref" name="fnr.92" href="#fn.92">92</a></sup> But see <a href="x-agenda-skip-entry-regexp">skipping entries based on regexp</a>.</p>
<p><sup><a class="footref" name="fnr.93" href="#fn.93">93</a></sup> For backward compatibility, the following also works: if
  there are several such lines in a file, each specifies the category
  for the text below it. The first category also applies to any text
  before the first CATEGORY line. However, using this method is
  <i>strongly</i> deprecated as it is incompatible with the outline structure
  of the document. The correct method for setting multiple categories in
  a buffer is using a property.</p>
<p><sup><a class="footref" name="fnr.95" href="#fn.95">95</a></sup> Custom commands can preset a filter by binding the variable
  <code>org-agenda-tag-filter-preset</code> as an option. This filter will then be
  applied to the view and persist as a basic filter through refreshes
  and more secondary filtering. The filter is a global property of the
  entire agenda view&#8212;in a block agenda, you should only set this in
  the global options section, not in the section of an individual block.</p>
<p><sup><a class="footref" name="fnr.96" href="#fn.96">96</a></sup> You can also create persistent custom functions through
  <code>org-agenda-bulk-custom-functions</code>.</p>
<p><sup><a class="footref" name="fnr.97" href="#fn.97">97</a></sup> The Emacs diary file is parsed for the agenda when
  <code>org-agenda-include-diary</code> is set.</p>
<p><sup><a class="footref" name="fnr.98" href="#fn.98">98</a></sup> You can provide a description for a prefix key by inserting a
  cons cell with the prefix and the description.</p>
<p><sup><a class="footref" name="fnr.99" href="#fn.99">99</a></sup> For HTML you need to install Hrvoje Niksic&#8217;s
  {{{file(htmlize.el)}}}. To create PDF output, the ghostscript
  {{{file(ps2pdf)}}} utility must be installed on the system. Selecting
  a PDF file will also create the postscript file.</p>
<p><sup><a class="footref" name="fnr.100" href="#fn.100">100</a></sup> If you want to store standard views like the weekly agenda or
  the global TODO list as well, you need to define custom commands for
  them in order to be able to specify file names.</p>
<p><sup><a class="footref" name="fnr.101" href="#fn.101">101</a></sup> Quoting depends on the system you use, please check the FAQ
  for examples.</p>
<p><sup><a class="footref" name="fnr.102" href="#fn.102">102</a></sup> This works automatically for the HTML backend (it requires
  version 1.34 of the {{{file(htmlize.el)}}} package, which is
  distributed with Org). Fontified code chunks in LaTeX can be
  achieved using either the listings package or the <a href="http://code.google.com/p/minted">minted</a> package.
  Refer to <code>org-export-latex-listings</code> documentation for details.</p>
<p><sup><a class="footref" name="fnr.103" href="#fn.103">103</a></sup> Code in {{{samp(src)}}} blocks may also be evaluated either
  interactively or on export. See see <a href="Working with source code">Working with source code</a> for more
  information on evaluating code blocks.</p>
<p><sup><a class="footref" name="fnr.104" href="#fn.104">104</a></sup> Adding <code>-k</code> to <code>-n -r</code> will <i>keep</i> the labels in the source
  code while using line numbers for the links, which might be useful to
  explain those in an Org mode example code.</p>
<p><sup><a class="footref" name="fnr.105" href="#fn.105">105</a></sup> Upon exit, lines starting with {{{samp(*)}}}, {{{samp(\,*)}}},
  {{{samp(#+)}}} and {{{samp(\,#+)}}} will get a comma prepended, to keep
  them from being interpreted by Org as outline nodes or special syntax.
  These commas will be stripped for editing with {{{kbd(C-c &#8216;)}}}, and
  also for export.</p>
<p><sup><a class="footref" name="fnr.106" href="#fn.106">106</a></sup> You may select a different-mode with the variable
  <code>org-edit-fixed-width-region-mode</code>.</p>
<p><sup><a class="footref" name="fnr.107" href="#fn.107">107</a></sup> LaTeX is a macro system based on Donald E. Knuth&#8217;s TeX
  system. Many of the features described here as LaTeX are really
  from TeX, but for simplicity I am blurring this distinction.</p>
<p><sup><a class="footref" name="fnr.108" href="#fn.108">108</a></sup> You can turn this on by default by setting the variable
  <code>org-pretty-entities</code>, or on a per-file base with the <code>#+STARTUP</code>
  option <code>entitiespretty</code>.</p>
<p><sup><a class="footref" name="fnr.109" href="#fn.109">109</a></sup> If you plan to use this regularly or on pages with
  significant page views, you should install {{{file(MathJax)}}} on your
  own server in order to limit the load of our server.</p>
<p><sup><a class="footref" name="fnr.110" href="#fn.110">110</a></sup> For this to work you need to be on a system with a working
  LaTeX installation. You also need the {{{file(dvipng)}}} program or
  the {{{file(convert)}}}, respectively available at
  <a href="http://sourceforge.net/projects/dvipng/">http://sourceforge.net/projects/dvipng/</a> and from the
  {{{file(ImageMagick)}}} suite. The LaTeX header that will be used
  when processing a fragment can be configured with the variable
  <code>org-format-latex-header</code>.</p>
<p><sup><a class="footref" name="fnr.111" href="#fn.111">111</a></sup> When {{{file(MathJax)}}} is used, only the environment
  recognized by {{{file(MathJax)}}} will be processed. When
  {{{file(dvipng)}}} is used to create images, any LaTeX environments
  will be handled.</p>
<p><sup><a class="footref" name="fnr.112" href="#fn.112">112</a></sup> Org mode has a method to test if the cursor is inside such a
  fragment, see the documentation of the function
  <code>org-inside-LaTeX-fragment-p</code>.</p>
<p><sup><a class="footref" name="fnr.113" href="#fn.113">113</a></sup> The variable <code>org-export-date-timestamp-format</code> defines how
  this timestamp will be exported.</p>
<p><sup><a class="footref" name="fnr.114" href="#fn.114">114</a></sup> If you want to configure many options this way, you can use
  several <code>#+OPTIONS</code> lines.</p>
<p><sup><a class="footref" name="fnr.115" href="#fn.115">115</a></sup> To make this behavior the default, customize the variable
  <code>org-export-run-in-background</code>.</p>
<p><sup><a class="footref" name="fnr.116" href="#fn.116">116</a></sup> This requires <code>transient-mark-mode</code> be turned on.</p>
<p><sup><a class="footref" name="fnr.117" href="#fn.117">117</a></sup> To select the current subtree, use {{{kbd(C-c @)}}}.</p>
<p><sup><a class="footref" name="fnr.118" href="#fn.118">118</a></sup> This requires <code>transient-mark-mode</code> be turned on.</p>
<p><sup><a class="footref" name="fnr.119" href="#fn.119">119</a></sup> To select the current subtree, use {{{kbd(C-c @)}}}.</p>
<p><sup><a class="footref" name="fnr.120" href="#fn.120">120</a></sup> But see the variable <code>org-export-html-inline-images</code>.</p>
<p><sup><a class="footref" name="fnr.121" href="#fn.121">121</a></sup> If you plan to use this regularly or on pages with
  significant page views, you should install MathJax on your own server
  in order to limit the load of our server. Installation instructions
  can be found on the MathJax website, see
  <a href="http://www.mathjax.org/resources/docs/?installation.html">http://www.mathjax.org/resources/docs/?installation.html</a>.</p>
<p><sup><a class="footref" name="fnr.122" href="#fn.122">122</a></sup> If the classes on TODO keywords and tags lead to conflicts,
  use the variables <code>org-export-html-todo-kwd-class-prefix</code> and
  <code>org-export-html-tag-class-prefix</code> to make them unique.</p>
<p><sup><a class="footref" name="fnr.123" href="#fn.123">123</a></sup> This style is defined in the constant
  <code>org-export-html-style-default</code>, which you should not modify. To turn
  inclusion of these defaults off, customize
  <code>org-export-html-style-include-default</code>.</p>
<p><sup><a class="footref" name="fnr.124" href="#fn.124">124</a></sup> The default LaTeX output is designed for processing with
  <code>pdftex</code> or LaTeX. It includes packages that are not compatible
  with <code>xetex</code> and possibly <code>luatex</code>. See the variables
  <code>org-export-latex-default-packages-alist</code> and
  <code>org-export-latex-packages-alist</code>.</p>
<p><sup><a class="footref" name="fnr.125" href="#fn.125">125</a></sup> This requires <code>transient-mark-mode</code> be turned on.</p>
<p><sup><a class="footref" name="fnr.126" href="#fn.126">126</a></sup> To select the current subtree, use {{{kbd(C-c @)}}}.</p>
<p><sup><a class="footref" name="fnr.127" href="#fn.127">127</a></sup> Into which the values of
  <code>org-export-latex-default-packages-alist</code> and
  <code>org-export-latex-packages-alist</code> are spliced.</p>
<p><sup><a class="footref" name="fnr.128" href="#fn.128">128</a></sup> One can also take advantage of this option to pass other,
  unrelated options into the figure or table environment. For an example
  see the section &#8220;Exporting org files&#8221; in
  <a href="http://orgmode.org/worg/org-hacks.html">http://orgmode.org/worg/org-hacks.html</a>.</p>
<p><sup><a class="footref" name="fnr.129" href="#fn.129">129</a></sup> This requires <code>transient-mark-mode</code> to be turned on.</p>
<p><sup><a class="footref" name="fnr.130" href="#fn.130">130</a></sup> To select the current subtree, use {{{kbd(C-c @)}}}.</p>
<p><sup><a class="footref" name="fnr.131" href="#fn.131">131</a></sup> ODT export was added in Org mode version 7.8.</p>
<p><sup><a class="footref" name="fnr.132" href="#fn.132">132</a></sup> See <a href="http://docs.oasis-open.org/office/v1.2/OpenDocument-v1.2.html">Open Document Format for Office Applications (OpenDocument)
  Version 1.2</a>.</p>
<p><sup><a class="footref" name="fnr.133" href="#fn.133">133</a></sup> This requires <code>transient-mark-mode</code> to be turned on.</p>
<p><sup><a class="footref" name="fnr.134" href="#fn.134">134</a></sup> To select the current subtree, use {{{kbd(C-c @)}}}.</p>
<p><sup><a class="footref" name="fnr.135" href="#fn.135">135</a></sup> The column widths are interpreted as weighted ratios with the
  default weight being 1.</p>
<p><sup><a class="footref" name="fnr.136" href="#fn.136">136</a></sup> Use of {{{file(ImageMagick)}}} is only desirable. However, if
  you routinely produce documents that have large images or you export
  your Org files that has images using a Emacs batch script, then the
  use of {{{file(ImageMagick)}}} is mandatory.</p>
<p><sup><a class="footref" name="fnr.137" href="#fn.137">137</a></sup> See <a href="http://www.mathtoweb.com/cgi-bin/mathtoweb_home.pl">MathToWeb</a>.</p>
<p><sup><a class="footref" name="fnr.138" href="#fn.138">138</a></sup> Your {{{file(htmlfontify.el)}}} library must at least be at
  Emacs 24.1 levels for fontification to be turned on.</p>
<p><sup><a class="footref" name="fnr.139" href="#fn.139">139</a></sup> See <a href="http://docs.oasis-open.org/office/v1.2/OpenDocument-v1.2.html">OpenDocument-v1.2 Specification</a>.</p>
<p><sup><a class="footref" name="fnr.140" href="#fn.140">140</a></sup> See the <code>&lt;table:table-template&gt;</code> element of the
  OpenDocument-v1.2 specification.</p>
<p><sup><a class="footref" name="fnr.141" href="#fn.141">141</a></sup> See the attributes <code>table:template-name</code>,
  <code>table:use-first-row-styles</code>, <code>table:use-last-row-styles</code>,
  <code>table:use-first-column-styles</code>, <code>table:use-last-column-styles</code>,
  <code>table:use-banding-rows-styles</code>, and <code>table:use-banding-column-styles</code>
  of the <code>&lt;table:table&gt;</code> element in the OpenDocument-v1.2 specification.</p>
<p><sup><a class="footref" name="fnr.142" href="#fn.142">142</a></sup> Note that {{{file(.odt)}}} files are {{{samp(zip)}}}
  archives.</p>
<p><sup><a class="footref" name="fnr.143" href="#fn.143">143</a></sup> See the variables <code>org-icalendar-use-deadline</code> and
  <code>org-icalendar-use-scheduled</code>.</p>
<p><sup><a class="footref" name="fnr.144" href="#fn.144">144</a></sup> To add inherited tags or the TODO state, configure the
  variable <code>org-icalendar-categories</code>.</p>
<p><sup><a class="footref" name="fnr.145" href="#fn.145">145</a></sup> The LOCATION property can be inherited from higher in the
  hierarchy if you configure <code>org-use-property-inheritance</code> accordingly.</p>
<p><sup><a class="footref" name="fnr.146" href="#fn.146">146</a></sup> The files {{{file(file-source.org)}}} and
  {{{file(file-source.org.html)}}} if source and publishing directories
  are equal. Note that with this kind of setup, you need to add
  <code>:exclude &quot;-source\\.org&quot;~ to the project definition in
  ~org-publish-project-alist</code> to prevent the published source files from
  being considered as new org files the next time the project is
  published.</p>
<p><sup><a class="footref" name="fnr.147" href="#fn.147">147</a></sup> Note that {{{samp(src)}}} blocks may be inserted using Org
  mode&#8217;s <a href="Easy templates">Easy templates</a> system.</p>
<p><sup><a class="footref" name="fnr.148" href="#fn.148">148</a></sup> Whenever code is evaluated there is a potential for that code
  to do harm. Org mode provides safeguards to ensure that code is only
  evaluated after explicit confirmation from the user. For information
  on these safeguards (and on how to disable them) see @&lt;a href=&#8221;Code evaluation
  security&#8221;&gt;Code evaluation
  security</a>.</p>
<p><sup><a class="footref" name="fnr.149" href="#fn.149">149</a></sup> The <code>org-babel-no-eval-on-ctrl-c-ctrl-c</code> variable can be used
  to remove code evaluation from the {{{kbd(C-c C-c)}}} key binding.</p>
<p><sup><a class="footref" name="fnr.150" href="#fn.150">150</a></sup> Note that evaluation of header arguments is guaranteed to
  take place in the original Org mode file, while there is no such
  guarantee for evaluation of the code block body.</p>
<p><sup><a class="footref" name="fnr.151" href="#fn.151">151</a></sup> The example requires that property inheritance be turned on
  for the <code>noweb-ref</code> property, see <a href="Property inheritance">Property inheritance</a>.</p>
<p><sup><a class="footref" name="fnr.152" href="#fn.152">152</a></sup> In certain languages this also contains the error output
  stream; this is an area for future work.</p>
<p><sup><a class="footref" name="fnr.153" href="#fn.153">153</a></sup> The last evaluation performed by the interpreter is obtained
  in a language-specific manner: the value of the variable <code>_</code> in Python
  and Ruby, and the value of <code>.Last.value</code> in R.</p>
<p><sup><a class="footref" name="fnr.161" href="#fn.161">161</a></sup> If the {{{samp(#+TBLFM)}}} line contains an odd number of
  dollar characters, this may cause problems with font-lock in LaTeX
  mode. As shown in the example you can fix this by adding an extra line
  inside the <code>comment</code> environment that is used to balance the dollar
  expressions. If you are using AUCTeX with the font-latex library, a
  much better solution is to add the <code>comment</code> environment to the
  variable <code>LaTeX-verbatim-environments</code>.</p>
<p><sup><a class="footref" name="fnr.162" href="#fn.162">162</a></sup> The HTML translator uses the same code that produces tables
  during HTML export.</p>
<p><sup><a class="footref" name="fnr.154" href="#fn.154">154</a></sup> Note that <code>org-indent-mode</code> also sets the <code>wrap-prefix</code>
  property, such that <code>visual-line-mode</code> (or purely setting <code>word-wrap</code>)
  wraps long lines (including headlines) correctly indented.</p>
<p><sup><a class="footref" name="fnr.155" href="#fn.155">155</a></sup> See the variable <code>org-indent-indentation-per-level</code>.</p>
<p><sup><a class="footref" name="fnr.156" href="#fn.156">156</a></sup> Turning on <code>org-indent-mode</code> sets <code>org-hide-leading-stars</code> to
  <code>t</code> and <code>org-adapt-indentation</code> to <code>nil</code>.</p>
<p><sup><a class="footref" name="fnr.157" href="#fn.157">157</a></sup> See also the variable <code>org-adapt-indentation</code>.</p>
<p><sup><a class="footref" name="fnr.158" href="#fn.158">158</a></sup> When you need to specify a level for a property search or
  refile targets, <code>LEVEL=2</code> will correspond to 3 stars, etc.</p>
<p><sup><a class="footref" name="fnr.159" href="#fn.159">159</a></sup> The {{{file(org-R.el)}}} package has been replaced by the
  Org mode functionality described in <a href="Working with source code">Working with source code</a> and is
  now obsolete.</p>
<p><sup><a class="footref" name="fnr.160" href="#fn.160">160</a></sup> By default this works only for LaTeX, HTML, and Texinfo.
  Configure the variable <code>orgtbl-radio-tables</code> to install templates for
  other modes.</p>
<p><sup><a class="footref" name="fnr.163" href="#fn.163">163</a></sup> Note that, when using <code>org-odd-levels-only</code>, a level number
  corresponds to order in the hierarchy, not to the number of stars.</p>
<p><sup><a class="footref" name="fnr.164" href="#fn.164">164</a></sup> If you can safely store the password in your Emacs setup, you
  might also want to configure `org-mobile-encryption-password&#8217;.  Please
  read the docstring of that variable.  Note that encryption will apply
  only to the contents of the `.org&#8217; files.  The file names themselves
  will remain visible.</p>
<p><sup><a class="footref" name="fnr.165" href="#fn.165">165</a></sup> If you cannot use Dropbox, or if your version of MobileOrg
  does not support it, you can use a webdav server. For more
  information, check out the documentation of MobileOrg and also this
  <a href="http://orgmode.org/worg/org-faq.html#mobileorg_webdav">FAQ entry</a>.</p>
<p><sup><a class="footref" name="fnr.166" href="#fn.166">166</a></sup> While creating the agendas, Org mode will force ID properties
  on all referenced entries, so that these entries can be uniquely
  identified if <i>MobileOrg</i> flags them for further action. If you do not
  want to get these properties in so many entries, you can set the
  variable <code>org-mobile-force-id-on-agenda-items</code> to <code>nil</code>. Org mode will
  then rely on outline paths, in the hope that these will be unique
  enough.</p>
<p><sup><a class="footref" name="fnr.167" href="#fn.167">167</a></sup> Checksums are stored automatically in the file
  {{{file(checksums.dat)}}}.</p>
<p><sup><a class="footref" name="fnr.168" href="#fn.168">168</a></sup> The file {{{file(mobileorg.org)}}} will be empty after this
  operation.</p>
<p><sup><a class="footref" name="fnr.169" href="#fn.169">169</a></sup> Note, however, that there is a subtle difference. The view
  created automatically by {{{kbdspckey(M-x org-mobile-pull,RET)}}} is
  guaranteed to search all files that have been addressed by the last
  pull. This might include a file that is not currently in your list of
  agenda files. If you later use {{{kbd(C-c a ?)}}} to regenerate the
  view, only the current agenda files will be searched.</p>
<p><sup><a class="footref" name="fnr.170" href="#fn.170">170</a></sup> You can also get `a.&#8217;, `A.&#8217;, `a)&#8217; and `A)&#8217; by configuring
  `org-alphabetical-lists&#8217;.  To minimize confusion with normal text,
  those are limited to one character only.  Beyond that limit, bullets
  will automatically fallback to numbers.</p>
<p><sup><a class="footref" name="fnr.171" href="#fn.171">171</a></sup> See also <code>org-empty-line-terminates-plain-lists</code>.</p>
<p><sup><a class="footref" name="fnr.172" href="#fn.172">172</a></sup> You can define additional drawers on a per-file basis with a
  line like <code>#+DRAWERS: HIDDEN STATE</code>.</p>
<p><sup><a class="footref" name="fnr.173" href="#fn.173">173</a></sup> The corresponding in-buffer setting is: <code>#+STARTUP: fninline</code> or
  <code>#+STARTUP: nofninline</code>.</p>
<p><sup><a class="footref" name="fnr.174" href="#fn.174">174</a></sup> The corresponding in-buffer options are <code>#+STARTUP: fnadjust</code> and
  <code>#+STARTUP: nofnadjust</code>.</p>
<p><sup><a class="footref" name="fnr.175" href="#fn.175">175</a></sup> The file {{{file(constants.el)}}} can supply the values of constants in two
  different unit systems, <code>SI</code> and <code>cgs</code>.  Which one is used depends on
  the value of the variable <code>constants-unit-system</code>.  You can use the
  <code>#+STARTUP:</code> options <code>constSI</code> and <code>constcgs</code> to set this value for the
  current buffer.</p>
<p><sup><a class="footref" name="fnr.176" href="#fn.176">176</a></sup> The library {{{file(org-id)}}} must first be loaded, either through
  <code>org-customize</code> by enabling <code>id</code> in <code>org-modules</code>, or by adding
  <code>(require 'org-id)</code> in your {{{file(.emacs)}}}.</p>
<p><sup><a class="footref" name="fnr.177" href="#fn.177">177</a></sup> The variable <code>org-startup-with-inline-images</code> can be set
  within a buffer with the <code>#+STARTUP:</code> keywords <code>inlineimages</code> and
  <code>noinlineimages</code>.</p>
<p><sup><a class="footref" name="fnr.178" href="#fn.178">178</a></sup> Note that the <code>LOGBOOK</code> drawer is unfolded when pressing
  {{{key(SPC)}}} in the agenda to show an entry&#8212;use
  {{{kbdspckey(C-u,SPC)}}} to keep it folded here.</p>
<p><sup><a class="footref" name="fnr.179" href="#fn.179">179</a></sup> Please note the pitfalls of summing hierarchical data in a flat
  list (<a href="Agenda column view">Agenda column view</a>).</p>
<p><sup><a class="footref" name="fnr.180" href="#fn.180">180</a></sup> If the value of that variable is not a list, but a single file
  name, then the list of agenda files will be maintained in that external
  file.</p>
<p><sup><a class="footref" name="fnr.181" href="#fn.181">181</a></sup> The variable {{{code(org-anniversary)}}} used in the example
  is just like {{{code(diary-anniversary)}}}, but the argument order is
  always according to ISO and therefore independent of the value of
  {{{code(calendar-date-style)}}}.</p>
<p><sup><a class="footref" name="fnr.182" href="#fn.182">182</a></sup> Emacs 23 and Org mode 6.29 are required.</p>
<p><sup><a class="footref" name="fnr.183" href="#fn.183">183</a></sup> Emacs 23.1 can actually crash with <code>org-indent-mode</code>.</p>
<p><sup><a class="footref" name="fnr.184" href="#fn.184">184</a></sup> Symbolic links in <code>org-directory</code> need to have the same name
  as their targets.</p>
